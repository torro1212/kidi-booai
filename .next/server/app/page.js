/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"9b1634e52d04\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIkM6XFxDdXJzb3JcXGtpZGktYm9vYWlcXGFwcFxcZ2xvYmFscy5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI5YjE2MzRlNTJkMDRcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Nunito_arguments_subsets_latin_variable_font_nunito_display_swap_variableName_nunito___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app\\\\layout.tsx\",\"import\":\"Nunito\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-nunito\",\"display\":\"swap\"}],\"variableName\":\"nunito\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Nunito\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-nunito\\\",\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"nunito\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Nunito_arguments_subsets_latin_variable_font_nunito_display_swap_variableName_nunito___WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Nunito_arguments_subsets_latin_variable_font_nunito_display_swap_variableName_nunito___WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Fredoka_arguments_subsets_latin_variable_font_fredoka_display_swap_variableName_fredoka___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app\\\\layout.tsx\",\"import\":\"Fredoka\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-fredoka\",\"display\":\"swap\"}],\"variableName\":\"fredoka\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Fredoka\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-fredoka\\\",\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"fredoka\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Fredoka_arguments_subsets_latin_variable_font_fredoka_display_swap_variableName_fredoka___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Fredoka_arguments_subsets_latin_variable_font_fredoka_display_swap_variableName_fredoka___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Rubik_arguments_subsets_latin_hebrew_variable_font_rubik_display_swap_variableName_rubik___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app\\\\layout.tsx\",\"import\":\"Rubik\",\"arguments\":[{\"subsets\":[\"latin\",\"hebrew\"],\"variable\":\"--font-rubik\",\"display\":\"swap\"}],\"variableName\":\"rubik\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Rubik\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\",\\\"hebrew\\\"],\\\"variable\\\":\\\"--font-rubik\\\",\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"rubik\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Rubik_arguments_subsets_latin_hebrew_variable_font_rubik_display_swap_variableName_rubik___WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Rubik_arguments_subsets_latin_hebrew_variable_font_rubik_display_swap_variableName_rubik___WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n\n\n\n\n\nconst metadata = {\n    title: 'KidCraft AI - Create. Learn. Grow.',\n    description: 'Create magical children\\'s books with AI'\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"he\",\n        dir: \"rtl\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: `${(next_font_google_target_css_path_app_layout_tsx_import_Nunito_arguments_subsets_latin_variable_font_nunito_display_swap_variableName_nunito___WEBPACK_IMPORTED_MODULE_2___default().variable)} ${(next_font_google_target_css_path_app_layout_tsx_import_Fredoka_arguments_subsets_latin_variable_font_fredoka_display_swap_variableName_fredoka___WEBPACK_IMPORTED_MODULE_3___default().variable)} ${(next_font_google_target_css_path_app_layout_tsx_import_Rubik_arguments_subsets_latin_hebrew_variable_font_rubik_display_swap_variableName_rubik___WEBPACK_IMPORTED_MODULE_4___default().variable)} font-sans`,\n            children: children\n        }, void 0, false, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\layout.tsx\",\n            lineNumber: 35,\n            columnNumber: 13\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\layout.tsx\",\n        lineNumber: 34,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFJTUE7QUFNQUM7QUFNQUM7QUFkZ0I7QUFvQmYsTUFBTUMsV0FBcUI7SUFDOUJDLE9BQU87SUFDUEMsYUFBYTtBQUNqQixFQUFDO0FBRWMsU0FBU0MsV0FBVyxFQUMvQkMsUUFBUSxFQUdYO0lBQ0cscUJBQ0ksOERBQUNDO1FBQUtDLE1BQUs7UUFBS0MsS0FBSTtrQkFDaEIsNEVBQUNDO1lBQUtDLFdBQVcsR0FBR1osOExBQWUsQ0FBQyxDQUFDLEVBQUVDLGlNQUFnQixDQUFDLENBQUMsRUFBRUMsa01BQWMsQ0FBQyxVQUFVLENBQUM7c0JBQ2hGSzs7Ozs7Ozs7Ozs7QUFJakIiLCJzb3VyY2VzIjpbIkM6XFxDdXJzb3JcXGtpZGktYm9vYWlcXGFwcFxcbGF5b3V0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSAnbmV4dCdcclxuaW1wb3J0IHsgTnVuaXRvLCBGcmVkb2thLCBSdWJpayB9IGZyb20gJ25leHQvZm9udC9nb29nbGUnXHJcbmltcG9ydCAnLi9nbG9iYWxzLmNzcydcclxuXHJcbmNvbnN0IG51bml0byA9IE51bml0byh7XHJcbiAgICBzdWJzZXRzOiBbJ2xhdGluJ10sXHJcbiAgICB2YXJpYWJsZTogJy0tZm9udC1udW5pdG8nLFxyXG4gICAgZGlzcGxheTogJ3N3YXAnLFxyXG59KVxyXG5cclxuY29uc3QgZnJlZG9rYSA9IEZyZWRva2Eoe1xyXG4gICAgc3Vic2V0czogWydsYXRpbiddLFxyXG4gICAgdmFyaWFibGU6ICctLWZvbnQtZnJlZG9rYScsXHJcbiAgICBkaXNwbGF5OiAnc3dhcCcsXHJcbn0pXHJcblxyXG5jb25zdCBydWJpayA9IFJ1YmlrKHtcclxuICAgIHN1YnNldHM6IFsnbGF0aW4nLCAnaGVicmV3J10sXHJcbiAgICB2YXJpYWJsZTogJy0tZm9udC1ydWJpaycsXHJcbiAgICBkaXNwbGF5OiAnc3dhcCcsXHJcbn0pXHJcblxyXG5leHBvcnQgY29uc3QgbWV0YWRhdGE6IE1ldGFkYXRhID0ge1xyXG4gICAgdGl0bGU6ICdLaWRDcmFmdCBBSSAtIENyZWF0ZS4gTGVhcm4uIEdyb3cuJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlIG1hZ2ljYWwgY2hpbGRyZW5cXCdzIGJvb2tzIHdpdGggQUknLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHtcclxuICAgIGNoaWxkcmVuLFxyXG59OiB7XHJcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXHJcbn0pIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGh0bWwgbGFuZz1cImhlXCIgZGlyPVwicnRsXCI+XHJcbiAgICAgICAgICAgIDxib2R5IGNsYXNzTmFtZT17YCR7bnVuaXRvLnZhcmlhYmxlfSAke2ZyZWRva2EudmFyaWFibGV9ICR7cnViaWsudmFyaWFibGV9IGZvbnQtc2Fuc2B9PlxyXG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgICAgICA8L2JvZHk+XHJcbiAgICAgICAgPC9odG1sPlxyXG4gICAgKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJudW5pdG8iLCJmcmVkb2thIiwicnViaWsiLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsImRpciIsImJvZHkiLCJjbGFzc05hbWUiLCJ2YXJpYWJsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__);\n// This file is generated by the Webpack next-flight-loader.\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call the default export of \\\"C:\\\\\\\\Cursor\\\\\\\\kidi-booai\\\\\\\\app\\\\\\\\page.tsx\\\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n\"default\",\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEiLCJzb3VyY2VzIjpbIl9OX0UvLi9hcHAvcGFnZS50c3gvX19uZXh0anMtaW50ZXJuYWwtcHJveHkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIFdlYnBhY2sgbmV4dC1mbGlnaHQtbG9hZGVyLlxuaW1wb3J0IHsgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UgfSBmcm9tIFwicmVhY3Qtc2VydmVyLWRvbS13ZWJwYWNrL3NlcnZlclwiO1xuZXhwb3J0IGRlZmF1bHQgcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgdGhlIGRlZmF1bHQgZXhwb3J0IG9mIFxcXCJDOlxcXFxcXFxcQ3Vyc29yXFxcXFxcXFxraWRpLWJvb2FpXFxcXFxcXFxhcHBcXFxcXFxcXHBhZ2UudHN4XFxcIiBmcm9tIHRoZSBzZXJ2ZXIsIGJ1dCBpdCdzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCJDOlxcXFxDdXJzb3JcXFxca2lkaS1ib29haVxcXFxhcHBcXFxccGFnZS50c3hcIixcblwiZGVmYXVsdFwiLFxuKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/page.tsx\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5CCursor%5Ckidi-booai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CCursor%5Ckidi-booai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5CCursor%5Ckidi-booai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CCursor%5Ckidi-booai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_25___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/module.compiled.js?6a4d\");\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/app-render/interop-default */ \"(rsc)/./node_modules/next/dist/server/app-render/interop-default.js\");\n/* harmony import */ var next_dist_server_app_render_strip_flight_headers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/app-render/strip-flight-headers */ \"(rsc)/./node_modules/next/dist/server/app-render/strip-flight-headers.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/lib/experimental/ppr */ \"(rsc)/./node_modules/next/dist/server/lib/experimental/ppr.js\");\n/* harmony import */ var next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/request/fallback-params */ \"(rsc)/./node_modules/next/dist/server/request/fallback-params.js\");\n/* harmony import */ var next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/app-render/encryption-utils */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption-utils.js\");\n/* harmony import */ var next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/streaming-metadata */ \"(rsc)/./node_modules/next/dist/server/lib/streaming-metadata.js\");\n/* harmony import */ var next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/server/app-render/action-utils */ \"(rsc)/./node_modules/next/dist/server/app-render/action-utils.js\");\n/* harmony import */ var next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/lib/server-action-request-meta */ \"(rsc)/./node_modules/next/dist/server/lib/server-action-request-meta.js\");\n/* harmony import */ var next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! next/dist/client/components/app-router-headers */ \"(rsc)/./node_modules/next/dist/client/components/app-router-headers.js\");\n/* harmony import */ var next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/is-bot */ \"next/dist/shared/lib/router/utils/is-bot\");\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! next/dist/lib/fallback */ \"(rsc)/./node_modules/next/dist/lib/fallback.js\");\n/* harmony import */ var next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! next/dist/server/render-result */ \"(rsc)/./node_modules/next/dist/server/render-result.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var next_dist_server_stream_utils_encoded_tags__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! next/dist/server/stream-utils/encoded-tags */ \"(rsc)/./node_modules/next/dist/server/stream-utils/encoded-tags.js\");\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! next/dist/server/send-payload */ \"(rsc)/./node_modules/next/dist/server/send-payload.js\");\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\");\n/* harmony import */ var next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! next/dist/client/components/redirect-status-code */ \"(rsc)/./node_modules/next/dist/client/components/redirect-status-code.js\");\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_26__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"__next_app__\",\"routeModule\",\"handler\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_26__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\nconst module0 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\"));\nconst module1 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\nconst module2 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/not-found.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/not-found.js\", 23));\nconst module3 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/forbidden.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/forbidden.js\", 23));\nconst module4 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/unauthorized.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/unauthorized.js\", 23));\nconst page5 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page5, \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [module0, \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\layout.tsx\"],\n'global-error': [module1, \"next/dist/client/components/builtin/global-error.js\"],\n'not-found': [module2, \"next/dist/client/components/builtin/not-found.js\"],\n'forbidden': [module3, \"next/dist/client/components/builtin/forbidden.js\"],\n'unauthorized': [module4, \"next/dist/client/components/builtin/unauthorized.js\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\"];\n\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    var _this;\n    let srcPage = \"/page\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const initialPostponed = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'postponed');\n    // TODO: replace with more specific flags\n    const minimalMode = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'minimalMode');\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, query, params, parsedUrl, pageIsDynamic, buildManifest, nextFontManifest, reactLoadableManifest, serverActionsManifest, clientReferenceManifest, subresourceIntegrityManifest, prerenderManifest, isDraftMode, resolvedPathname, revalidateOnlyGenerated, routerServerContext, nextConfig, interceptionRoutePatterns } = prepareResult;\n    const pathname = parsedUrl.pathname || '/';\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_14__.normalizeAppPath)(srcPage);\n    let { isOnDemandRevalidate } = prepareResult;\n    const prerenderInfo = routeModule.match(pathname, prerenderManifest);\n    const isPrerendered = !!prerenderManifest.routes[resolvedPathname];\n    let isSSG = Boolean(prerenderInfo || isPrerendered || prerenderManifest.routes[normalizedSrcPage]);\n    const userAgent = req.headers['user-agent'] || '';\n    const botType = (0,next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_17__.getBotType)(userAgent);\n    const isHtmlBot = (0,next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__.isHtmlBotRequest)(req);\n    /**\n   * If true, this indicates that the request being made is for an app\n   * prefetch request.\n   */ const isPrefetchRSCRequest = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'isPrefetchRSCRequest') ?? req.headers[next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__.NEXT_ROUTER_PREFETCH_HEADER] === '1' // exclude runtime prefetches, which use '2'\n    ;\n    // NOTE: Don't delete headers[RSC] yet, it still needs to be used in renderToHTML later\n    const isRSCRequest = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'isRSCRequest') ?? Boolean(req.headers[next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__.RSC_HEADER]);\n    const isPossibleServerAction = (0,next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_15__.getIsPossibleServerAction)(req);\n    /**\n   * If the route being rendered is an app page, and the ppr feature has been\n   * enabled, then the given route _could_ support PPR.\n   */ const couldSupportPPR = (0,next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_9__.checkIsAppPPREnabled)(nextConfig.experimental.ppr);\n    // When enabled, this will allow the use of the `?__nextppronly` query to\n    // enable debugging of the static shell.\n    const hasDebugStaticShellQuery =  false && 0;\n    // When enabled, this will allow the use of the `?__nextppronly` query\n    // to enable debugging of the fallback shell.\n    const hasDebugFallbackShellQuery = hasDebugStaticShellQuery && query.__nextppronly === 'fallback';\n    // This page supports PPR if it is marked as being `PARTIALLY_STATIC` in the\n    // prerender manifest and this is an app page.\n    const isRoutePPREnabled = couldSupportPPR && (((_this = prerenderManifest.routes[normalizedSrcPage] ?? prerenderManifest.dynamicRoutes[normalizedSrcPage]) == null ? void 0 : _this.renderingMode) === 'PARTIALLY_STATIC' || // Ideally we'd want to check the appConfig to see if this page has PPR\n    // enabled or not, but that would require plumbing the appConfig through\n    // to the server during development. We assume that the page supports it\n    // but only during development.\n    hasDebugStaticShellQuery && (routeModule.isDev === true || (routerServerContext == null ? void 0 : routerServerContext.experimentalTestProxy) === true));\n    const isDebugStaticShell = hasDebugStaticShellQuery && isRoutePPREnabled;\n    // We should enable debugging dynamic accesses when the static shell\n    // debugging has been enabled and we're also in development mode.\n    const isDebugDynamicAccesses = isDebugStaticShell && routeModule.isDev === true;\n    const isDebugFallbackShell = hasDebugFallbackShellQuery && isRoutePPREnabled;\n    // If we're in minimal mode, then try to get the postponed information from\n    // the request metadata. If available, use it for resuming the postponed\n    // render.\n    const minimalPostponed = isRoutePPREnabled ? initialPostponed : undefined;\n    // If PPR is enabled, and this is a RSC request (but not a prefetch), then\n    // we can use this fact to only generate the flight data for the request\n    // because we can't cache the HTML (as it's also dynamic).\n    const isDynamicRSCRequest = isRoutePPREnabled && isRSCRequest && !isPrefetchRSCRequest;\n    // Need to read this before it's stripped by stripFlightHeaders. We don't\n    // need to transfer it to the request meta because it's only read\n    // within this function; the static segment data should have already been\n    // generated, so we will always either return a static response or a 404.\n    const segmentPrefetchHeader = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'segmentPrefetchRSCRequest');\n    // TODO: investigate existing bug with shouldServeStreamingMetadata always\n    // being true for a revalidate due to modifying the base-server this.renderOpts\n    // when fixing this to correct logic it causes hydration issue since we set\n    // serveStreamingMetadata to true during export\n    let serveStreamingMetadata = !userAgent ? true : (0,next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_12__.shouldServeStreamingMetadata)(userAgent, nextConfig.htmlLimitedBots);\n    if (isHtmlBot && isRoutePPREnabled) {\n        isSSG = false;\n        serveStreamingMetadata = false;\n    }\n    // In development, we always want to generate dynamic HTML.\n    let supportsDynamicResponse = // If we're in development, we always support dynamic HTML, unless it's\n    // a data request, in which case we only produce static HTML.\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isSSG || // If this request has provided postponed data, it supports dynamic\n    // HTML.\n    typeof initialPostponed === 'string' || // If this is a dynamic RSC request, then this render supports dynamic\n    // HTML (it's dynamic).\n    isDynamicRSCRequest;\n    // When html bots request PPR page, perform the full dynamic rendering.\n    const shouldWaitOnAllReady = isHtmlBot && isRoutePPREnabled;\n    let ssgCacheKey = null;\n    if (!isDraftMode && isSSG && !supportsDynamicResponse && !isPossibleServerAction && !minimalPostponed && !isDynamicRSCRequest) {\n        ssgCacheKey = resolvedPathname;\n    }\n    // the staticPathKey differs from ssgCacheKey since\n    // ssgCacheKey is null in dev since we're always in \"dynamic\"\n    // mode in dev to bypass the cache, but we still need to honor\n    // dynamicParams = false in dev mode\n    let staticPathKey = ssgCacheKey;\n    if (!staticPathKey && routeModule.isDev) {\n        staticPathKey = resolvedPathname;\n    }\n    // If this is a request for an app path that should be statically generated\n    // and we aren't in the edge runtime, strip the flight headers so it will\n    // generate the static response.\n    if (!routeModule.isDev && !isDraftMode && isSSG && isRSCRequest && !isDynamicRSCRequest) {\n        (0,next_dist_server_app_render_strip_flight_headers__WEBPACK_IMPORTED_MODULE_7__.stripFlightHeaders)(req.headers);\n    }\n    const ComponentMod = {\n        ...next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_26__,\n        tree,\n        pages,\n        GlobalError: (next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_25___default()),\n        handler,\n        routeModule,\n        __next_app__\n    };\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        (0,next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_11__.setReferenceManifestsSingleton)({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: (0,next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_13__.createServerModuleMap)({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    try {\n        const varyHeader = routeModule.getVaryHeader(resolvedPathname, interceptionRoutePatterns);\n        res.setHeader('Vary', varyHeader);\n        const invokeRouteModule = async (span, context)=>{\n            const nextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__.NodeNextRequest(req);\n            const nextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_8__.NodeNextResponse(res);\n            // TODO: adapt for putting the RDC inside the postponed data\n            // If we're in dev, and this isn't a prefetch or a server action,\n            // we should seed the resume data cache.\n            if (true) {\n                if (nextConfig.experimental.cacheComponents && !isPrefetchRSCRequest && !context.renderOpts.isPossibleServerAction) {\n                    const warmup = await routeModule.warmup(nextReq, nextRes, context);\n                    // If the warmup is successful, we should use the resume data\n                    // cache from the warmup.\n                    if (warmup.metadata.renderResumeDataCache) {\n                        context.renderOpts.renderResumeDataCache = warmup.metadata.renderResumeDataCache;\n                    }\n                }\n            }\n            return routeModule.render(nextReq, nextRes, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const doRender = async ({ span, postponed, fallbackRouteParams })=>{\n            const context = {\n                query,\n                params,\n                page: normalizedSrcPage,\n                sharedContext: {\n                    buildId\n                },\n                serverComponentsHmrCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'serverComponentsHmrCache'),\n                fallbackRouteParams,\n                renderOpts: {\n                    App: ()=>null,\n                    Document: ()=>null,\n                    pageConfig: {},\n                    ComponentMod,\n                    Component: (0,next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__.interopDefault)(ComponentMod),\n                    params,\n                    routeModule,\n                    page: srcPage,\n                    postponed,\n                    shouldWaitOnAllReady,\n                    serveStreamingMetadata,\n                    supportsDynamicResponse: typeof postponed === 'string' || supportsDynamicResponse,\n                    buildManifest,\n                    nextFontManifest,\n                    reactLoadableManifest,\n                    subresourceIntegrityManifest,\n                    serverActionsManifest,\n                    clientReferenceManifest,\n                    setIsrStatus: routerServerContext == null ? void 0 : routerServerContext.setIsrStatus,\n                    dir:  true ? (__webpack_require__(/*! path */ \"path\").join)(/* turbopackIgnore: true */ process.cwd(), routeModule.relativeProjectDir) : 0,\n                    isDraftMode,\n                    isRevalidate: isSSG && !postponed && !isDynamicRSCRequest,\n                    botType,\n                    isOnDemandRevalidate,\n                    isPossibleServerAction,\n                    assetPrefix: nextConfig.assetPrefix,\n                    nextConfigOutput: nextConfig.output,\n                    crossOrigin: nextConfig.crossOrigin,\n                    trailingSlash: nextConfig.trailingSlash,\n                    previewProps: prerenderManifest.preview,\n                    deploymentId: nextConfig.deploymentId,\n                    enableTainting: nextConfig.experimental.taint,\n                    htmlLimitedBots: nextConfig.htmlLimitedBots,\n                    devtoolSegmentExplorer: nextConfig.experimental.devtoolSegmentExplorer,\n                    reactMaxHeadersLength: nextConfig.reactMaxHeadersLength,\n                    multiZoneDraftMode,\n                    incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'incrementalCache'),\n                    cacheLifeProfiles: nextConfig.experimental.cacheLife,\n                    basePath: nextConfig.basePath,\n                    serverActions: nextConfig.experimental.serverActions,\n                    ...isDebugStaticShell || isDebugDynamicAccesses ? {\n                        nextExport: true,\n                        supportsDynamicResponse: false,\n                        isStaticGeneration: true,\n                        isRevalidate: true,\n                        isDebugDynamicAccesses: isDebugDynamicAccesses\n                    } : {},\n                    experimental: {\n                        isRoutePPREnabled,\n                        expireTime: nextConfig.expireTime,\n                        staleTimes: nextConfig.experimental.staleTimes,\n                        cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                        clientSegmentCache: Boolean(nextConfig.experimental.clientSegmentCache),\n                        clientParamParsing: Boolean(nextConfig.experimental.clientParamParsing),\n                        dynamicOnHover: Boolean(nextConfig.experimental.dynamicOnHover),\n                        inlineCss: Boolean(nextConfig.experimental.inlineCss),\n                        authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n                        clientTraceMetadata: nextConfig.experimental.clientTraceMetadata || []\n                    },\n                    waitUntil: ctx.waitUntil,\n                    onClose: (cb)=>{\n                        res.on('close', cb);\n                    },\n                    onAfterTaskError: ()=>{},\n                    onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext),\n                    err: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'invokeError'),\n                    dev: routeModule.isDev\n                }\n            };\n            const result = await invokeRouteModule(span, context);\n            const { metadata } = result;\n            const { cacheControl, headers = {}, // Add any fetch tags that were on the page to the response headers.\n            fetchTags: cacheTags } = metadata;\n            if (cacheTags) {\n                headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n            }\n            // Pull any fetch metrics from the render onto the request.\n            ;\n            req.fetchMetrics = metadata.fetchMetrics;\n            // we don't throw static to dynamic errors in dev as isSSG\n            // is a best guess in dev since we don't have the prerender pass\n            // to know whether the path is actually static or not\n            if (isSSG && (cacheControl == null ? void 0 : cacheControl.revalidate) === 0 && !routeModule.isDev && !isRoutePPREnabled) {\n                const staticBailoutInfo = metadata.staticBailoutInfo;\n                const err = Object.defineProperty(new Error(`Page changed from static to dynamic at runtime ${resolvedPathname}${(staticBailoutInfo == null ? void 0 : staticBailoutInfo.description) ? `, reason: ${staticBailoutInfo.description}` : ``}` + `\\nsee more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E132\",\n                    enumerable: false,\n                    configurable: true\n                });\n                if (staticBailoutInfo == null ? void 0 : staticBailoutInfo.stack) {\n                    const stack = staticBailoutInfo.stack;\n                    err.stack = err.message + stack.substring(stack.indexOf('\\n'));\n                }\n                throw err;\n            }\n            return {\n                value: {\n                    kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18__.CachedRouteKind.APP_PAGE,\n                    html: result,\n                    headers,\n                    rscData: metadata.flightData,\n                    postponed: metadata.postponed,\n                    status: metadata.statusCode,\n                    segmentData: metadata.segmentData\n                },\n                cacheControl\n            };\n        };\n        const responseGenerator = async ({ hasResolved, previousCacheEntry, isRevalidating, span })=>{\n            const isProduction = routeModule.isDev === false;\n            const didRespond = hasResolved || res.writableEnded;\n            // skip on-demand revalidate if cache is not present and\n            // revalidate-if-generated is set\n            if (isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry && !minimalMode) {\n                if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n                    await routerServerContext.render404(req, res);\n                } else {\n                    res.statusCode = 404;\n                    res.end('This page could not be found');\n                }\n                return null;\n            }\n            let fallbackMode;\n            if (prerenderInfo) {\n                fallbackMode = (0,next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__.parseFallbackField)(prerenderInfo.fallback);\n            }\n            // When serving a HTML bot request, we want to serve a blocking render and\n            // not the prerendered page. This ensures that the correct content is served\n            // to the bot in the head.\n            if (fallbackMode === next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__.FallbackMode.PRERENDER && (0,next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_17__.isBot)(userAgent)) {\n                if (!isRoutePPREnabled || isHtmlBot) {\n                    fallbackMode = next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__.FallbackMode.BLOCKING_STATIC_RENDER;\n                }\n            }\n            if ((previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) === -1) {\n                isOnDemandRevalidate = true;\n            }\n            // TODO: adapt for PPR\n            // only allow on-demand revalidate for fallback: true/blocking\n            // or for prerendered fallback: false paths\n            if (isOnDemandRevalidate && (fallbackMode !== next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__.FallbackMode.NOT_FOUND || previousCacheEntry)) {\n                fallbackMode = next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__.FallbackMode.BLOCKING_STATIC_RENDER;\n            }\n            if (!minimalMode && fallbackMode !== next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__.FallbackMode.BLOCKING_STATIC_RENDER && staticPathKey && !didRespond && !isDraftMode && pageIsDynamic && (isProduction || !isPrerendered)) {\n                // if the page has dynamicParams: false and this pathname wasn't\n                // prerendered trigger the no fallback handling\n                if (// In development, fall through to render to handle missing\n                // getStaticPaths.\n                (isProduction || prerenderInfo) && // When fallback isn't present, abort this render so we 404\n                fallbackMode === next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_19__.FallbackMode.NOT_FOUND) {\n                    throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_24__.NoFallbackError();\n                }\n                let fallbackResponse;\n                if (isRoutePPREnabled && !isRSCRequest) {\n                    const cacheKey = typeof (prerenderInfo == null ? void 0 : prerenderInfo.fallback) === 'string' ? prerenderInfo.fallback : isProduction ? normalizedSrcPage : null;\n                    // We use the response cache here to handle the revalidation and\n                    // management of the fallback shell.\n                    fallbackResponse = await routeModule.handleResponse({\n                        cacheKey,\n                        req,\n                        nextConfig,\n                        routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n                        isFallback: true,\n                        prerenderManifest,\n                        isRoutePPREnabled,\n                        responseGenerator: async ()=>doRender({\n                                span,\n                                // We pass `undefined` as rendering a fallback isn't resumed\n                                // here.\n                                postponed: undefined,\n                                fallbackRouteParams: // If we're in production or we're debugging the fallback\n                                // shell then we should postpone when dynamic params are\n                                // accessed.\n                                isProduction || isDebugFallbackShell ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__.getFallbackRouteParams)(normalizedSrcPage) : null\n                            }),\n                        waitUntil: ctx.waitUntil\n                    });\n                    // If the fallback response was set to null, then we should return null.\n                    if (fallbackResponse === null) return null;\n                    // Otherwise, if we did get a fallback response, we should return it.\n                    if (fallbackResponse) {\n                        // Remove the cache control from the response to prevent it from being\n                        // used in the surrounding cache.\n                        delete fallbackResponse.cacheControl;\n                        return fallbackResponse;\n                    }\n                }\n            }\n            // Only requests that aren't revalidating can be resumed. If we have the\n            // minimal postponed data, then we should resume the render with it.\n            const postponed = !isOnDemandRevalidate && !isRevalidating && minimalPostponed ? minimalPostponed : undefined;\n            // When we're in minimal mode, if we're trying to debug the static shell,\n            // we should just return nothing instead of resuming the dynamic render.\n            if ((isDebugStaticShell || isDebugDynamicAccesses) && typeof postponed !== 'undefined') {\n                return {\n                    cacheControl: {\n                        revalidate: 1,\n                        expire: undefined\n                    },\n                    value: {\n                        kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18__.CachedRouteKind.PAGES,\n                        html: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_20__[\"default\"].EMPTY,\n                        pageData: {},\n                        headers: undefined,\n                        status: undefined\n                    }\n                };\n            }\n            // If this is a dynamic route with PPR enabled and the default route\n            // matches were set, then we should pass the fallback route params to\n            // the renderer as this is a fallback revalidation request.\n            const fallbackRouteParams = pageIsDynamic && isRoutePPREnabled && ((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'renderFallbackShell') || isDebugFallbackShell) ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_10__.getFallbackRouteParams)(pathname) : null;\n            // Perform the render.\n            return doRender({\n                span,\n                postponed,\n                fallbackRouteParams\n            });\n        };\n        const handleResponse = async (span)=>{\n            var _cacheEntry_value, _cachedData_headers;\n            const cacheEntry = await routeModule.handleResponse({\n                cacheKey: ssgCacheKey,\n                responseGenerator: (c)=>responseGenerator({\n                        span,\n                        ...c\n                    }),\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n                isOnDemandRevalidate,\n                isRoutePPREnabled,\n                req,\n                nextConfig,\n                prerenderManifest,\n                waitUntil: ctx.waitUntil\n            });\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            // In dev, we should not cache pages for any reason.\n            if (routeModule.isDev) {\n                res.setHeader('Cache-Control', 'no-store, must-revalidate');\n            }\n            if (!cacheEntry) {\n                if (ssgCacheKey) {\n                    // A cache entry might not be generated if a response is written\n                    // in `getInitialProps` or `getServerSideProps`, but those shouldn't\n                    // have a cache key. If we do have a cache key but we don't end up\n                    // with a cache entry, then either Next.js or the application has a\n                    // bug that needs fixing.\n                    throw Object.defineProperty(new Error('invariant: cache entry required but not generated'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E62\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                return null;\n            }\n            if (((_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18__.CachedRouteKind.APP_PAGE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant app-page handler received invalid cache entry ${(_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E707\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            const didPostpone = typeof cacheEntry.value.postponed === 'string';\n            if (isSSG && // We don't want to send a cache header for requests that contain dynamic\n            // data. If this is a Dynamic RSC request or wasn't a Prefetch RSC\n            // request, then we should set the cache header.\n            !isDynamicRSCRequest && (!didPostpone || isPrefetchRSCRequest)) {\n                if (!minimalMode) {\n                    // set x-nextjs-cache header to match the header\n                    // we set for the image-optimizer\n                    res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n                }\n                // Set a header used by the client router to signal the response is static\n                // and should respect the `static` cache staleTime value.\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__.NEXT_IS_PRERENDER_HEADER, '1');\n            }\n            const { value: cachedData } = cacheEntry;\n            // Coerce the cache control parameter from the render.\n            let cacheControl;\n            // If this is a resume request in minimal mode it is streamed with dynamic\n            // content and should not be cached.\n            if (minimalPostponed) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (minimalMode && isRSCRequest && !isPrefetchRSCRequest && isRoutePPREnabled) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (!routeModule.isDev) {\n                // If this is a preview mode request, we shouldn't cache it\n                if (isDraftMode) {\n                    cacheControl = {\n                        revalidate: 0,\n                        expire: undefined\n                    };\n                } else if (!isSSG) {\n                    if (!res.getHeader('Cache-Control')) {\n                        cacheControl = {\n                            revalidate: 0,\n                            expire: undefined\n                        };\n                    }\n                } else if (cacheEntry.cacheControl) {\n                    // If the cache entry has a cache control with a revalidate value that's\n                    // a number, use it.\n                    if (typeof cacheEntry.cacheControl.revalidate === 'number') {\n                        var _cacheEntry_cacheControl;\n                        if (cacheEntry.cacheControl.revalidate < 1) {\n                            throw Object.defineProperty(new Error(`Invalid revalidate configuration provided: ${cacheEntry.cacheControl.revalidate} < 1`), \"__NEXT_ERROR_CODE\", {\n                                value: \"E22\",\n                                enumerable: false,\n                                configurable: true\n                            });\n                        }\n                        cacheControl = {\n                            revalidate: cacheEntry.cacheControl.revalidate,\n                            expire: ((_cacheEntry_cacheControl = cacheEntry.cacheControl) == null ? void 0 : _cacheEntry_cacheControl.expire) ?? nextConfig.expireTime\n                        };\n                    } else {\n                        cacheControl = {\n                            revalidate: next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__.CACHE_ONE_YEAR,\n                            expire: undefined\n                        };\n                    }\n                }\n            }\n            cacheEntry.cacheControl = cacheControl;\n            if (typeof segmentPrefetchHeader === 'string' && (cachedData == null ? void 0 : cachedData.kind) === next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18__.CachedRouteKind.APP_PAGE && cachedData.segmentData) {\n                var _cachedData_headers1;\n                // This is a prefetch request issued by the client Segment Cache. These\n                // should never reach the application layer (lambda). We should either\n                // respond from the cache (HIT) or respond with 204 No Content (MISS).\n                // Set a header to indicate that PPR is enabled for this route. This\n                // lets the client distinguish between a regular cache miss and a cache\n                // miss due to PPR being disabled. In other contexts this header is used\n                // to indicate that the response contains dynamic data, but here we're\n                // only using it to indicate that the feature is enabled  the segment\n                // response itself contains whether the data is dynamic.\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__.NEXT_DID_POSTPONE_HEADER, '2');\n                // Add the cache tags header to the response if it exists and we're in\n                // minimal mode while rendering a static page.\n                const tags = (_cachedData_headers1 = cachedData.headers) == null ? void 0 : _cachedData_headers1[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__.NEXT_CACHE_TAGS_HEADER];\n                if (minimalMode && isSSG && tags && typeof tags === 'string') {\n                    res.setHeader(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__.NEXT_CACHE_TAGS_HEADER, tags);\n                }\n                const matchedSegment = cachedData.segmentData.get(segmentPrefetchHeader);\n                if (matchedSegment !== undefined) {\n                    // Cache hit\n                    return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__.sendRenderResult)({\n                        req,\n                        res,\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_20__[\"default\"].fromStatic(matchedSegment, next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__.RSC_CONTENT_TYPE_HEADER),\n                        cacheControl: cacheEntry.cacheControl\n                    });\n                }\n                // Cache miss. Either a cache entry for this route has not been generated\n                // (which technically should not be possible when PPR is enabled, because\n                // at a minimum there should always be a fallback entry) or there's no\n                // match for the requested segment. Respond with a 204 No Content. We\n                // don't bother to respond with 404, because these requests are only\n                // issued as part of a prefetch.\n                res.statusCode = 204;\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_20__[\"default\"].EMPTY,\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If there's a callback for `onCacheEntry`, call it with the cache entry\n            // and the revalidate options.\n            const onCacheEntry = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'onCacheEntry');\n            if (onCacheEntry) {\n                const finished = await onCacheEntry({\n                    ...cacheEntry,\n                    // TODO: remove this when upstream doesn't\n                    // always expect this value to be \"PAGE\"\n                    value: {\n                        ...cacheEntry.value,\n                        kind: 'PAGE'\n                    }\n                }, {\n                    url: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'initURL')\n                });\n                if (finished) {\n                    // TODO: maybe we have to end the request?\n                    return null;\n                }\n            }\n            // If the request has a postponed state and it's a resume request we\n            // should error.\n            if (didPostpone && minimalPostponed) {\n                throw Object.defineProperty(new Error('Invariant: postponed state should not be present on a resume request'), \"__NEXT_ERROR_CODE\", {\n                    value: \"E396\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (cachedData.headers) {\n                const headers = {\n                    ...cachedData.headers\n                };\n                if (!minimalMode || !isSSG) {\n                    delete headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__.NEXT_CACHE_TAGS_HEADER];\n                }\n                for (let [key, value] of Object.entries(headers)){\n                    if (typeof value === 'undefined') continue;\n                    if (Array.isArray(value)) {\n                        for (const v of value){\n                            res.appendHeader(key, v);\n                        }\n                    } else if (typeof value === 'number') {\n                        value = value.toString();\n                        res.appendHeader(key, value);\n                    } else {\n                        res.appendHeader(key, value);\n                    }\n                }\n            }\n            // Add the cache tags header to the response if it exists and we're in\n            // minimal mode while rendering a static page.\n            const tags = (_cachedData_headers = cachedData.headers) == null ? void 0 : _cachedData_headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__.NEXT_CACHE_TAGS_HEADER];\n            if (minimalMode && isSSG && tags && typeof tags === 'string') {\n                res.setHeader(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_21__.NEXT_CACHE_TAGS_HEADER, tags);\n            }\n            // If the request is a data request, then we shouldn't set the status code\n            // from the response because it should always be 200. This should be gated\n            // behind the experimental PPR flag.\n            if (cachedData.status && (!isRSCRequest || !isRoutePPREnabled)) {\n                res.statusCode = cachedData.status;\n            }\n            // Redirect information is encoded in RSC payload, so we don't need to use redirect status codes\n            if (!minimalMode && cachedData.status && next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_27__.RedirectStatusCode[cachedData.status] && isRSCRequest) {\n                res.statusCode = 200;\n            }\n            // Mark that the request did postpone.\n            if (didPostpone) {\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__.NEXT_DID_POSTPONE_HEADER, '1');\n            }\n            // we don't go through this block when preview mode is true\n            // as preview mode is a dynamic request (bypasses cache) and doesn't\n            // generate both HTML and payloads in the same request so continue to just\n            // return the generated payload\n            if (isRSCRequest && !isDraftMode) {\n                // If this is a dynamic RSC request, then stream the response.\n                if (typeof cachedData.rscData === 'undefined') {\n                    if (cachedData.postponed) {\n                        throw Object.defineProperty(new Error('Invariant: Expected postponed to be undefined'), \"__NEXT_ERROR_CODE\", {\n                            value: \"E372\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                    }\n                    return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__.sendRenderResult)({\n                        req,\n                        res,\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: cachedData.html,\n                        // Dynamic RSC responses cannot be cached, even if they're\n                        // configured with `force-static` because we have no way of\n                        // distinguishing between `force-static` and pages that have no\n                        // postponed state.\n                        // TODO: distinguish `force-static` from pages with no postponed state (static)\n                        cacheControl: isDynamicRSCRequest ? {\n                            revalidate: 0,\n                            expire: undefined\n                        } : cacheEntry.cacheControl\n                    });\n                }\n                // As this isn't a prefetch request, we should serve the static flight\n                // data.\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_20__[\"default\"].fromStatic(cachedData.rscData, next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_16__.RSC_CONTENT_TYPE_HEADER),\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // This is a request for HTML data.\n            let body = cachedData.html;\n            // If there's no postponed state, we should just serve the HTML. This\n            // should also be the case for a resume request because it's completed\n            // as a server render (rather than a static render).\n            if (!didPostpone || minimalMode || isRSCRequest) {\n                // If we're in test mode, we should add a sentinel chunk to the response\n                // that's between the static and dynamic parts so we can compare the\n                // chunks and add assertions.\n                if (false) {}\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If we're debugging the static shell or the dynamic API accesses, we\n            // should just serve the HTML without resuming the render. The returned\n            // HTML will be the static shell so all the Dynamic API's will be used\n            // during static generation.\n            if (isDebugStaticShell || isDebugDynamicAccesses) {\n                // Since we're not resuming the render, we need to at least add the\n                // closing body and html tags to create valid HTML.\n                body.push(new ReadableStream({\n                    start (controller) {\n                        controller.enqueue(next_dist_server_stream_utils_encoded_tags__WEBPACK_IMPORTED_MODULE_22__.ENCODED_TAGS.CLOSED.BODY_AND_HTML);\n                        controller.close();\n                    }\n                }));\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__.sendRenderResult)({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: {\n                        revalidate: 0,\n                        expire: undefined\n                    }\n                });\n            }\n            // If we're in test mode, we should add a sentinel chunk to the response\n            // that's between the static and dynamic parts so we can compare the\n            // chunks and add assertions.\n            if (false) {}\n            // This request has postponed, so let's create a new transformer that the\n            // dynamic data can pipe to that will attach the dynamic data to the end\n            // of the response.\n            const transformer = new TransformStream();\n            body.push(transformer.readable);\n            // Perform the render again, but this time, provide the postponed state.\n            // We don't await because we want the result to start streaming now, and\n            // we've already chained the transformer's readable to the render result.\n            doRender({\n                span,\n                postponed: cachedData.postponed,\n                // This is a resume render, not a fallback render, so we don't need to\n                // set this.\n                fallbackRouteParams: null\n            }).then(async (result)=>{\n                var _result_value;\n                if (!result) {\n                    throw Object.defineProperty(new Error('Invariant: expected a result to be returned'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E463\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                if (((_result_value = result.value) == null ? void 0 : _result_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_18__.CachedRouteKind.APP_PAGE) {\n                    var _result_value1;\n                    throw Object.defineProperty(new Error(`Invariant: expected a page response, got ${(_result_value1 = result.value) == null ? void 0 : _result_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E305\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                // Pipe the resume result to the transformer.\n                await result.value.html.pipeTo(transformer.writable);\n            }).catch((err)=>{\n                // An error occurred during piping or preparing the render, abort\n                // the transformers writer so we can terminate the stream.\n                transformer.writable.abort(err).catch((e)=>{\n                    console.error(\"couldn't abort transformer\", e);\n                });\n            });\n            return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_23__.sendRenderResult)({\n                req,\n                res,\n                generateEtags: nextConfig.generateEtags,\n                poweredByHeader: nextConfig.poweredByHeader,\n                result: body,\n                // We don't want to cache the response if it has postponed data because\n                // the response being sent to the client it's dynamic parts are streamed\n                // to the client on the same request.\n                cacheControl: {\n                    revalidate: 0,\n                    expire: undefined\n                }\n            });\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            return await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_24__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: srcPage,\n                routeType: 'render',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_2__.getRevalidateReason)({\n                    isRevalidate: isSSG,\n                    isOnDemandRevalidate\n                })\n            }, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        throw err;\n    }\n}\n// TODO: omit this from production builds, only test builds should include it\n/**\n * Creates a readable stream that emits a PPR boundary sentinel.\n *\n * @returns A readable stream that emits a PPR boundary sentinel.\n */ function createPPRBoundarySentinel() {\n    return new ReadableStream({\n        start (controller) {\n            controller.enqueue(new TextEncoder().encode('<!-- PPR_BOUNDARY_SENTINEL -->'));\n            controller.close();\n        }\n    });\n}\n\n//# sourceMappingURL=app-page.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPUMlM0ElNUNDdXJzb3IlNUNraWRpLWJvb2FpJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDQ3Vyc29yJTVDa2lkaS1ib29haSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQkFBc0IsNElBQTRFO0FBQ2xHLHNCQUFzQix1T0FBd0Y7QUFDOUcsc0JBQXNCLGlPQUFxRjtBQUMzRyxzQkFBc0IsaU9BQXFGO0FBQzNHLHNCQUFzQix1T0FBd0Y7QUFDOUcsb0JBQW9CLHdJQUEwRTtBQUc1RjtBQUdBO0FBQzJFO0FBQ0w7QUFDVDtBQUNPO0FBQ087QUFDUztBQUNGO0FBQ1A7QUFDSztBQUNZO0FBQ1c7QUFDeEI7QUFDRjtBQUNhO0FBQzBGO0FBQ3pHO0FBQ1g7QUFDUTtBQUNoQjtBQUNpRDtBQUNqQztBQUNUO0FBQ2lCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFD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O0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vZHVsZTAgPSAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXGFwcFxcXFxsYXlvdXQudHN4XCIpO1xuY29uc3QgbW9kdWxlMSA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vZ2xvYmFsLWVycm9yLmpzXCIpO1xuY29uc3QgbW9kdWxlMiA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vbm90LWZvdW5kLmpzXCIpO1xuY29uc3QgbW9kdWxlMyA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vZm9yYmlkZGVuLmpzXCIpO1xuY29uc3QgbW9kdWxlNCA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vdW5hdXRob3JpemVkLmpzXCIpO1xuY29uc3QgcGFnZTUgPSAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXGFwcFxcXFxwYWdlLnRzeFwiKTtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc3NyJ1xufTtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zZXJ2ZXItdXRpbGl0eSdcbn07XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgaW50ZXJvcERlZmF1bHQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2ludGVyb3AtZGVmYXVsdFwiO1xuaW1wb3J0IHsgc3RyaXBGbGlnaHRIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9zdHJpcC1mbGlnaHQtaGVhZGVyc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IGNoZWNrSXNBcHBQUFJFbmFibGVkIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2V4cGVyaW1lbnRhbC9wcHJcIjtcbmltcG9ydCB7IGdldEZhbGxiYWNrUm91dGVQYXJhbXMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0L2ZhbGxiYWNrLXBhcmFtc1wiO1xuaW1wb3J0IHsgc2V0UmVmZXJlbmNlTWFuaWZlc3RzU2luZ2xldG9uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbmNyeXB0aW9uLXV0aWxzXCI7XG5pbXBvcnQgeyBpc0h0bWxCb3RSZXF1ZXN0LCBzaG91bGRTZXJ2ZVN0cmVhbWluZ01ldGFkYXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3N0cmVhbWluZy1tZXRhZGF0YVwiO1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyTW9kdWxlTWFwIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9hY3Rpb24tdXRpbHNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgZ2V0SXNQb3NzaWJsZVNlcnZlckFjdGlvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9zZXJ2ZXItYWN0aW9uLXJlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgUlNDX0hFQURFUiwgTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSLCBORVhUX0lTX1BSRVJFTkRFUl9IRUFERVIsIE5FWFRfRElEX1BPU1RQT05FX0hFQURFUiwgUlNDX0NPTlRFTlRfVFlQRV9IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXItaGVhZGVyc1wiO1xuaW1wb3J0IHsgZ2V0Qm90VHlwZSwgaXNCb3QgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2lzLWJvdFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCB7IEZhbGxiYWNrTW9kZSwgcGFyc2VGYWxsYmFja0ZpZWxkIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvZmFsbGJhY2tcIjtcbmltcG9ydCBSZW5kZXJSZXN1bHQgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVuZGVyLXJlc3VsdFwiO1xuaW1wb3J0IHsgQ0FDSEVfT05FX1lFQVIsIEhUTUxfQ09OVEVOVF9UWVBFX0hFQURFUiwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRU5DT0RFRF9UQUdTIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc3RyZWFtLXV0aWxzL2VuY29kZWQtdGFnc1wiO1xuaW1wb3J0IHsgc2VuZFJlbmRlclJlc3VsdCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcGF5bG9hZFwiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG4vLyBXZSBpbmplY3QgdGhlIHRyZWUgYW5kIHBhZ2VzIGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCB0cmVlID0ge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogW3BhZ2U1LCBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXGFwcFxcXFxwYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFttb2R1bGUwLCBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXGFwcFxcXFxsYXlvdXQudHN4XCJdLFxuJ2dsb2JhbC1lcnJvcic6IFttb2R1bGUxLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9idWlsdGluL2dsb2JhbC1lcnJvci5qc1wiXSxcbidub3QtZm91bmQnOiBbbW9kdWxlMiwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9ub3QtZm91bmQuanNcIl0sXG4nZm9yYmlkZGVuJzogW21vZHVsZTMsIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vZm9yYmlkZGVuLmpzXCJdLFxuJ3VuYXV0aG9yaXplZCc6IFttb2R1bGU0LCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9idWlsdGluL3VuYXV0aG9yaXplZC5qc1wiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJDOlxcXFxDdXJzb3JcXFxca2lkaS1ib29haVxcXFxhcHBcXFxccGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuaW1wb3J0IEdsb2JhbEVycm9yIGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9nbG9iYWwtZXJyb3IuanNcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zZXJ2ZXItdXRpbGl0eSdcbn07XG5leHBvcnQgeyBHbG9iYWxFcnJvciB9O1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5pbXBvcnQgKiBhcyBlbnRyeUJhc2UgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2VydmVyLXV0aWxpdHknXG59O1xuaW1wb3J0IHsgUmVkaXJlY3RTdGF0dXNDb2RlIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZWRpcmVjdC1zdGF0dXMtY29kZVwiO1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2VydmVyLXV0aWxpdHknXG59O1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJyxcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcmVsYXRpdmVQcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJydcbn0pO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfdGhpcztcbiAgICBsZXQgc3JjUGFnZSA9IFwiL3BhZ2VcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBpbml0aWFsUG9zdHBvbmVkID0gZ2V0UmVxdWVzdE1ldGEocmVxLCAncG9zdHBvbmVkJyk7XG4gICAgLy8gVE9ETzogcmVwbGFjZSB3aXRoIG1vcmUgc3BlY2lmaWMgZmxhZ3NcbiAgICBjb25zdCBtaW5pbWFsTW9kZSA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJyk7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHF1ZXJ5LCBwYXJhbXMsIHBhcnNlZFVybCwgcGFnZUlzRHluYW1pYywgYnVpbGRNYW5pZmVzdCwgbmV4dEZvbnRNYW5pZmVzdCwgcmVhY3RMb2FkYWJsZU1hbmlmZXN0LCBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QsIGNsaWVudFJlZmVyZW5jZU1hbmlmZXN0LCBzdWJyZXNvdXJjZUludGVncml0eU1hbmlmZXN0LCBwcmVyZW5kZXJNYW5pZmVzdCwgaXNEcmFmdE1vZGUsIHJlc29sdmVkUGF0aG5hbWUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBuZXh0Q29uZmlnLCBpbnRlcmNlcHRpb25Sb3V0ZVBhdHRlcm5zIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IHBhdGhuYW1lID0gcGFyc2VkVXJsLnBhdGhuYW1lIHx8ICcvJztcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IHsgaXNPbkRlbWFuZFJldmFsaWRhdGUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHJvdXRlTW9kdWxlLm1hdGNoKHBhdGhuYW1lLCBwcmVyZW5kZXJNYW5pZmVzdCk7XG4gICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9ICEhcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdO1xuICAgIGxldCBpc1NTRyA9IEJvb2xlYW4ocHJlcmVuZGVySW5mbyB8fCBpc1ByZXJlbmRlcmVkIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0pO1xuICAgIGNvbnN0IHVzZXJBZ2VudCA9IHJlcS5oZWFkZXJzWyd1c2VyLWFnZW50J10gfHwgJyc7XG4gICAgY29uc3QgYm90VHlwZSA9IGdldEJvdFR5cGUodXNlckFnZW50KTtcbiAgICBjb25zdCBpc0h0bWxCb3QgPSBpc0h0bWxCb3RSZXF1ZXN0KHJlcSk7XG4gICAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIHJlcXVlc3QgYmVpbmcgbWFkZSBpcyBmb3IgYW4gYXBwXG4gICAqIHByZWZldGNoIHJlcXVlc3QuXG4gICAqLyBjb25zdCBpc1ByZWZldGNoUlNDUmVxdWVzdCA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2lzUHJlZmV0Y2hSU0NSZXF1ZXN0JykgPz8gcmVxLmhlYWRlcnNbTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSXSA9PT0gJzEnIC8vIGV4Y2x1ZGUgcnVudGltZSBwcmVmZXRjaGVzLCB3aGljaCB1c2UgJzInXG4gICAgO1xuICAgIC8vIE5PVEU6IERvbid0IGRlbGV0ZSBoZWFkZXJzW1JTQ10geWV0LCBpdCBzdGlsbCBuZWVkcyB0byBiZSB1c2VkIGluIHJlbmRlclRvSFRNTCBsYXRlclxuICAgIGNvbnN0IGlzUlNDUmVxdWVzdCA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2lzUlNDUmVxdWVzdCcpID8/IEJvb2xlYW4ocmVxLmhlYWRlcnNbUlNDX0hFQURFUl0pO1xuICAgIGNvbnN0IGlzUG9zc2libGVTZXJ2ZXJBY3Rpb24gPSBnZXRJc1Bvc3NpYmxlU2VydmVyQWN0aW9uKHJlcSk7XG4gICAgLyoqXG4gICAqIElmIHRoZSByb3V0ZSBiZWluZyByZW5kZXJlZCBpcyBhbiBhcHAgcGFnZSwgYW5kIHRoZSBwcHIgZmVhdHVyZSBoYXMgYmVlblxuICAgKiBlbmFibGVkLCB0aGVuIHRoZSBnaXZlbiByb3V0ZSBfY291bGRfIHN1cHBvcnQgUFBSLlxuICAgKi8gY29uc3QgY291bGRTdXBwb3J0UFBSID0gY2hlY2tJc0FwcFBQUkVuYWJsZWQobmV4dENvbmZpZy5leHBlcmltZW50YWwucHByKTtcbiAgICAvLyBXaGVuIGVuYWJsZWQsIHRoaXMgd2lsbCBhbGxvdyB0aGUgdXNlIG9mIHRoZSBgP19fbmV4dHBwcm9ubHlgIHF1ZXJ5IHRvXG4gICAgLy8gZW5hYmxlIGRlYnVnZ2luZyBvZiB0aGUgc3RhdGljIHNoZWxsLlxuICAgIGNvbnN0IGhhc0RlYnVnU3RhdGljU2hlbGxRdWVyeSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9FWFBFUklNRU5UQUxfU1RBVElDX1NIRUxMX0RFQlVHR0lORyA9PT0gJzEnICYmIHR5cGVvZiBxdWVyeS5fX25leHRwcHJvbmx5ICE9PSAndW5kZWZpbmVkJyAmJiBjb3VsZFN1cHBvcnRQUFI7XG4gICAgLy8gV2hlbiBlbmFibGVkLCB0aGlzIHdpbGwgYWxsb3cgdGhlIHVzZSBvZiB0aGUgYD9fX25leHRwcHJvbmx5YCBxdWVyeVxuICAgIC8vIHRvIGVuYWJsZSBkZWJ1Z2dpbmcgb2YgdGhlIGZhbGxiYWNrIHNoZWxsLlxuICAgIGNvbnN0IGhhc0RlYnVnRmFsbGJhY2tTaGVsbFF1ZXJ5ID0gaGFzRGVidWdTdGF0aWNTaGVsbFF1ZXJ5ICYmIHF1ZXJ5Ll9fbmV4dHBwcm9ubHkgPT09ICdmYWxsYmFjayc7XG4gICAgLy8gVGhpcyBwYWdlIHN1cHBvcnRzIFBQUiBpZiBpdCBpcyBtYXJrZWQgYXMgYmVpbmcgYFBBUlRJQUxMWV9TVEFUSUNgIGluIHRoZVxuICAgIC8vIHByZXJlbmRlciBtYW5pZmVzdCBhbmQgdGhpcyBpcyBhbiBhcHAgcGFnZS5cbiAgICBjb25zdCBpc1JvdXRlUFBSRW5hYmxlZCA9IGNvdWxkU3VwcG9ydFBQUiAmJiAoKChfdGhpcyA9IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gPz8gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0pID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcy5yZW5kZXJpbmdNb2RlKSA9PT0gJ1BBUlRJQUxMWV9TVEFUSUMnIHx8IC8vIElkZWFsbHkgd2UnZCB3YW50IHRvIGNoZWNrIHRoZSBhcHBDb25maWcgdG8gc2VlIGlmIHRoaXMgcGFnZSBoYXMgUFBSXG4gICAgLy8gZW5hYmxlZCBvciBub3QsIGJ1dCB0aGF0IHdvdWxkIHJlcXVpcmUgcGx1bWJpbmcgdGhlIGFwcENvbmZpZyB0aHJvdWdoXG4gICAgLy8gdG8gdGhlIHNlcnZlciBkdXJpbmcgZGV2ZWxvcG1lbnQuIFdlIGFzc3VtZSB0aGF0IHRoZSBwYWdlIHN1cHBvcnRzIGl0XG4gICAgLy8gYnV0IG9ubHkgZHVyaW5nIGRldmVsb3BtZW50LlxuICAgIGhhc0RlYnVnU3RhdGljU2hlbGxRdWVyeSAmJiAocm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgKHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQuZXhwZXJpbWVudGFsVGVzdFByb3h5KSA9PT0gdHJ1ZSkpO1xuICAgIGNvbnN0IGlzRGVidWdTdGF0aWNTaGVsbCA9IGhhc0RlYnVnU3RhdGljU2hlbGxRdWVyeSAmJiBpc1JvdXRlUFBSRW5hYmxlZDtcbiAgICAvLyBXZSBzaG91bGQgZW5hYmxlIGRlYnVnZ2luZyBkeW5hbWljIGFjY2Vzc2VzIHdoZW4gdGhlIHN0YXRpYyBzaGVsbFxuICAgIC8vIGRlYnVnZ2luZyBoYXMgYmVlbiBlbmFibGVkIGFuZCB3ZSdyZSBhbHNvIGluIGRldmVsb3BtZW50IG1vZGUuXG4gICAgY29uc3QgaXNEZWJ1Z0R5bmFtaWNBY2Nlc3NlcyA9IGlzRGVidWdTdGF0aWNTaGVsbCAmJiByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZTtcbiAgICBjb25zdCBpc0RlYnVnRmFsbGJhY2tTaGVsbCA9IGhhc0RlYnVnRmFsbGJhY2tTaGVsbFF1ZXJ5ICYmIGlzUm91dGVQUFJFbmFibGVkO1xuICAgIC8vIElmIHdlJ3JlIGluIG1pbmltYWwgbW9kZSwgdGhlbiB0cnkgdG8gZ2V0IHRoZSBwb3N0cG9uZWQgaW5mb3JtYXRpb24gZnJvbVxuICAgIC8vIHRoZSByZXF1ZXN0IG1ldGFkYXRhLiBJZiBhdmFpbGFibGUsIHVzZSBpdCBmb3IgcmVzdW1pbmcgdGhlIHBvc3Rwb25lZFxuICAgIC8vIHJlbmRlci5cbiAgICBjb25zdCBtaW5pbWFsUG9zdHBvbmVkID0gaXNSb3V0ZVBQUkVuYWJsZWQgPyBpbml0aWFsUG9zdHBvbmVkIDogdW5kZWZpbmVkO1xuICAgIC8vIElmIFBQUiBpcyBlbmFibGVkLCBhbmQgdGhpcyBpcyBhIFJTQyByZXF1ZXN0IChidXQgbm90IGEgcHJlZmV0Y2gpLCB0aGVuXG4gICAgLy8gd2UgY2FuIHVzZSB0aGlzIGZhY3QgdG8gb25seSBnZW5lcmF0ZSB0aGUgZmxpZ2h0IGRhdGEgZm9yIHRoZSByZXF1ZXN0XG4gICAgLy8gYmVjYXVzZSB3ZSBjYW4ndCBjYWNoZSB0aGUgSFRNTCAoYXMgaXQncyBhbHNvIGR5bmFtaWMpLlxuICAgIGNvbnN0IGlzRHluYW1pY1JTQ1JlcXVlc3QgPSBpc1JvdXRlUFBSRW5hYmxlZCAmJiBpc1JTQ1JlcXVlc3QgJiYgIWlzUHJlZmV0Y2hSU0NSZXF1ZXN0O1xuICAgIC8vIE5lZWQgdG8gcmVhZCB0aGlzIGJlZm9yZSBpdCdzIHN0cmlwcGVkIGJ5IHN0cmlwRmxpZ2h0SGVhZGVycy4gV2UgZG9uJ3RcbiAgICAvLyBuZWVkIHRvIHRyYW5zZmVyIGl0IHRvIHRoZSByZXF1ZXN0IG1ldGEgYmVjYXVzZSBpdCdzIG9ubHkgcmVhZFxuICAgIC8vIHdpdGhpbiB0aGlzIGZ1bmN0aW9uOyB0aGUgc3RhdGljIHNlZ21lbnQgZGF0YSBzaG91bGQgaGF2ZSBhbHJlYWR5IGJlZW5cbiAgICAvLyBnZW5lcmF0ZWQsIHNvIHdlIHdpbGwgYWx3YXlzIGVpdGhlciByZXR1cm4gYSBzdGF0aWMgcmVzcG9uc2Ugb3IgYSA0MDQuXG4gICAgY29uc3Qgc2VnbWVudFByZWZldGNoSGVhZGVyID0gZ2V0UmVxdWVzdE1ldGEocmVxLCAnc2VnbWVudFByZWZldGNoUlNDUmVxdWVzdCcpO1xuICAgIC8vIFRPRE86IGludmVzdGlnYXRlIGV4aXN0aW5nIGJ1ZyB3aXRoIHNob3VsZFNlcnZlU3RyZWFtaW5nTWV0YWRhdGEgYWx3YXlzXG4gICAgLy8gYmVpbmcgdHJ1ZSBmb3IgYSByZXZhbGlkYXRlIGR1ZSB0byBtb2RpZnlpbmcgdGhlIGJhc2Utc2VydmVyIHRoaXMucmVuZGVyT3B0c1xuICAgIC8vIHdoZW4gZml4aW5nIHRoaXMgdG8gY29ycmVjdCBsb2dpYyBpdCBjYXVzZXMgaHlkcmF0aW9uIGlzc3VlIHNpbmNlIHdlIHNldFxuICAgIC8vIHNlcnZlU3RyZWFtaW5nTWV0YWRhdGEgdG8gdHJ1ZSBkdXJpbmcgZXhwb3J0XG4gICAgbGV0IHNlcnZlU3RyZWFtaW5nTWV0YWRhdGEgPSAhdXNlckFnZW50ID8gdHJ1ZSA6IHNob3VsZFNlcnZlU3RyZWFtaW5nTWV0YWRhdGEodXNlckFnZW50LCBuZXh0Q29uZmlnLmh0bWxMaW1pdGVkQm90cyk7XG4gICAgaWYgKGlzSHRtbEJvdCAmJiBpc1JvdXRlUFBSRW5hYmxlZCkge1xuICAgICAgICBpc1NTRyA9IGZhbHNlO1xuICAgICAgICBzZXJ2ZVN0cmVhbWluZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIEluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgd2FudCB0byBnZW5lcmF0ZSBkeW5hbWljIEhUTUwuXG4gICAgbGV0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTCwgdW5sZXNzIGl0J3NcbiAgICAvLyBhIGRhdGEgcmVxdWVzdCwgaW4gd2hpY2ggY2FzZSB3ZSBvbmx5IHByb2R1Y2Ugc3RhdGljIEhUTUwuXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc1NTRyB8fCAvLyBJZiB0aGlzIHJlcXVlc3QgaGFzIHByb3ZpZGVkIHBvc3Rwb25lZCBkYXRhLCBpdCBzdXBwb3J0cyBkeW5hbWljXG4gICAgLy8gSFRNTC5cbiAgICB0eXBlb2YgaW5pdGlhbFBvc3Rwb25lZCA9PT0gJ3N0cmluZycgfHwgLy8gSWYgdGhpcyBpcyBhIGR5bmFtaWMgUlNDIHJlcXVlc3QsIHRoZW4gdGhpcyByZW5kZXIgc3VwcG9ydHMgZHluYW1pY1xuICAgIC8vIEhUTUwgKGl0J3MgZHluYW1pYykuXG4gICAgaXNEeW5hbWljUlNDUmVxdWVzdDtcbiAgICAvLyBXaGVuIGh0bWwgYm90cyByZXF1ZXN0IFBQUiBwYWdlLCBwZXJmb3JtIHRoZSBmdWxsIGR5bmFtaWMgcmVuZGVyaW5nLlxuICAgIGNvbnN0IHNob3VsZFdhaXRPbkFsbFJlYWR5ID0gaXNIdG1sQm90ICYmIGlzUm91dGVQUFJFbmFibGVkO1xuICAgIGxldCBzc2dDYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKCFpc0RyYWZ0TW9kZSAmJiBpc1NTRyAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgJiYgIWlzUG9zc2libGVTZXJ2ZXJBY3Rpb24gJiYgIW1pbmltYWxQb3N0cG9uZWQgJiYgIWlzRHluYW1pY1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgc3NnQ2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgIH1cbiAgICAvLyB0aGUgc3RhdGljUGF0aEtleSBkaWZmZXJzIGZyb20gc3NnQ2FjaGVLZXkgc2luY2VcbiAgICAvLyBzc2dDYWNoZUtleSBpcyBudWxsIGluIGRldiBzaW5jZSB3ZSdyZSBhbHdheXMgaW4gXCJkeW5hbWljXCJcbiAgICAvLyBtb2RlIGluIGRldiB0byBieXBhc3MgdGhlIGNhY2hlLCBidXQgd2Ugc3RpbGwgbmVlZCB0byBob25vclxuICAgIC8vIGR5bmFtaWNQYXJhbXMgPSBmYWxzZSBpbiBkZXYgbW9kZVxuICAgIGxldCBzdGF0aWNQYXRoS2V5ID0gc3NnQ2FjaGVLZXk7XG4gICAgaWYgKCFzdGF0aWNQYXRoS2V5ICYmIHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgIHN0YXRpY1BhdGhLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgIH1cbiAgICAvLyBJZiB0aGlzIGlzIGEgcmVxdWVzdCBmb3IgYW4gYXBwIHBhdGggdGhhdCBzaG91bGQgYmUgc3RhdGljYWxseSBnZW5lcmF0ZWRcbiAgICAvLyBhbmQgd2UgYXJlbid0IGluIHRoZSBlZGdlIHJ1bnRpbWUsIHN0cmlwIHRoZSBmbGlnaHQgaGVhZGVycyBzbyBpdCB3aWxsXG4gICAgLy8gZ2VuZXJhdGUgdGhlIHN0YXRpYyByZXNwb25zZS5cbiAgICBpZiAoIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSAmJiBpc1NTRyAmJiBpc1JTQ1JlcXVlc3QgJiYgIWlzRHluYW1pY1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgc3RyaXBGbGlnaHRIZWFkZXJzKHJlcS5oZWFkZXJzKTtcbiAgICB9XG4gICAgY29uc3QgQ29tcG9uZW50TW9kID0ge1xuICAgICAgICAuLi5lbnRyeUJhc2UsXG4gICAgICAgIHRyZWUsXG4gICAgICAgIHBhZ2VzLFxuICAgICAgICBHbG9iYWxFcnJvcixcbiAgICAgICAgaGFuZGxlcixcbiAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgIF9fbmV4dF9hcHBfX1xuICAgIH07XG4gICAgLy8gQmVmb3JlIHJlbmRlcmluZyAod2hpY2ggaW5pdGlhbGl6ZXMgY29tcG9uZW50IHRyZWUgbW9kdWxlcyksIHdlIGhhdmUgdG9cbiAgICAvLyBzZXQgdGhlIHJlZmVyZW5jZSBtYW5pZmVzdHMgdG8gb3VyIGdsb2JhbCBzdG9yZSBzbyBTZXJ2ZXIgQWN0aW9uJ3NcbiAgICAvLyBlbmNyeXB0aW9uIHV0aWwgY2FuIGFjY2VzcyB0byB0aGVtIGF0IHRoZSB0b3AgbGV2ZWwgb2YgdGhlIHBhZ2UgbW9kdWxlLlxuICAgIGlmIChzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QgJiYgY2xpZW50UmVmZXJlbmNlTWFuaWZlc3QpIHtcbiAgICAgICAgc2V0UmVmZXJlbmNlTWFuaWZlc3RzU2luZ2xldG9uKHtcbiAgICAgICAgICAgIHBhZ2U6IHNyY1BhZ2UsXG4gICAgICAgICAgICBjbGllbnRSZWZlcmVuY2VNYW5pZmVzdCxcbiAgICAgICAgICAgIHNlcnZlckFjdGlvbnNNYW5pZmVzdCxcbiAgICAgICAgICAgIHNlcnZlck1vZHVsZU1hcDogY3JlYXRlU2VydmVyTW9kdWxlTWFwKHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3RcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmFyeUhlYWRlciA9IHJvdXRlTW9kdWxlLmdldFZhcnlIZWFkZXIocmVzb2x2ZWRQYXRobmFtZSwgaW50ZXJjZXB0aW9uUm91dGVQYXR0ZXJucyk7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ1ZhcnknLCB2YXJ5SGVhZGVyKTtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3BhbiwgY29udGV4dCk9PntcbiAgICAgICAgICAgIGNvbnN0IG5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkYXB0IGZvciBwdXR0aW5nIHRoZSBSREMgaW5zaWRlIHRoZSBwb3N0cG9uZWQgZGF0YVxuICAgICAgICAgICAgLy8gSWYgd2UncmUgaW4gZGV2LCBhbmQgdGhpcyBpc24ndCBhIHByZWZldGNoIG9yIGEgc2VydmVyIGFjdGlvbixcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCBzZWVkIHRoZSByZXN1bWUgZGF0YSBjYWNoZS5cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMgJiYgIWlzUHJlZmV0Y2hSU0NSZXF1ZXN0ICYmICFjb250ZXh0LnJlbmRlck9wdHMuaXNQb3NzaWJsZVNlcnZlckFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YXJtdXAgPSBhd2FpdCByb3V0ZU1vZHVsZS53YXJtdXAobmV4dFJlcSwgbmV4dFJlcywgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB3YXJtdXAgaXMgc3VjY2Vzc2Z1bCwgd2Ugc2hvdWxkIHVzZSB0aGUgcmVzdW1lIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FjaGUgZnJvbSB0aGUgd2FybXVwLlxuICAgICAgICAgICAgICAgICAgICBpZiAod2FybXVwLm1ldGFkYXRhLnJlbmRlclJlc3VtZURhdGFDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZW5kZXJPcHRzLnJlbmRlclJlc3VtZURhdGFDYWNoZSA9IHdhcm11cC5tZXRhZGF0YS5yZW5kZXJSZXN1bWVEYXRhQ2FjaGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUucmVuZGVyKG5leHRSZXEsIG5leHRSZXMsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZG9SZW5kZXIgPSBhc3luYyAoeyBzcGFuLCBwb3N0cG9uZWQsIGZhbGxiYWNrUm91dGVQYXJhbXMgfSk9PntcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHBhZ2U6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50c0htckNhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdzZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGUnKSxcbiAgICAgICAgICAgICAgICBmYWxsYmFja1JvdXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXBwOiAoKT0+bnVsbCxcbiAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnQ6ICgpPT5udWxsLFxuICAgICAgICAgICAgICAgICAgICBwYWdlQ29uZmlnOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgQ29tcG9uZW50TW9kLFxuICAgICAgICAgICAgICAgICAgICBDb21wb25lbnQ6IGludGVyb3BEZWZhdWx0KENvbXBvbmVudE1vZCksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBvc3Rwb25lZCxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkV2FpdE9uQWxsUmVhZHksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlU3RyZWFtaW5nTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlOiB0eXBlb2YgcG9zdHBvbmVkID09PSAnc3RyaW5nJyB8fCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEZvbnRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RMb2FkYWJsZU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzdWJyZXNvdXJjZUludGVncml0eU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFJlZmVyZW5jZU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzZXRJc3JTdGF0dXM6IHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQuc2V0SXNyU3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBkaXI6IHByb2Nlc3MuZW52Lk5FWFRfUlVOVElNRSA9PT0gJ25vZGVqcycgPyByZXF1aXJlKCdwYXRoJykuam9pbigvKiB0dXJib3BhY2tJZ25vcmU6IHRydWUgKi8gcHJvY2Vzcy5jd2QoKSwgcm91dGVNb2R1bGUucmVsYXRpdmVQcm9qZWN0RGlyKSA6IGAke3Byb2Nlc3MuY3dkKCl9LyR7cm91dGVNb2R1bGUucmVsYXRpdmVQcm9qZWN0RGlyfWAsXG4gICAgICAgICAgICAgICAgICAgIGlzRHJhZnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGU6IGlzU1NHICYmICFwb3N0cG9uZWQgJiYgIWlzRHluYW1pY1JTQ1JlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIGJvdFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc1Bvc3NpYmxlU2VydmVyQWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhc3NldFByZWZpeDogbmV4dENvbmZpZy5hc3NldFByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dENvbmZpZ091dHB1dDogbmV4dENvbmZpZy5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBuZXh0Q29uZmlnLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICB0cmFpbGluZ1NsYXNoOiBuZXh0Q29uZmlnLnRyYWlsaW5nU2xhc2gsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXdQcm9wczogcHJlcmVuZGVyTWFuaWZlc3QucHJldmlldyxcbiAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudElkOiBuZXh0Q29uZmlnLmRlcGxveW1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlVGFpbnRpbmc6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLnRhaW50LFxuICAgICAgICAgICAgICAgICAgICBodG1sTGltaXRlZEJvdHM6IG5leHRDb25maWcuaHRtbExpbWl0ZWRCb3RzLFxuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sU2VnbWVudEV4cGxvcmVyOiBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5kZXZ0b29sU2VnbWVudEV4cGxvcmVyLFxuICAgICAgICAgICAgICAgICAgICByZWFjdE1heEhlYWRlcnNMZW5ndGg6IG5leHRDb25maWcucmVhY3RNYXhIZWFkZXJzTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IG5leHRDb25maWcuYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckFjdGlvbnM6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLnNlcnZlckFjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLmlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEV4cG9ydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RhdGljR2VuZXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVidWdEeW5hbWljQWNjZXNzZXM6IGlzRGVidWdEeW5hbWljQWNjZXNzZXNcbiAgICAgICAgICAgICAgICAgICAgfSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlVGltZTogbmV4dENvbmZpZy5leHBpcmVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbGVUaW1lczogbmV4dENvbmZpZy5leHBlcmltZW50YWwuc3RhbGVUaW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50U2VnbWVudENhY2hlOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNsaWVudFNlZ21lbnRDYWNoZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYXJhbVBhcnNpbmc6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuY2xpZW50UGFyYW1QYXJzaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNPbkhvdmVyOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmR5bmFtaWNPbkhvdmVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZUNzczogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5pbmxpbmVDc3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VHJhY2VNZXRhZGF0YTogbmV4dENvbmZpZy5leHBlcmltZW50YWwuY2xpZW50VHJhY2VNZXRhZGF0YSB8fCBbXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5vbignY2xvc2UnLCBjYik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6ICgpPT57fSxcbiAgICAgICAgICAgICAgICAgICAgb25JbnN0cnVtZW50YXRpb25SZXF1ZXN0RXJyb3I6IChlcnJvciwgX3JlcXVlc3QsIGVycm9yQ29udGV4dCk9PnJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyb3IsIGVycm9yQ29udGV4dCwgcm91dGVyU2VydmVyQ29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgIGVycjogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW52b2tlRXJyb3InKSxcbiAgICAgICAgICAgICAgICAgICAgZGV2OiByb3V0ZU1vZHVsZS5pc0RldlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShzcGFuLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IHsgbWV0YWRhdGEgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgIGNvbnN0IHsgY2FjaGVDb250cm9sLCBoZWFkZXJzID0ge30sIC8vIEFkZCBhbnkgZmV0Y2ggdGFncyB0aGF0IHdlcmUgb24gdGhlIHBhZ2UgdG8gdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gICAgICAgICAgICBmZXRjaFRhZ3M6IGNhY2hlVGFncyB9ID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1bGwgYW55IGZldGNoIG1ldHJpY3MgZnJvbSB0aGUgcmVuZGVyIG9udG8gdGhlIHJlcXVlc3QuXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gbWV0YWRhdGEuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgdGhyb3cgc3RhdGljIHRvIGR5bmFtaWMgZXJyb3JzIGluIGRldiBhcyBpc1NTR1xuICAgICAgICAgICAgLy8gaXMgYSBiZXN0IGd1ZXNzIGluIGRldiBzaW5jZSB3ZSBkb24ndCBoYXZlIHRoZSBwcmVyZW5kZXIgcGFzc1xuICAgICAgICAgICAgLy8gdG8ga25vdyB3aGV0aGVyIHRoZSBwYXRoIGlzIGFjdHVhbGx5IHN0YXRpYyBvciBub3RcbiAgICAgICAgICAgIGlmIChpc1NTRyAmJiAoY2FjaGVDb250cm9sID09IG51bGwgPyB2b2lkIDAgOiBjYWNoZUNvbnRyb2wucmV2YWxpZGF0ZSkgPT09IDAgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc1JvdXRlUFBSRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY0JhaWxvdXRJbmZvID0gbWV0YWRhdGEuc3RhdGljQmFpbG91dEluZm87XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgUGFnZSBjaGFuZ2VkIGZyb20gc3RhdGljIHRvIGR5bmFtaWMgYXQgcnVudGltZSAke3Jlc29sdmVkUGF0aG5hbWV9JHsoc3RhdGljQmFpbG91dEluZm8gPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRpY0JhaWxvdXRJbmZvLmRlc2NyaXB0aW9uKSA/IGAsIHJlYXNvbjogJHtzdGF0aWNCYWlsb3V0SW5mby5kZXNjcmlwdGlvbn1gIDogYGB9YCArIGBcXG5zZWUgbW9yZSBoZXJlIGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL2FwcC1zdGF0aWMtdG8tZHluYW1pYy1lcnJvcmApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTEzMlwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpY0JhaWxvdXRJbmZvID09IG51bGwgPyB2b2lkIDAgOiBzdGF0aWNCYWlsb3V0SW5mby5zdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IHN0YXRpY0JhaWxvdXRJbmZvLnN0YWNrO1xuICAgICAgICAgICAgICAgICAgICBlcnIuc3RhY2sgPSBlcnIubWVzc2FnZSArIHN0YWNrLnN1YnN0cmluZyhzdGFjay5pbmRleE9mKCdcXG4nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICAgICAgICAgICAgICBodG1sOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHJzY0RhdGE6IG1ldGFkYXRhLmZsaWdodERhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBvc3Rwb25lZDogbWV0YWRhdGEucG9zdHBvbmVkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IG1ldGFkYXRhLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnREYXRhOiBtZXRhZGF0YS5zZWdtZW50RGF0YVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FjaGVDb250cm9sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IGhhc1Jlc29sdmVkLCBwcmV2aW91c0NhY2hlRW50cnksIGlzUmV2YWxpZGF0aW5nLCBzcGFuIH0pPT57XG4gICAgICAgICAgICBjb25zdCBpc1Byb2R1Y3Rpb24gPSByb3V0ZU1vZHVsZS5pc0RldiA9PT0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBkaWRSZXNwb25kID0gaGFzUmVzb2x2ZWQgfHwgcmVzLndyaXRhYmxlRW5kZWQ7XG4gICAgICAgICAgICAvLyBza2lwIG9uLWRlbWFuZCByZXZhbGlkYXRlIGlmIGNhY2hlIGlzIG5vdCBwcmVzZW50IGFuZFxuICAgICAgICAgICAgLy8gcmV2YWxpZGF0ZS1pZi1nZW5lcmF0ZWQgaXMgc2V0XG4gICAgICAgICAgICBpZiAoaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSAmJiAhbWluaW1hbE1vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocm91dGVyU2VydmVyQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogcm91dGVyU2VydmVyQ29udGV4dC5yZW5kZXI0MDQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVyU2VydmVyQ29udGV4dC5yZW5kZXI0MDQocmVxLCByZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZhbGxiYWNrTW9kZTtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tNb2RlID0gcGFyc2VGYWxsYmFja0ZpZWxkKHByZXJlbmRlckluZm8uZmFsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2hlbiBzZXJ2aW5nIGEgSFRNTCBib3QgcmVxdWVzdCwgd2Ugd2FudCB0byBzZXJ2ZSBhIGJsb2NraW5nIHJlbmRlciBhbmRcbiAgICAgICAgICAgIC8vIG5vdCB0aGUgcHJlcmVuZGVyZWQgcGFnZS4gVGhpcyBlbnN1cmVzIHRoYXQgdGhlIGNvcnJlY3QgY29udGVudCBpcyBzZXJ2ZWRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBib3QgaW4gdGhlIGhlYWQuXG4gICAgICAgICAgICBpZiAoZmFsbGJhY2tNb2RlID09PSBGYWxsYmFja01vZGUuUFJFUkVOREVSICYmIGlzQm90KHVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUm91dGVQUFJFbmFibGVkIHx8IGlzSHRtbEJvdCkge1xuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja01vZGUgPSBGYWxsYmFja01vZGUuQkxPQ0tJTkdfU1RBVElDX1JFTkRFUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IGFkYXB0IGZvciBQUFJcbiAgICAgICAgICAgIC8vIG9ubHkgYWxsb3cgb24tZGVtYW5kIHJldmFsaWRhdGUgZm9yIGZhbGxiYWNrOiB0cnVlL2Jsb2NraW5nXG4gICAgICAgICAgICAvLyBvciBmb3IgcHJlcmVuZGVyZWQgZmFsbGJhY2s6IGZhbHNlIHBhdGhzXG4gICAgICAgICAgICBpZiAoaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgKGZhbGxiYWNrTW9kZSAhPT0gRmFsbGJhY2tNb2RlLk5PVF9GT1VORCB8fCBwcmV2aW91c0NhY2hlRW50cnkpKSB7XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tNb2RlID0gRmFsbGJhY2tNb2RlLkJMT0NLSU5HX1NUQVRJQ19SRU5ERVI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1pbmltYWxNb2RlICYmIGZhbGxiYWNrTW9kZSAhPT0gRmFsbGJhY2tNb2RlLkJMT0NLSU5HX1NUQVRJQ19SRU5ERVIgJiYgc3RhdGljUGF0aEtleSAmJiAhZGlkUmVzcG9uZCAmJiAhaXNEcmFmdE1vZGUgJiYgcGFnZUlzRHluYW1pYyAmJiAoaXNQcm9kdWN0aW9uIHx8ICFpc1ByZXJlbmRlcmVkKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYWdlIGhhcyBkeW5hbWljUGFyYW1zOiBmYWxzZSBhbmQgdGhpcyBwYXRobmFtZSB3YXNuJ3RcbiAgICAgICAgICAgICAgICAvLyBwcmVyZW5kZXJlZCB0cmlnZ2VyIHRoZSBubyBmYWxsYmFjayBoYW5kbGluZ1xuICAgICAgICAgICAgICAgIGlmICgvLyBJbiBkZXZlbG9wbWVudCwgZmFsbCB0aHJvdWdoIHRvIHJlbmRlciB0byBoYW5kbGUgbWlzc2luZ1xuICAgICAgICAgICAgICAgIC8vIGdldFN0YXRpY1BhdGhzLlxuICAgICAgICAgICAgICAgIChpc1Byb2R1Y3Rpb24gfHwgcHJlcmVuZGVySW5mbykgJiYgLy8gV2hlbiBmYWxsYmFjayBpc24ndCBwcmVzZW50LCBhYm9ydCB0aGlzIHJlbmRlciBzbyB3ZSA0MDRcbiAgICAgICAgICAgICAgICBmYWxsYmFja01vZGUgPT09IEZhbGxiYWNrTW9kZS5OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZmFsbGJhY2tSZXNwb25zZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNSb3V0ZVBQUkVuYWJsZWQgJiYgIWlzUlNDUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUtleSA9IHR5cGVvZiAocHJlcmVuZGVySW5mbyA9PSBudWxsID8gdm9pZCAwIDogcHJlcmVuZGVySW5mby5mYWxsYmFjaykgPT09ICdzdHJpbmcnID8gcHJlcmVuZGVySW5mby5mYWxsYmFjayA6IGlzUHJvZHVjdGlvbiA/IG5vcm1hbGl6ZWRTcmNQYWdlIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSByZXNwb25zZSBjYWNoZSBoZXJlIHRvIGhhbmRsZSB0aGUgcmV2YWxpZGF0aW9uIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyBtYW5hZ2VtZW50IG9mIHRoZSBmYWxsYmFjayBzaGVsbC5cbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tSZXNwb25zZSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGYWxsYmFjazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcjogYXN5bmMgKCk9PmRvUmVuZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgcGFzcyBgdW5kZWZpbmVkYCBhcyByZW5kZXJpbmcgYSBmYWxsYmFjayBpc24ndCByZXN1bWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3Rwb25lZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxsYmFja1JvdXRlUGFyYW1zOiAvLyBJZiB3ZSdyZSBpbiBwcm9kdWN0aW9uIG9yIHdlJ3JlIGRlYnVnZ2luZyB0aGUgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hlbGwgdGhlbiB3ZSBzaG91bGQgcG9zdHBvbmUgd2hlbiBkeW5hbWljIHBhcmFtcyBhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXNzZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJvZHVjdGlvbiB8fCBpc0RlYnVnRmFsbGJhY2tTaGVsbCA/IGdldEZhbGxiYWNrUm91dGVQYXJhbXMobm9ybWFsaXplZFNyY1BhZ2UpIDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZmFsbGJhY2sgcmVzcG9uc2Ugd2FzIHNldCB0byBudWxsLCB0aGVuIHdlIHNob3VsZCByZXR1cm4gbnVsbC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrUmVzcG9uc2UgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGlmIHdlIGRpZCBnZXQgYSBmYWxsYmFjayByZXNwb25zZSwgd2Ugc2hvdWxkIHJldHVybiBpdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY2FjaGUgY29udHJvbCBmcm9tIHRoZSByZXNwb25zZSB0byBwcmV2ZW50IGl0IGZyb20gYmVpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZWQgaW4gdGhlIHN1cnJvdW5kaW5nIGNhY2hlLlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZhbGxiYWNrUmVzcG9uc2UuY2FjaGVDb250cm9sO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IHJlcXVlc3RzIHRoYXQgYXJlbid0IHJldmFsaWRhdGluZyBjYW4gYmUgcmVzdW1lZC4gSWYgd2UgaGF2ZSB0aGVcbiAgICAgICAgICAgIC8vIG1pbmltYWwgcG9zdHBvbmVkIGRhdGEsIHRoZW4gd2Ugc2hvdWxkIHJlc3VtZSB0aGUgcmVuZGVyIHdpdGggaXQuXG4gICAgICAgICAgICBjb25zdCBwb3N0cG9uZWQgPSAhaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgIWlzUmV2YWxpZGF0aW5nICYmIG1pbmltYWxQb3N0cG9uZWQgPyBtaW5pbWFsUG9zdHBvbmVkIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSdyZSBpbiBtaW5pbWFsIG1vZGUsIGlmIHdlJ3JlIHRyeWluZyB0byBkZWJ1ZyB0aGUgc3RhdGljIHNoZWxsLFxuICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIGp1c3QgcmV0dXJuIG5vdGhpbmcgaW5zdGVhZCBvZiByZXN1bWluZyB0aGUgZHluYW1pYyByZW5kZXIuXG4gICAgICAgICAgICBpZiAoKGlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzKSAmJiB0eXBlb2YgcG9zdHBvbmVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiBSZW5kZXJSZXN1bHQuRU1QVFksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YToge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBkeW5hbWljIHJvdXRlIHdpdGggUFBSIGVuYWJsZWQgYW5kIHRoZSBkZWZhdWx0IHJvdXRlXG4gICAgICAgICAgICAvLyBtYXRjaGVzIHdlcmUgc2V0LCB0aGVuIHdlIHNob3VsZCBwYXNzIHRoZSBmYWxsYmFjayByb3V0ZSBwYXJhbXMgdG9cbiAgICAgICAgICAgIC8vIHRoZSByZW5kZXJlciBhcyB0aGlzIGlzIGEgZmFsbGJhY2sgcmV2YWxpZGF0aW9uIHJlcXVlc3QuXG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja1JvdXRlUGFyYW1zID0gcGFnZUlzRHluYW1pYyAmJiBpc1JvdXRlUFBSRW5hYmxlZCAmJiAoZ2V0UmVxdWVzdE1ldGEocmVxLCAncmVuZGVyRmFsbGJhY2tTaGVsbCcpIHx8IGlzRGVidWdGYWxsYmFja1NoZWxsKSA/IGdldEZhbGxiYWNrUm91dGVQYXJhbXMocGF0aG5hbWUpIDogbnVsbDtcbiAgICAgICAgICAgIC8vIFBlcmZvcm0gdGhlIHJlbmRlci5cbiAgICAgICAgICAgIHJldHVybiBkb1JlbmRlcih7XG4gICAgICAgICAgICAgICAgc3BhbixcbiAgICAgICAgICAgICAgICBwb3N0cG9uZWQsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tSb3V0ZVBhcmFtc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUsIF9jYWNoZWREYXRhX2hlYWRlcnM7XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIGNhY2hlS2V5OiBzc2dDYWNoZUtleSxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcjogKGMpPT5yZXNwb25zZUdlbmVyYXRvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZCxcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbiBkZXYsIHdlIHNob3VsZCBub3QgY2FjaGUgcGFnZXMgZm9yIGFueSByZWFzb24uXG4gICAgICAgICAgICBpZiAocm91dGVNb2R1bGUuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ25vLXN0b3JlLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmIChzc2dDYWNoZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIGNhY2hlIGVudHJ5IG1pZ2h0IG5vdCBiZSBnZW5lcmF0ZWQgaWYgYSByZXNwb25zZSBpcyB3cml0dGVuXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIGBnZXRJbml0aWFsUHJvcHNgIG9yIGBnZXRTZXJ2ZXJTaWRlUHJvcHNgLCBidXQgdGhvc2Ugc2hvdWxkbid0XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgYSBjYWNoZSBrZXkuIElmIHdlIGRvIGhhdmUgYSBjYWNoZSBrZXkgYnV0IHdlIGRvbid0IGVuZCB1cFxuICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIGEgY2FjaGUgZW50cnksIHRoZW4gZWl0aGVyIE5leHQuanMgb3IgdGhlIGFwcGxpY2F0aW9uIGhhcyBhXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1ZyB0aGF0IG5lZWRzIGZpeGluZy5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcignaW52YXJpYW50OiBjYWNoZSBlbnRyeSByZXF1aXJlZCBidXQgbm90IGdlbmVyYXRlZCcpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU2MlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCgoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUEFHRSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50IGFwcC1wYWdlIGhhbmRsZXIgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAkeyhfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzA3XCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpZFBvc3Rwb25lID0gdHlwZW9mIGNhY2hlRW50cnkudmFsdWUucG9zdHBvbmVkID09PSAnc3RyaW5nJztcbiAgICAgICAgICAgIGlmIChpc1NTRyAmJiAvLyBXZSBkb24ndCB3YW50IHRvIHNlbmQgYSBjYWNoZSBoZWFkZXIgZm9yIHJlcXVlc3RzIHRoYXQgY29udGFpbiBkeW5hbWljXG4gICAgICAgICAgICAvLyBkYXRhLiBJZiB0aGlzIGlzIGEgRHluYW1pYyBSU0MgcmVxdWVzdCBvciB3YXNuJ3QgYSBQcmVmZXRjaCBSU0NcbiAgICAgICAgICAgIC8vIHJlcXVlc3QsIHRoZW4gd2Ugc2hvdWxkIHNldCB0aGUgY2FjaGUgaGVhZGVyLlxuICAgICAgICAgICAgIWlzRHluYW1pY1JTQ1JlcXVlc3QgJiYgKCFkaWRQb3N0cG9uZSB8fCBpc1ByZWZldGNoUlNDUmVxdWVzdCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1pbmltYWxNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCB4LW5leHRqcy1jYWNoZSBoZWFkZXIgdG8gbWF0Y2ggdGhlIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBzZXQgZm9yIHRoZSBpbWFnZS1vcHRpbWl6ZXJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldCBhIGhlYWRlciB1c2VkIGJ5IHRoZSBjbGllbnQgcm91dGVyIHRvIHNpZ25hbCB0aGUgcmVzcG9uc2UgaXMgc3RhdGljXG4gICAgICAgICAgICAgICAgLy8gYW5kIHNob3VsZCByZXNwZWN0IHRoZSBgc3RhdGljYCBjYWNoZSBzdGFsZVRpbWUgdmFsdWUuXG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcihORVhUX0lTX1BSRVJFTkRFUl9IRUFERVIsICcxJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBjYWNoZWREYXRhIH0gPSBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgLy8gQ29lcmNlIHRoZSBjYWNoZSBjb250cm9sIHBhcmFtZXRlciBmcm9tIHRoZSByZW5kZXIuXG4gICAgICAgICAgICBsZXQgY2FjaGVDb250cm9sO1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHJlc3VtZSByZXF1ZXN0IGluIG1pbmltYWwgbW9kZSBpdCBpcyBzdHJlYW1lZCB3aXRoIGR5bmFtaWNcbiAgICAgICAgICAgIC8vIGNvbnRlbnQgYW5kIHNob3VsZCBub3QgYmUgY2FjaGVkLlxuICAgICAgICAgICAgaWYgKG1pbmltYWxQb3N0cG9uZWQpIHtcbiAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWluaW1hbE1vZGUgJiYgaXNSU0NSZXF1ZXN0ICYmICFpc1ByZWZldGNoUlNDUmVxdWVzdCAmJiBpc1JvdXRlUFBSRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcm91dGVNb2R1bGUuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgcHJldmlldyBtb2RlIHJlcXVlc3QsIHdlIHNob3VsZG4ndCBjYWNoZSBpdFxuICAgICAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc1NTRykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjYWNoZSBlbnRyeSBoYXMgYSBjYWNoZSBjb250cm9sIHdpdGggYSByZXZhbGlkYXRlIHZhbHVlIHRoYXQnc1xuICAgICAgICAgICAgICAgICAgICAvLyBhIG51bWJlciwgdXNlIGl0LlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhY2hlRW50cnkuY2FjaGVDb250cm9sLnJldmFsaWRhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfY2FjaGVDb250cm9sO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sLnJldmFsaWRhdGUgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YWxpZCByZXZhbGlkYXRlIGNvbmZpZ3VyYXRpb24gcHJvdmlkZWQ6ICR7Y2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wucmV2YWxpZGF0ZX0gPCAxYCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMjJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGU6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sLnJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiAoKF9jYWNoZUVudHJ5X2NhY2hlQ29udHJvbCA9IGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfY2FjaGVDb250cm9sLmV4cGlyZSkgPz8gbmV4dENvbmZpZy5leHBpcmVUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGU6IENBQ0hFX09ORV9ZRUFSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgPSBjYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlZ21lbnRQcmVmZXRjaEhlYWRlciA9PT0gJ3N0cmluZycgJiYgKGNhY2hlZERhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGNhY2hlZERhdGEua2luZCkgPT09IENhY2hlZFJvdXRlS2luZC5BUFBfUEFHRSAmJiBjYWNoZWREYXRhLnNlZ21lbnREYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZWREYXRhX2hlYWRlcnMxO1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBwcmVmZXRjaCByZXF1ZXN0IGlzc3VlZCBieSB0aGUgY2xpZW50IFNlZ21lbnQgQ2FjaGUuIFRoZXNlXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5ldmVyIHJlYWNoIHRoZSBhcHBsaWNhdGlvbiBsYXllciAobGFtYmRhKS4gV2Ugc2hvdWxkIGVpdGhlclxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbmQgZnJvbSB0aGUgY2FjaGUgKEhJVCkgb3IgcmVzcG9uZCB3aXRoIDIwNCBObyBDb250ZW50IChNSVNTKS5cbiAgICAgICAgICAgICAgICAvLyBTZXQgYSBoZWFkZXIgdG8gaW5kaWNhdGUgdGhhdCBQUFIgaXMgZW5hYmxlZCBmb3IgdGhpcyByb3V0ZS4gVGhpc1xuICAgICAgICAgICAgICAgIC8vIGxldHMgdGhlIGNsaWVudCBkaXN0aW5ndWlzaCBiZXR3ZWVuIGEgcmVndWxhciBjYWNoZSBtaXNzIGFuZCBhIGNhY2hlXG4gICAgICAgICAgICAgICAgLy8gbWlzcyBkdWUgdG8gUFBSIGJlaW5nIGRpc2FibGVkLiBJbiBvdGhlciBjb250ZXh0cyB0aGlzIGhlYWRlciBpcyB1c2VkXG4gICAgICAgICAgICAgICAgLy8gdG8gaW5kaWNhdGUgdGhhdCB0aGUgcmVzcG9uc2UgY29udGFpbnMgZHluYW1pYyBkYXRhLCBidXQgaGVyZSB3ZSdyZVxuICAgICAgICAgICAgICAgIC8vIG9ubHkgdXNpbmcgaXQgdG8gaW5kaWNhdGUgdGhhdCB0aGUgZmVhdHVyZSBpcyBlbmFibGVkIOKAlCB0aGUgc2VnbWVudFxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIGl0c2VsZiBjb250YWlucyB3aGV0aGVyIHRoZSBkYXRhIGlzIGR5bmFtaWMuXG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcihORVhUX0RJRF9QT1NUUE9ORV9IRUFERVIsICcyJyk7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBjYWNoZSB0YWdzIGhlYWRlciB0byB0aGUgcmVzcG9uc2UgaWYgaXQgZXhpc3RzIGFuZCB3ZSdyZSBpblxuICAgICAgICAgICAgICAgIC8vIG1pbmltYWwgbW9kZSB3aGlsZSByZW5kZXJpbmcgYSBzdGF0aWMgcGFnZS5cbiAgICAgICAgICAgICAgICBjb25zdCB0YWdzID0gKF9jYWNoZWREYXRhX2hlYWRlcnMxID0gY2FjaGVkRGF0YS5oZWFkZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlZERhdGFfaGVhZGVyczFbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl07XG4gICAgICAgICAgICAgICAgaWYgKG1pbmltYWxNb2RlICYmIGlzU1NHICYmIHRhZ3MgJiYgdHlwZW9mIHRhZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoTkVYVF9DQUNIRV9UQUdTX0hFQURFUiwgdGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRTZWdtZW50ID0gY2FjaGVkRGF0YS5zZWdtZW50RGF0YS5nZXQoc2VnbWVudFByZWZldGNoSGVhZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZFNlZ21lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSBoaXRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRSZW5kZXJSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG93ZXJlZEJ5SGVhZGVyOiBuZXh0Q29uZmlnLnBvd2VyZWRCeUhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogUmVuZGVyUmVzdWx0LmZyb21TdGF0aWMobWF0Y2hlZFNlZ21lbnQsIFJTQ19DT05URU5UX1RZUEVfSEVBREVSKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhY2hlIG1pc3MuIEVpdGhlciBhIGNhY2hlIGVudHJ5IGZvciB0aGlzIHJvdXRlIGhhcyBub3QgYmVlbiBnZW5lcmF0ZWRcbiAgICAgICAgICAgICAgICAvLyAod2hpY2ggdGVjaG5pY2FsbHkgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSB3aGVuIFBQUiBpcyBlbmFibGVkLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gYXQgYSBtaW5pbXVtIHRoZXJlIHNob3VsZCBhbHdheXMgYmUgYSBmYWxsYmFjayBlbnRyeSkgb3IgdGhlcmUncyBub1xuICAgICAgICAgICAgICAgIC8vIG1hdGNoIGZvciB0aGUgcmVxdWVzdGVkIHNlZ21lbnQuIFJlc3BvbmQgd2l0aCBhIDIwNCBObyBDb250ZW50LiBXZVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGJvdGhlciB0byByZXNwb25kIHdpdGggNDA0LCBiZWNhdXNlIHRoZXNlIHJlcXVlc3RzIGFyZSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gaXNzdWVkIGFzIHBhcnQgb2YgYSBwcmVmZXRjaC5cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDIwNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyZWRCeUhlYWRlcjogbmV4dENvbmZpZy5wb3dlcmVkQnlIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogUmVuZGVyUmVzdWx0LkVNUFRZLFxuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgY2FsbGJhY2sgZm9yIGBvbkNhY2hlRW50cnlgLCBjYWxsIGl0IHdpdGggdGhlIGNhY2hlIGVudHJ5XG4gICAgICAgICAgICAvLyBhbmQgdGhlIHJldmFsaWRhdGUgb3B0aW9ucy5cbiAgICAgICAgICAgIGNvbnN0IG9uQ2FjaGVFbnRyeSA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ29uQ2FjaGVFbnRyeScpO1xuICAgICAgICAgICAgaWYgKG9uQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmlzaGVkID0gYXdhaXQgb25DYWNoZUVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2FjaGVFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgd2hlbiB1cHN0cmVhbSBkb2Vzbid0XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBleHBlY3QgdGhpcyB2YWx1ZSB0byBiZSBcIlBBR0VcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2FjaGVFbnRyeS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdQQUdFJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luaXRVUkwnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtYXliZSB3ZSBoYXZlIHRvIGVuZCB0aGUgcmVxdWVzdD9cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaGFzIGEgcG9zdHBvbmVkIHN0YXRlIGFuZCBpdCdzIGEgcmVzdW1lIHJlcXVlc3Qgd2VcbiAgICAgICAgICAgIC8vIHNob3VsZCBlcnJvci5cbiAgICAgICAgICAgIGlmIChkaWRQb3N0cG9uZSAmJiBtaW5pbWFsUG9zdHBvbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcignSW52YXJpYW50OiBwb3N0cG9uZWQgc3RhdGUgc2hvdWxkIG5vdCBiZSBwcmVzZW50IG9uIGEgcmVzdW1lIHJlcXVlc3QnKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkUzOTZcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhY2hlZERhdGEuaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNhY2hlZERhdGEuaGVhZGVyc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCFtaW5pbWFsTW9kZSB8fCAhaXNTU0cpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSl7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5hcHBlbmRIZWFkZXIoa2V5LCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuYXBwZW5kSGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmFwcGVuZEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgY2FjaGUgdGFncyBoZWFkZXIgdG8gdGhlIHJlc3BvbnNlIGlmIGl0IGV4aXN0cyBhbmQgd2UncmUgaW5cbiAgICAgICAgICAgIC8vIG1pbmltYWwgbW9kZSB3aGlsZSByZW5kZXJpbmcgYSBzdGF0aWMgcGFnZS5cbiAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSAoX2NhY2hlZERhdGFfaGVhZGVycyA9IGNhY2hlZERhdGEuaGVhZGVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZWREYXRhX2hlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl07XG4gICAgICAgICAgICBpZiAobWluaW1hbE1vZGUgJiYgaXNTU0cgJiYgdGFncyAmJiB0eXBlb2YgdGFncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIsIHRhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgYSBkYXRhIHJlcXVlc3QsIHRoZW4gd2Ugc2hvdWxkbid0IHNldCB0aGUgc3RhdHVzIGNvZGVcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIHJlc3BvbnNlIGJlY2F1c2UgaXQgc2hvdWxkIGFsd2F5cyBiZSAyMDAuIFRoaXMgc2hvdWxkIGJlIGdhdGVkXG4gICAgICAgICAgICAvLyBiZWhpbmQgdGhlIGV4cGVyaW1lbnRhbCBQUFIgZmxhZy5cbiAgICAgICAgICAgIGlmIChjYWNoZWREYXRhLnN0YXR1cyAmJiAoIWlzUlNDUmVxdWVzdCB8fCAhaXNSb3V0ZVBQUkVuYWJsZWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSBjYWNoZWREYXRhLnN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlZGlyZWN0IGluZm9ybWF0aW9uIGlzIGVuY29kZWQgaW4gUlNDIHBheWxvYWQsIHNvIHdlIGRvbid0IG5lZWQgdG8gdXNlIHJlZGlyZWN0IHN0YXR1cyBjb2Rlc1xuICAgICAgICAgICAgaWYgKCFtaW5pbWFsTW9kZSAmJiBjYWNoZWREYXRhLnN0YXR1cyAmJiBSZWRpcmVjdFN0YXR1c0NvZGVbY2FjaGVkRGF0YS5zdGF0dXNdICYmIGlzUlNDUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFyayB0aGF0IHRoZSByZXF1ZXN0IGRpZCBwb3N0cG9uZS5cbiAgICAgICAgICAgIGlmIChkaWRQb3N0cG9uZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoTkVYVF9ESURfUE9TVFBPTkVfSEVBREVSLCAnMScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgZ28gdGhyb3VnaCB0aGlzIGJsb2NrIHdoZW4gcHJldmlldyBtb2RlIGlzIHRydWVcbiAgICAgICAgICAgIC8vIGFzIHByZXZpZXcgbW9kZSBpcyBhIGR5bmFtaWMgcmVxdWVzdCAoYnlwYXNzZXMgY2FjaGUpIGFuZCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBib3RoIEhUTUwgYW5kIHBheWxvYWRzIGluIHRoZSBzYW1lIHJlcXVlc3Qgc28gY29udGludWUgdG8ganVzdFxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBnZW5lcmF0ZWQgcGF5bG9hZFxuICAgICAgICAgICAgaWYgKGlzUlNDUmVxdWVzdCAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgZHluYW1pYyBSU0MgcmVxdWVzdCwgdGhlbiBzdHJlYW0gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGVkRGF0YS5yc2NEYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVkRGF0YS5wb3N0cG9uZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0ludmFyaWFudDogRXhwZWN0ZWQgcG9zdHBvbmVkIHRvIGJlIHVuZGVmaW5lZCcpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMzcyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBjYWNoZWREYXRhLmh0bWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEeW5hbWljIFJTQyByZXNwb25zZXMgY2Fubm90IGJlIGNhY2hlZCwgZXZlbiBpZiB0aGV5J3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25maWd1cmVkIHdpdGggYGZvcmNlLXN0YXRpY2AgYmVjYXVzZSB3ZSBoYXZlIG5vIHdheSBvZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzdGluZ3Vpc2hpbmcgYmV0d2VlbiBgZm9yY2Utc3RhdGljYCBhbmQgcGFnZXMgdGhhdCBoYXZlIG5vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3N0cG9uZWQgc3RhdGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBkaXN0aW5ndWlzaCBgZm9yY2Utc3RhdGljYCBmcm9tIHBhZ2VzIHdpdGggbm8gcG9zdHBvbmVkIHN0YXRlIChzdGF0aWMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IGlzRHluYW1pY1JTQ1JlcXVlc3QgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBcyB0aGlzIGlzbid0IGEgcHJlZmV0Y2ggcmVxdWVzdCwgd2Ugc2hvdWxkIHNlcnZlIHRoZSBzdGF0aWMgZmxpZ2h0XG4gICAgICAgICAgICAgICAgLy8gZGF0YS5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyZWRCeUhlYWRlcjogbmV4dENvbmZpZy5wb3dlcmVkQnlIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogUmVuZGVyUmVzdWx0LmZyb21TdGF0aWMoY2FjaGVkRGF0YS5yc2NEYXRhLCBSU0NfQ09OVEVOVF9UWVBFX0hFQURFUiksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXF1ZXN0IGZvciBIVE1MIGRhdGEuXG4gICAgICAgICAgICBsZXQgYm9keSA9IGNhY2hlZERhdGEuaHRtbDtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcG9zdHBvbmVkIHN0YXRlLCB3ZSBzaG91bGQganVzdCBzZXJ2ZSB0aGUgSFRNTC4gVGhpc1xuICAgICAgICAgICAgLy8gc2hvdWxkIGFsc28gYmUgdGhlIGNhc2UgZm9yIGEgcmVzdW1lIHJlcXVlc3QgYmVjYXVzZSBpdCdzIGNvbXBsZXRlZFxuICAgICAgICAgICAgLy8gYXMgYSBzZXJ2ZXIgcmVuZGVyIChyYXRoZXIgdGhhbiBhIHN0YXRpYyByZW5kZXIpLlxuICAgICAgICAgICAgaWYgKCFkaWRQb3N0cG9uZSB8fCBtaW5pbWFsTW9kZSB8fCBpc1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0ZXN0IG1vZGUsIHdlIHNob3VsZCBhZGQgYSBzZW50aW5lbCBjaHVuayB0byB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyB0aGF0J3MgYmV0d2VlbiB0aGUgc3RhdGljIGFuZCBkeW5hbWljIHBhcnRzIHNvIHdlIGNhbiBjb21wYXJlIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNodW5rcyBhbmQgYWRkIGFzc2VydGlvbnMuXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Ll9fTkVYVF9URVNUX01PREUgJiYgbWluaW1hbE1vZGUgJiYgaXNSb3V0ZVBQUkVuYWJsZWQgJiYgYm9keS5jb250ZW50VHlwZSA9PT0gSFRNTF9DT05URU5UX1RZUEVfSEVBREVSKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzIHdlJ3JlIGluIG1pbmltYWwgbW9kZSwgdGhlIHN0YXRpYyBwYXJ0IHdvdWxkIGhhdmUgYWxyZWFkeSBiZWVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmVhbWVkIGZpcnN0LiBUaGUgb25seSBwYXJ0IHRoYXQgdGhpcyBzdHJlYW1zIGlzIHRoZSBkeW5hbWljIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIEZJUlNUIHN0cmVhbSB0aGUgc2VudGluZWwgYW5kIFRIRU4gdGhlIGR5bmFtaWMgcGFydC5cbiAgICAgICAgICAgICAgICAgICAgYm9keS51bnNoaWZ0KGNyZWF0ZVBQUkJvdW5kYXJ5U2VudGluZWwoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kUmVuZGVyUmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRXRhZ3M6IG5leHRDb25maWcuZ2VuZXJhdGVFdGFncyxcbiAgICAgICAgICAgICAgICAgICAgcG93ZXJlZEJ5SGVhZGVyOiBuZXh0Q29uZmlnLnBvd2VyZWRCeUhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBib2R5LFxuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBkZWJ1Z2dpbmcgdGhlIHN0YXRpYyBzaGVsbCBvciB0aGUgZHluYW1pYyBBUEkgYWNjZXNzZXMsIHdlXG4gICAgICAgICAgICAvLyBzaG91bGQganVzdCBzZXJ2ZSB0aGUgSFRNTCB3aXRob3V0IHJlc3VtaW5nIHRoZSByZW5kZXIuIFRoZSByZXR1cm5lZFxuICAgICAgICAgICAgLy8gSFRNTCB3aWxsIGJlIHRoZSBzdGF0aWMgc2hlbGwgc28gYWxsIHRoZSBEeW5hbWljIEFQSSdzIHdpbGwgYmUgdXNlZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLlxuICAgICAgICAgICAgaWYgKGlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UncmUgbm90IHJlc3VtaW5nIHRoZSByZW5kZXIsIHdlIG5lZWQgdG8gYXQgbGVhc3QgYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNsb3NpbmcgYm9keSBhbmQgaHRtbCB0YWdzIHRvIGNyZWF0ZSB2YWxpZCBIVE1MLlxuICAgICAgICAgICAgICAgIGJvZHkucHVzaChuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgICAgICAgICBzdGFydCAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKEVOQ09ERURfVEFHUy5DTE9TRUQuQk9EWV9BTkRfSFRNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRSZW5kZXJSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGluIHRlc3QgbW9kZSwgd2Ugc2hvdWxkIGFkZCBhIHNlbnRpbmVsIGNodW5rIHRvIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgLy8gdGhhdCdzIGJldHdlZW4gdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBwYXJ0cyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVcbiAgICAgICAgICAgIC8vIGNodW5rcyBhbmQgYWRkIGFzc2VydGlvbnMuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuX19ORVhUX1RFU1RfTU9ERSkge1xuICAgICAgICAgICAgICAgIGJvZHkucHVzaChjcmVhdGVQUFJCb3VuZGFyeVNlbnRpbmVsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyByZXF1ZXN0IGhhcyBwb3N0cG9uZWQsIHNvIGxldCdzIGNyZWF0ZSBhIG5ldyB0cmFuc2Zvcm1lciB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gZHluYW1pYyBkYXRhIGNhbiBwaXBlIHRvIHRoYXQgd2lsbCBhdHRhY2ggdGhlIGR5bmFtaWMgZGF0YSB0byB0aGUgZW5kXG4gICAgICAgICAgICAvLyBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcbiAgICAgICAgICAgIGJvZHkucHVzaCh0cmFuc2Zvcm1lci5yZWFkYWJsZSk7XG4gICAgICAgICAgICAvLyBQZXJmb3JtIHRoZSByZW5kZXIgYWdhaW4sIGJ1dCB0aGlzIHRpbWUsIHByb3ZpZGUgdGhlIHBvc3Rwb25lZCBzdGF0ZS5cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IGF3YWl0IGJlY2F1c2Ugd2Ugd2FudCB0aGUgcmVzdWx0IHRvIHN0YXJ0IHN0cmVhbWluZyBub3csIGFuZFxuICAgICAgICAgICAgLy8gd2UndmUgYWxyZWFkeSBjaGFpbmVkIHRoZSB0cmFuc2Zvcm1lcidzIHJlYWRhYmxlIHRvIHRoZSByZW5kZXIgcmVzdWx0LlxuICAgICAgICAgICAgZG9SZW5kZXIoe1xuICAgICAgICAgICAgICAgIHNwYW4sXG4gICAgICAgICAgICAgICAgcG9zdHBvbmVkOiBjYWNoZWREYXRhLnBvc3Rwb25lZCxcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgcmVzdW1lIHJlbmRlciwgbm90IGEgZmFsbGJhY2sgcmVuZGVyLCBzbyB3ZSBkb24ndCBuZWVkIHRvXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoaXMuXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tSb3V0ZVBhcmFtczogbnVsbFxuICAgICAgICAgICAgfSkudGhlbihhc3luYyAocmVzdWx0KT0+e1xuICAgICAgICAgICAgICAgIHZhciBfcmVzdWx0X3ZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0ludmFyaWFudDogZXhwZWN0ZWQgYSByZXN1bHQgdG8gYmUgcmV0dXJuZWQnKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNDYzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCgoX3Jlc3VsdF92YWx1ZSA9IHJlc3VsdC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZXN1bHRfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUEFHRSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3Jlc3VsdF92YWx1ZTE7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogZXhwZWN0ZWQgYSBwYWdlIHJlc3BvbnNlLCBnb3QgJHsoX3Jlc3VsdF92YWx1ZTEgPSByZXN1bHQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfcmVzdWx0X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkUzMDVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQaXBlIHRoZSByZXN1bWUgcmVzdWx0IHRvIHRoZSB0cmFuc2Zvcm1lci5cbiAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQudmFsdWUuaHRtbC5waXBlVG8odHJhbnNmb3JtZXIud3JpdGFibGUpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycik9PntcbiAgICAgICAgICAgICAgICAvLyBBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgcGlwaW5nIG9yIHByZXBhcmluZyB0aGUgcmVuZGVyLCBhYm9ydFxuICAgICAgICAgICAgICAgIC8vIHRoZSB0cmFuc2Zvcm1lcnMgd3JpdGVyIHNvIHdlIGNhbiB0ZXJtaW5hdGUgdGhlIHN0cmVhbS5cbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lci53cml0YWJsZS5hYm9ydChlcnIpLmNhdGNoKChlKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY291bGRuJ3QgYWJvcnQgdHJhbnNmb3JtZXJcIiwgZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZW5kUmVuZGVyUmVzdWx0KHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlRXRhZ3M6IG5leHRDb25maWcuZ2VuZXJhdGVFdGFncyxcbiAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgIHJlc3VsdDogYm9keSxcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGNhY2hlIHRoZSByZXNwb25zZSBpZiBpdCBoYXMgcG9zdHBvbmVkIGRhdGEgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHRoZSByZXNwb25zZSBiZWluZyBzZW50IHRvIHRoZSBjbGllbnQgaXQncyBkeW5hbWljIHBhcnRzIGFyZSBzdHJlYW1lZFxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBjbGllbnQgb24gdGhlIHNhbWUgcmVxdWVzdC5cbiAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyZW5kZXInLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGU6IGlzU1NHLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn1cbi8vIFRPRE86IG9taXQgdGhpcyBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzLCBvbmx5IHRlc3QgYnVpbGRzIHNob3VsZCBpbmNsdWRlIGl0XG4vKipcbiAqIENyZWF0ZXMgYSByZWFkYWJsZSBzdHJlYW0gdGhhdCBlbWl0cyBhIFBQUiBib3VuZGFyeSBzZW50aW5lbC5cbiAqXG4gKiBAcmV0dXJucyBBIHJlYWRhYmxlIHN0cmVhbSB0aGF0IGVtaXRzIGEgUFBSIGJvdW5kYXJ5IHNlbnRpbmVsLlxuICovIGZ1bmN0aW9uIGNyZWF0ZVBQUkJvdW5kYXJ5U2VudGluZWwoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0IChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKCc8IS0tIFBQUl9CT1VOREFSWV9TRU5USU5FTCAtLT4nKSk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5CCursor%5Ckidi-booai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CCursor%5Ckidi-booai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDYXBwJTVDJTVDcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHdJQUEwRSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcYXBwXFxcXHBhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cframework%5C%5Cboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cframework%5C%5Cboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(rsc)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-segment.js */ \"(rsc)/./node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(rsc)/./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(rsc)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(rsc)/./node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(rsc)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/framework/boundary-components.js */ \"(rsc)/./node_modules/next/dist/lib/framework/boundary-components.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/metadata/generate/icon-mark.js */ \"(rsc)/./node_modules/next/dist/lib/metadata/generate/icon-mark.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js */ \"(rsc)/./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDYnVpbHRpbiU1QyU1Q2dsb2JhbC1lcnJvci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDQ3Vyc29yJTVDJTVDa2lkaS1ib29haSU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2NsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q0N1cnNvciU1QyU1Q2tpZGktYm9vYWklNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNodHRwLWFjY2Vzcy1mYWxsYmFjayU1QyU1Q2Vycm9yLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDQ3Vyc29yJTVDJTVDa2lkaS1ib29haSU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q21ldGFkYXRhJTVDJTVDYXN5bmMtbWV0YWRhdGEuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q0N1cnNvciU1QyU1Q2tpZGktYm9vYWklNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNsaWIlNUMlNUNmcmFtZXdvcmslNUMlNUNib3VuZGFyeS1jb21wb25lbnRzLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNsaWIlNUMlNUNtZXRhZGF0YSU1QyU1Q2dlbmVyYXRlJTVDJTVDaWNvbi1tYXJrLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNuZXh0LWRldnRvb2xzJTVDJTVDdXNlcnNwYWNlJTVDJTVDYXBwJTVDJTVDc2VnbWVudC1leHBsb3Jlci1ub2RlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxzUEFBbUk7QUFDbkk7QUFDQSxvT0FBeUg7QUFDekg7QUFDQSwwT0FBNEg7QUFDNUg7QUFDQSxvUkFBa0o7QUFDbEo7QUFDQSx3T0FBMkg7QUFDM0g7QUFDQSw0UEFBc0k7QUFDdEk7QUFDQSxzUUFBMEk7QUFDMUk7QUFDQSw0T0FBNkg7QUFDN0g7QUFDQSx3T0FBNEg7QUFDNUg7QUFDQSw0UUFBOEkiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcYnVpbHRpblxcXFxnbG9iYWwtZXJyb3IuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcaHR0cC1hY2Nlc3MtZmFsbGJhY2tcXFxcZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxtZXRhZGF0YVxcXFxhc3luYy1tZXRhZGF0YS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxDdXJzb3JcXFxca2lkaS1ib29haVxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGxpYlxcXFxmcmFtZXdvcmtcXFxcYm91bmRhcnktY29tcG9uZW50cy5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxsaWJcXFxcbWV0YWRhdGFcXFxcZ2VuZXJhdGVcXFxcaWNvbi1tYXJrLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxDdXJzb3JcXFxca2lkaS1ib29haVxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXG5leHQtZGV2dG9vbHNcXFxcdXNlcnNwYWNlXFxcXGFwcFxcXFxzZWdtZW50LWV4cGxvcmVyLW5vZGUuanNcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cframework%5C%5Cboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Nunito%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-nunito%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22nunito%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Fredoka%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-fredoka%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22fredoka%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Rubik%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%2C%5C%22hebrew%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-rubik%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22rubik%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Nunito%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-nunito%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22nunito%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Fredoka%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-fredoka%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22fredoka%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Rubik%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%2C%5C%22hebrew%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-rubik%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22rubik%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/Header */ \"(ssr)/./components/Header.tsx\");\n/* harmony import */ var _components_Hero__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/Hero */ \"(ssr)/./components/Hero.tsx\");\n/* harmony import */ var _components_CreationForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/CreationForm */ \"(ssr)/./components/CreationForm.tsx\");\n/* harmony import */ var _components_BookViewer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/BookViewer */ \"(ssr)/./components/BookViewer.tsx\");\n/* harmony import */ var _components_BookEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/BookEditor */ \"(ssr)/./components/BookEditor.tsx\");\n/* harmony import */ var _components_ApiKeyModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ApiKeyModal */ \"(ssr)/./components/ApiKeyModal.tsx\");\n/* harmony import */ var _components_BooksGallery__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/BooksGallery */ \"(ssr)/./components/BooksGallery.tsx\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/types */ \"(ssr)/./types.ts\");\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/services/geminiService */ \"(ssr)/./services/geminiService.ts\");\n/* harmony import */ var _services_apiKeyManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/services/apiKeyManager */ \"(ssr)/./services/apiKeyManager.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\nfunction Home() {\n    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_9__.AppView.HOME);\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_types__WEBPACK_IMPORTED_MODULE_9__.GenerationStatus.IDLE);\n    const [currentBook, setCurrentBook] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasApiKey, setHasApiKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showGallery, setShowGallery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Check for API key on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            setHasApiKey(_services_apiKeyManager__WEBPACK_IMPORTED_MODULE_11__.apiKeyManager.hasKey());\n        }\n    }[\"Home.useEffect\"], []);\n    const handleApiKeySubmit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Home.useCallback[handleApiKeySubmit]\": (key)=>{\n            _services_apiKeyManager__WEBPACK_IMPORTED_MODULE_11__.apiKeyManager.setKey(key);\n            setHasApiKey(true);\n        }\n    }[\"Home.useCallback[handleApiKeySubmit]\"], []);\n    const handleChangeKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Home.useCallback[handleChangeKey]\": ()=>{\n            _services_apiKeyManager__WEBPACK_IMPORTED_MODULE_11__.apiKeyManager.removeKey();\n            setHasApiKey(false);\n        }\n    }[\"Home.useCallback[handleChangeKey]\"], []);\n    const handleNavigate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Home.useCallback[handleNavigate]\": (view)=>{\n            setCurrentView(view);\n            if (view === _types__WEBPACK_IMPORTED_MODULE_9__.AppView.CREATE) {\n                setStatus(_types__WEBPACK_IMPORTED_MODULE_9__.GenerationStatus.IDLE);\n            }\n        }\n    }[\"Home.useCallback[handleNavigate]\"], []);\n    const handleCreateBook = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Home.useCallback[handleCreateBook]\": async (request)=>{\n            setStatus(_types__WEBPACK_IMPORTED_MODULE_9__.GenerationStatus.GENERATING_TEXT);\n            try {\n                const book = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_10__.generateBookContent)(request);\n                setCurrentBook(book);\n                setStatus(_types__WEBPACK_IMPORTED_MODULE_9__.GenerationStatus.SUCCESS);\n                setCurrentView(_types__WEBPACK_IMPORTED_MODULE_9__.AppView.EDITOR);\n            } catch (error) {\n                console.error(error);\n                setStatus(_types__WEBPACK_IMPORTED_MODULE_9__.GenerationStatus.ERROR);\n                // Show copyright error or general error\n                if (error.message?.includes('')) {\n                    alert(error.message);\n                } else {\n                    alert('Oops! Something went wrong while crafting your story. Please try again.');\n                }\n            }\n        }\n    }[\"Home.useCallback[handleCreateBook]\"], []);\n    const handleUpdateBook = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Home.useCallback[handleUpdateBook]\": (updatedBook)=>{\n            setCurrentBook(updatedBook);\n        }\n    }[\"Home.useCallback[handleUpdateBook]\"], []);\n    // Show loading state while checking for API key\n    if (hasApiKey === null) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ApiKeyModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                isVisible: !hasApiKey,\n                onKeySubmit: handleApiKeySubmit\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                lineNumber: 75,\n                columnNumber: 13\n            }, this),\n            showGallery && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BooksGallery__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                onClose: ()=>setShowGallery(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                lineNumber: 82,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-screen flex flex-col font-sans text-slate-800\",\n                children: [\n                    currentView !== _types__WEBPACK_IMPORTED_MODULE_9__.AppView.READING && currentView !== _types__WEBPACK_IMPORTED_MODULE_9__.AppView.EDITOR && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        onNavigate: handleNavigate,\n                        onChangeKey: handleChangeKey,\n                        onShowGallery: ()=>setShowGallery(true)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                        lineNumber: 88,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"flex-grow\",\n                        children: [\n                            currentView === _types__WEBPACK_IMPORTED_MODULE_9__.AppView.HOME && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Hero__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                onStart: ()=>setCurrentView(_types__WEBPACK_IMPORTED_MODULE_9__.AppView.CREATE)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                                lineNumber: 97,\n                                columnNumber: 25\n                            }, this),\n                            currentView === _types__WEBPACK_IMPORTED_MODULE_9__.AppView.CREATE && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CreationForm__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                onSubmit: handleCreateBook,\n                                isLoading: status === _types__WEBPACK_IMPORTED_MODULE_9__.GenerationStatus.GENERATING_TEXT\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                                lineNumber: 101,\n                                columnNumber: 25\n                            }, this),\n                            currentView === _types__WEBPACK_IMPORTED_MODULE_9__.AppView.EDITOR && currentBook && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BookEditor__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                book: currentBook,\n                                onUpdateBook: handleUpdateBook,\n                                onPreview: ()=>setCurrentView(_types__WEBPACK_IMPORTED_MODULE_9__.AppView.READING),\n                                onBack: ()=>setCurrentView(_types__WEBPACK_IMPORTED_MODULE_9__.AppView.CREATE)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                                lineNumber: 108,\n                                columnNumber: 25\n                            }, this),\n                            currentView === _types__WEBPACK_IMPORTED_MODULE_9__.AppView.READING && currentBook && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_BookViewer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                book: currentBook,\n                                onUpdateBook: handleUpdateBook,\n                                onClose: ()=>setCurrentView(_types__WEBPACK_IMPORTED_MODULE_9__.AppView.EDITOR)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                                lineNumber: 117,\n                                columnNumber: 25\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                        lineNumber: 95,\n                        columnNumber: 17\n                    }, this),\n                    currentView === _types__WEBPACK_IMPORTED_MODULE_9__.AppView.HOME && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                        className: \"bg-white py-8 border-t border-slate-100\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-7xl mx-auto px-4 text-center text-slate-400\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"\\xa9 \",\n                                    new Date().getFullYear(),\n                                    \" KidCraft AI. Making learning magical.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                                lineNumber: 128,\n                                columnNumber: 29\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 25\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                        lineNumber: 126,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\app\\\\page.tsx\",\n                lineNumber: 85,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWVOLDJDQUFPQSxDQUFDeUIsTUFBTTs7Ozs7OzRCQUdyRHBCLGdCQUFnQkwsMkNBQU9BLENBQUN5QixNQUFNLGtCQUMzQiw4REFBQzlCLGdFQUFZQTtnQ0FDVHdELFVBQVV6QjtnQ0FDVjBCLFdBQVc1QyxXQUFXUCxvREFBZ0JBLENBQUMyQixlQUFlOzs7Ozs7NEJBSTdEdkIsZ0JBQWdCTCwyQ0FBT0EsQ0FBQytCLE1BQU0sSUFBSXBCLDZCQUMvQiw4REFBQ2QsOERBQVVBO2dDQUNQZ0MsTUFBTWxCO2dDQUNOMEMsY0FBY2Y7Z0NBQ2RnQixXQUFXLElBQU1oRCxlQUFlTiwyQ0FBT0EsQ0FBQzZDLE9BQU87Z0NBQy9DVSxRQUFRLElBQU1qRCxlQUFlTiwyQ0FBT0EsQ0FBQ3lCLE1BQU07Ozs7Ozs0QkFJbERwQixnQkFBZ0JMLDJDQUFPQSxDQUFDNkMsT0FBTyxJQUFJbEMsNkJBQ2hDLDhEQUFDZiw4REFBVUE7Z0NBQ1BpQyxNQUFNbEI7Z0NBQ04wQyxjQUFjZjtnQ0FDZEksU0FBUyxJQUFNcEMsZUFBZU4sMkNBQU9BLENBQUMrQixNQUFNOzs7Ozs7Ozs7Ozs7b0JBS3ZEMUIsZ0JBQWdCTCwyQ0FBT0EsQ0FBQ08sSUFBSSxrQkFDekIsOERBQUNpRDt3QkFBT1osV0FBVTtrQ0FDZCw0RUFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ1gsNEVBQUNhOztvQ0FBRTtvQ0FBRyxJQUFJQyxPQUFPQyxXQUFXO29DQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzNEIiwic291cmNlcyI6WyJDOlxcQ3Vyc29yXFxraWRpLWJvb2FpXFxhcHBcXHBhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlcidcclxuaW1wb3J0IEhlcm8gZnJvbSAnQC9jb21wb25lbnRzL0hlcm8nXHJcbmltcG9ydCBDcmVhdGlvbkZvcm0gZnJvbSAnQC9jb21wb25lbnRzL0NyZWF0aW9uRm9ybSdcclxuaW1wb3J0IEJvb2tWaWV3ZXIgZnJvbSAnQC9jb21wb25lbnRzL0Jvb2tWaWV3ZXInXHJcbmltcG9ydCBCb29rRWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy9Cb29rRWRpdG9yJ1xyXG5pbXBvcnQgQXBpS2V5TW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL0FwaUtleU1vZGFsJ1xyXG5pbXBvcnQgQm9va3NHYWxsZXJ5IGZyb20gJ0AvY29tcG9uZW50cy9Cb29rc0dhbGxlcnknXHJcbmltcG9ydCB7IEFwcFZpZXcsIEJvb2ssIEJvb2tSZXF1ZXN0LCBHZW5lcmF0aW9uU3RhdHVzIH0gZnJvbSAnQC90eXBlcydcclxuaW1wb3J0IHsgZ2VuZXJhdGVCb29rQ29udGVudCB9IGZyb20gJ0Avc2VydmljZXMvZ2VtaW5pU2VydmljZSdcclxuaW1wb3J0IHsgYXBpS2V5TWFuYWdlciB9IGZyb20gJ0Avc2VydmljZXMvYXBpS2V5TWFuYWdlcidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XHJcbiAgICBjb25zdCBbY3VycmVudFZpZXcsIHNldEN1cnJlbnRWaWV3XSA9IHVzZVN0YXRlPEFwcFZpZXc+KEFwcFZpZXcuSE9NRSlcclxuICAgIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZTxHZW5lcmF0aW9uU3RhdHVzPihHZW5lcmF0aW9uU3RhdHVzLklETEUpXHJcbiAgICBjb25zdCBbY3VycmVudEJvb2ssIHNldEN1cnJlbnRCb29rXSA9IHVzZVN0YXRlPEJvb2sgfCBudWxsPihudWxsKVxyXG4gICAgY29uc3QgW2hhc0FwaUtleSwgc2V0SGFzQXBpS2V5XSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihudWxsKVxyXG4gICAgY29uc3QgW3Nob3dHYWxsZXJ5LCBzZXRTaG93R2FsbGVyeV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcbiAgICAvLyBDaGVjayBmb3IgQVBJIGtleSBvbiBtb3VudFxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBzZXRIYXNBcGlLZXkoYXBpS2V5TWFuYWdlci5oYXNLZXkoKSlcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUFwaUtleVN1Ym1pdCA9IHVzZUNhbGxiYWNrKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGFwaUtleU1hbmFnZXIuc2V0S2V5KGtleSlcclxuICAgICAgICBzZXRIYXNBcGlLZXkodHJ1ZSlcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUNoYW5nZUtleSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICBhcGlLZXlNYW5hZ2VyLnJlbW92ZUtleSgpXHJcbiAgICAgICAgc2V0SGFzQXBpS2V5KGZhbHNlKVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgY29uc3QgaGFuZGxlTmF2aWdhdGUgPSB1c2VDYWxsYmFjaygodmlldzogQXBwVmlldykgPT4ge1xyXG4gICAgICAgIHNldEN1cnJlbnRWaWV3KHZpZXcpXHJcbiAgICAgICAgaWYgKHZpZXcgPT09IEFwcFZpZXcuQ1JFQVRFKSB7XHJcbiAgICAgICAgICAgIHNldFN0YXR1cyhHZW5lcmF0aW9uU3RhdHVzLklETEUpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgY29uc3QgaGFuZGxlQ3JlYXRlQm9vayA9IHVzZUNhbGxiYWNrKGFzeW5jIChyZXF1ZXN0OiBCb29rUmVxdWVzdCkgPT4ge1xyXG4gICAgICAgIHNldFN0YXR1cyhHZW5lcmF0aW9uU3RhdHVzLkdFTkVSQVRJTkdfVEVYVClcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBib29rID0gYXdhaXQgZ2VuZXJhdGVCb29rQ29udGVudChyZXF1ZXN0KVxyXG4gICAgICAgICAgICBzZXRDdXJyZW50Qm9vayhib29rKVxyXG4gICAgICAgICAgICBzZXRTdGF0dXMoR2VuZXJhdGlvblN0YXR1cy5TVUNDRVNTKVxyXG4gICAgICAgICAgICBzZXRDdXJyZW50VmlldyhBcHBWaWV3LkVESVRPUilcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgICAgIHNldFN0YXR1cyhHZW5lcmF0aW9uU3RhdHVzLkVSUk9SKVxyXG4gICAgICAgICAgICAvLyBTaG93IGNvcHlyaWdodCBlcnJvciBvciBnZW5lcmFsIGVycm9yXHJcbiAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygn157XldeS158nKSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoZXJyb3IubWVzc2FnZSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdPb3BzISBTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBjcmFmdGluZyB5b3VyIHN0b3J5LiBQbGVhc2UgdHJ5IGFnYWluLicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVCb29rID0gdXNlQ2FsbGJhY2soKHVwZGF0ZWRCb29rOiBCb29rKSA9PiB7XHJcbiAgICAgICAgc2V0Q3VycmVudEJvb2sodXBkYXRlZEJvb2spXHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICAvLyBTaG93IGxvYWRpbmcgc3RhdGUgd2hpbGUgY2hlY2tpbmcgZm9yIEFQSSBrZXlcclxuICAgIGlmIChoYXNBcGlLZXkgPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgey8qIEFQSSBLZXkgTW9kYWwgKi99XHJcbiAgICAgICAgICAgIDxBcGlLZXlNb2RhbFxyXG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlPXshaGFzQXBpS2V5fVxyXG4gICAgICAgICAgICAgICAgb25LZXlTdWJtaXQ9e2hhbmRsZUFwaUtleVN1Ym1pdH1cclxuICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgIHsvKiBCb29rcyBHYWxsZXJ5IE1vZGFsICovfVxyXG4gICAgICAgICAgICB7c2hvd0dhbGxlcnkgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEJvb2tzR2FsbGVyeSBvbkNsb3NlPXsoKSA9PiBzZXRTaG93R2FsbGVyeShmYWxzZSl9IC8+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtY29sIGZvbnQtc2FucyB0ZXh0LXNsYXRlLTgwMFwiPlxyXG4gICAgICAgICAgICAgICAgey8qIEhpZGUgSGVhZGVyIGluIEVkaXRvci9SZWFkaW5nIG1vZGVzIGZvciBpbW1lcnNpb24vZm9jdXMgKi99XHJcbiAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgIT09IEFwcFZpZXcuUkVBRElORyAmJiBjdXJyZW50VmlldyAhPT0gQXBwVmlldy5FRElUT1IgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxIZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25OYXZpZ2F0ZT17aGFuZGxlTmF2aWdhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlS2V5PXtoYW5kbGVDaGFuZ2VLZXl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2hvd0dhbGxlcnk9eygpID0+IHNldFNob3dHYWxsZXJ5KHRydWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cImZsZXgtZ3Jvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gQXBwVmlldy5IT01FICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEhlcm8gb25TdGFydD17KCkgPT4gc2V0Q3VycmVudFZpZXcoQXBwVmlldy5DUkVBVEUpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gQXBwVmlldy5DUkVBVEUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q3JlYXRpb25Gb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlQ3JlYXRlQm9va31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTG9hZGluZz17c3RhdHVzID09PSBHZW5lcmF0aW9uU3RhdHVzLkdFTkVSQVRJTkdfVEVYVH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09IEFwcFZpZXcuRURJVE9SICYmIGN1cnJlbnRCb29rICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJvb2tFZGl0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2s9e2N1cnJlbnRCb29rfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVCb29rPXtoYW5kbGVVcGRhdGVCb29rfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QcmV2aWV3PXsoKSA9PiBzZXRDdXJyZW50VmlldyhBcHBWaWV3LlJFQURJTkcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBzZXRDdXJyZW50VmlldyhBcHBWaWV3LkNSRUFURSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSBBcHBWaWV3LlJFQURJTkcgJiYgY3VycmVudEJvb2sgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm9va1ZpZXdlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vaz17Y3VycmVudEJvb2t9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZUJvb2s9e2hhbmRsZVVwZGF0ZUJvb2t9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRDdXJyZW50VmlldyhBcHBWaWV3LkVESVRPUil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvbWFpbj5cclxuXHJcbiAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09IEFwcFZpZXcuSE9NRSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJiZy13aGl0ZSBweS04IGJvcmRlci10IGJvcmRlci1zbGF0ZS0xMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHRleHQtY2VudGVyIHRleHQtc2xhdGUtNDAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD7CqSB7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSBLaWRDcmFmdCBBSS4gTWFraW5nIGxlYXJuaW5nIG1hZ2ljYWwuPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Zvb3Rlcj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvPlxyXG4gICAgKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJIZWFkZXIiLCJIZXJvIiwiQ3JlYXRpb25Gb3JtIiwiQm9va1ZpZXdlciIsIkJvb2tFZGl0b3IiLCJBcGlLZXlNb2RhbCIsIkJvb2tzR2FsbGVyeSIsIkFwcFZpZXciLCJHZW5lcmF0aW9uU3RhdHVzIiwiZ2VuZXJhdGVCb29rQ29udGVudCIsImFwaUtleU1hbmFnZXIiLCJIb21lIiwiY3VycmVudFZpZXciLCJzZXRDdXJyZW50VmlldyIsIkhPTUUiLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJJRExFIiwiY3VycmVudEJvb2siLCJzZXRDdXJyZW50Qm9vayIsImhhc0FwaUtleSIsInNldEhhc0FwaUtleSIsInNob3dHYWxsZXJ5Iiwic2V0U2hvd0dhbGxlcnkiLCJoYXNLZXkiLCJoYW5kbGVBcGlLZXlTdWJtaXQiLCJrZXkiLCJzZXRLZXkiLCJoYW5kbGVDaGFuZ2VLZXkiLCJyZW1vdmVLZXkiLCJoYW5kbGVOYXZpZ2F0ZSIsInZpZXciLCJDUkVBVEUiLCJoYW5kbGVDcmVhdGVCb29rIiwicmVxdWVzdCIsIkdFTkVSQVRJTkdfVEVYVCIsImJvb2siLCJTVUNDRVNTIiwiRURJVE9SIiwiZXJyb3IiLCJjb25zb2xlIiwiRVJST1IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJhbGVydCIsImhhbmRsZVVwZGF0ZUJvb2siLCJ1cGRhdGVkQm9vayIsImlzVmlzaWJsZSIsIm9uS2V5U3VibWl0Iiwib25DbG9zZSIsImRpdiIsImNsYXNzTmFtZSIsIlJFQURJTkciLCJvbk5hdmlnYXRlIiwib25DaGFuZ2VLZXkiLCJvblNob3dHYWxsZXJ5IiwibWFpbiIsIm9uU3RhcnQiLCJvblN1Ym1pdCIsImlzTG9hZGluZyIsIm9uVXBkYXRlQm9vayIsIm9uUHJldmlldyIsIm9uQmFjayIsImZvb3RlciIsInAiLCJEYXRlIiwiZ2V0RnVsbFllYXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ApiKeyModal.tsx":
/*!************************************!*\
  !*** ./components/ApiKeyModal.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst ApiKeyModal = ({ onKeySubmit, isVisible })=>{\n    const [apiKey, setApiKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!apiKey.trim()) {\n            setError('   API');\n            return;\n        }\n        if (!apiKey.startsWith('AIza')) {\n            setError(' API  .  Gemini  -AIza');\n            return;\n        }\n        setIsLoading(true);\n        setError('');\n        // Small delay for UX\n        await new Promise((resolve)=>setTimeout(resolve, 500));\n        onKeySubmit(apiKey.trim());\n        setIsLoading(false);\n    };\n    if (!isVisible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-gradient-to-br from-sky-100 via-blue-50 to-teal-50 z-[200] flex items-center justify-center p-6\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl p-10 border-4 border-kid-blue/20 animate-fade-in\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-6xl mb-4\",\n                            children: \"\\uD83D\\uDD11\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                            lineNumber: 45,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-3xl font-black text-slate-800 mb-2\",\n                            children: \"! \"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                            lineNumber: 46,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-slate-600 leading-relaxed\",\n                            children: \"    ,     -API  Gemini \"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                            lineNumber: 47,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                    lineNumber: 44,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleSubmit,\n                    className: \"space-y-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"apiKey\",\n                                    className: \"block text-sm font-bold text-slate-700 mb-2 text-right\",\n                                    children: \"Gemini API Key\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                                    lineNumber: 54,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    id: \"apiKey\",\n                                    type: \"password\",\n                                    value: apiKey,\n                                    onChange: (e)=>setApiKey(e.target.value),\n                                    placeholder: \"AIza...\",\n                                    className: \"w-full bg-slate-50 border-2 border-slate-200 rounded-xl p-4 text-lg focus:border-kid-blue focus:ring-0 outline-none transition-colors text-left font-mono\",\n                                    dir: \"ltr\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                                    lineNumber: 57,\n                                    columnNumber: 25\n                                }, undefined),\n                                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-red-500 text-sm mt-2 text-right\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                                    lineNumber: 67,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                            lineNumber: 53,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            disabled: isLoading,\n                            className: \"w-full bg-kid-blue hover:bg-teal-400 text-white font-bold py-4 rounded-2xl shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\",\n                            children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                                        lineNumber: 78,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    \"...\"\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: \"  \"\n                            }, void 0, false)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                            lineNumber: 71,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                    lineNumber: 52,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 pt-6 border-t border-slate-100\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-slate-400 text-center leading-relaxed\",\n                            children: [\n                                \"  ?\",\n                                ' ',\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: \"https://aistudio.google.com/app/apikey\",\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\",\n                                    className: \"text-kid-blue underline hover:text-teal-500 font-bold\",\n                                    children: \"   -Google AI Studio\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                                    lineNumber: 92,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xs text-slate-300 mt-3 text-center\",\n                            children: \"\\uD83D\\uDD12         \"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n                    lineNumber: 89,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n            lineNumber: 43,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\ApiKeyModal.tsx\",\n        lineNumber: 42,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ApiKeyModal);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0FwaUtleU1vZGFsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFdUM7QUFRdkMsTUFBTUUsY0FBMEMsQ0FBQyxFQUFFQyxXQUFXLEVBQUVDLFNBQVMsRUFBRTtJQUN2RSxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR0wsK0NBQVFBLENBQUM7SUFDckMsTUFBTSxDQUFDTSxXQUFXQyxhQUFhLEdBQUdQLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ1EsT0FBT0MsU0FBUyxHQUFHVCwrQ0FBUUEsQ0FBQztJQUVuQyxNQUFNVSxlQUFlLE9BQU9DO1FBQ3hCQSxFQUFFQyxjQUFjO1FBRWhCLElBQUksQ0FBQ1IsT0FBT1MsSUFBSSxJQUFJO1lBQ2hCSixTQUFTO1lBQ1Q7UUFDSjtRQUVBLElBQUksQ0FBQ0wsT0FBT1UsVUFBVSxDQUFDLFNBQVM7WUFDNUJMLFNBQVM7WUFDVDtRQUNKO1FBRUFGLGFBQWE7UUFDYkUsU0FBUztRQUVULHFCQUFxQjtRQUNyQixNQUFNLElBQUlNLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7UUFFakRkLFlBQVlFLE9BQU9TLElBQUk7UUFDdkJOLGFBQWE7SUFDakI7SUFFQSxJQUFJLENBQUNKLFdBQVcsT0FBTztJQUV2QixxQkFDSSw4REFBQ2U7UUFBSUMsV0FBVTtrQkFDWCw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBQ1gsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDWCw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQWdCOzs7Ozs7c0NBQy9CLDhEQUFDQzs0QkFBR0QsV0FBVTtzQ0FBMEM7Ozs7OztzQ0FDeEQsOERBQUNFOzRCQUFFRixXQUFVO3NDQUFpQzs7Ozs7Ozs7Ozs7OzhCQUtsRCw4REFBQ0c7b0JBQUtDLFVBQVViO29CQUFjUyxXQUFVOztzQ0FDcEMsOERBQUNEOzs4Q0FDRyw4REFBQ007b0NBQU1DLFNBQVE7b0NBQVNOLFdBQVU7OENBQXlEOzs7Ozs7OENBRzNGLDhEQUFDTztvQ0FDR0MsSUFBRztvQ0FDSEMsTUFBSztvQ0FDTEMsT0FBT3pCO29DQUNQMEIsVUFBVSxDQUFDbkIsSUFBTU4sVUFBVU0sRUFBRW9CLE1BQU0sQ0FBQ0YsS0FBSztvQ0FDekNHLGFBQVk7b0NBQ1piLFdBQVU7b0NBQ1ZjLEtBQUk7Ozs7OztnQ0FFUHpCLHVCQUNHLDhEQUFDYTtvQ0FBRUYsV0FBVTs4Q0FBd0NYOzs7Ozs7Ozs7Ozs7c0NBSTdELDhEQUFDMEI7NEJBQ0dOLE1BQUs7NEJBQ0xPLFVBQVU3Qjs0QkFDVmEsV0FBVTtzQ0FFVGIsMEJBQ0c7O2tEQUNJLDhEQUFDWTt3Q0FBSUMsV0FBVTs7Ozs7O29DQUFxRjs7NkRBSXhHOzBDQUFFOzs7Ozs7Ozs7Ozs7OzhCQU9kLDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ1gsOERBQUNFOzRCQUFFRixXQUFVOztnQ0FBcUQ7Z0NBQ2pEOzhDQUNiLDhEQUFDaUI7b0NBQ0dDLE1BQUs7b0NBQ0xOLFFBQU87b0NBQ1BPLEtBQUk7b0NBQ0puQixXQUFVOzhDQUNiOzs7Ozs7Ozs7Ozs7c0NBSUwsOERBQUNFOzRCQUFFRixXQUFVO3NDQUEwQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPM0U7QUFFQSxpRUFBZWxCLFdBQVdBLEVBQUEiLCJzb3VyY2VzIjpbIkM6XFxDdXJzb3JcXGtpZGktYm9vYWlcXGNvbXBvbmVudHNcXEFwaUtleU1vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xyXG5cclxuaW50ZXJmYWNlIEFwaUtleU1vZGFsUHJvcHMge1xyXG4gICAgb25LZXlTdWJtaXQ6IChrZXk6IHN0cmluZykgPT4gdm9pZFxyXG4gICAgb25DaGFuZ2VLZXk/OiAoKSA9PiB2b2lkXHJcbiAgICBpc1Zpc2libGU6IGJvb2xlYW5cclxufVxyXG5cclxuY29uc3QgQXBpS2V5TW9kYWw6IFJlYWN0LkZDPEFwaUtleU1vZGFsUHJvcHM+ID0gKHsgb25LZXlTdWJtaXQsIGlzVmlzaWJsZSB9KSA9PiB7XHJcbiAgICBjb25zdCBbYXBpS2V5LCBzZXRBcGlLZXldID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuXHJcbiAgICAgICAgaWYgKCFhcGlLZXkudHJpbSgpKSB7XHJcbiAgICAgICAgICAgIHNldEVycm9yKCfXoNeQINec15TXlteZ158g157XpNeq15cgQVBJJylcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWFwaUtleS5zdGFydHNXaXRoKCdBSXphJykpIHtcclxuICAgICAgICAgICAgc2V0RXJyb3IoJ9ee16TXqteXIEFQSSDXnNeQINeq16fXmdefLiDXntek16rXlyBHZW1pbmkg157XqteX15nXnCDXkS1BSXphJylcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcclxuICAgICAgICBzZXRFcnJvcignJylcclxuXHJcbiAgICAgICAgLy8gU21hbGwgZGVsYXkgZm9yIFVYXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpXHJcblxyXG4gICAgICAgIG9uS2V5U3VibWl0KGFwaUtleS50cmltKCkpXHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2t5LTEwMCB2aWEtYmx1ZS01MCB0by10ZWFsLTUwIHotWzIwMF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgdy1mdWxsIGJnLXdoaXRlIHJvdW5kZWQtWzIuNXJlbV0gc2hhZG93LTJ4bCBwLTEwIGJvcmRlci00IGJvcmRlci1raWQtYmx1ZS8yMCBhbmltYXRlLWZhZGUtaW5cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItOFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC02eGwgbWItNFwiPvCflJE8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ibGFjayB0ZXh0LXNsYXRlLTgwMCBtYi0yXCI+IdeR16jXldeb15nXnSDXlNeR15DXmdedPC9oMT5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTYwMCBsZWFkaW5nLXJlbGF4ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAg15vXk9eZINec15TXqteX15nXnCDXnNeZ16bXldeoINeh16TXqNeZ150g16fXodeV157XmdedLCDXoNeQINec15TXlteZ158g15DXqiDXntek16rXlyDXlC1BUEkg16nXnCBHZW1pbmkg16nXnNeaXHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJhcGlLZXlcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTcwMCBtYi0yIHRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdlbWluaSBBUEkgS2V5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJhcGlLZXlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXthcGlLZXl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFwaUtleShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFJemEuLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXNsYXRlLTUwIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0yMDAgcm91bmRlZC14bCBwLTQgdGV4dC1sZyBmb2N1czpib3JkZXIta2lkLWJsdWUgZm9jdXM6cmluZy0wIG91dGxpbmUtbm9uZSB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LWxlZnQgZm9udC1tb25vXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcj1cImx0clwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtlcnJvciAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgdGV4dC1zbSBtdC0yIHRleHQtcmlnaHRcIj57ZXJyb3J9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcta2lkLWJsdWUgaG92ZXI6YmctdGVhbC00MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktNCByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDXnteq15fXkdeoLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg15TXqteX15wg15zXmdem15XXqCDinKhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtOCBwdC02IGJvcmRlci10IGJvcmRlci1zbGF0ZS0xMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNDAwIHRleHQtY2VudGVyIGxlYWRpbmctcmVsYXhlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICDXkNeZ158g15zXmiDXntek16rXlz97JyAnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vYWlzdHVkaW8uZ29vZ2xlLmNvbS9hcHAvYXBpa2V5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQta2lkLWJsdWUgdW5kZXJsaW5lIGhvdmVyOnRleHQtdGVhbC01MDAgZm9udC1ib2xkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg16fXkdecINee16TXqteXINeR15fXmdeg150g154tR29vZ2xlIEFJIFN0dWRpb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS0zMDAgbXQtMyB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICDwn5SSINeU157XpNeq15cg16DXqdee16gg16jXpyDXkdeT16TXk9ek158g16nXnNeaINeV15zXkCDXoNep15zXlyDXnNep15XXnSDXqdeo16pcclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaUtleU1vZGFsXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwiQXBpS2V5TW9kYWwiLCJvbktleVN1Ym1pdCIsImlzVmlzaWJsZSIsImFwaUtleSIsInNldEFwaUtleSIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0cmltIiwic3RhcnRzV2l0aCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwicCIsImZvcm0iLCJvblN1Ym1pdCIsImxhYmVsIiwiaHRtbEZvciIsImlucHV0IiwiaWQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwiZGlyIiwiYnV0dG9uIiwiZGlzYWJsZWQiLCJhIiwiaHJlZiIsInJlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ApiKeyModal.tsx\n");

/***/ }),

/***/ "(ssr)/./components/BookEditor.tsx":
/*!***********************************!*\
  !*** ./components/BookEditor.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/geminiService */ \"(ssr)/./services/geminiService.ts\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! html2canvas */ \"(ssr)/./node_modules/html2canvas/dist/html2canvas.esm.js\");\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jspdf */ \"(ssr)/./node_modules/jspdf/dist/jspdf.es.min.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jszip */ \"(ssr)/./node_modules/jszip/lib/index.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_5__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n// Helper for ZIP Export (Same as Viewer)\nfunction audioBufferToWav(buffer) {\n    const numChannels = buffer.numberOfChannels;\n    const sampleRate = buffer.sampleRate;\n    const format = 1; // PCM\n    const bitDepth = 16;\n    const bytesPerSample = bitDepth / 8;\n    const blockAlign = numChannels * bytesPerSample;\n    const dataByteCount = buffer.length * blockAlign;\n    const headerByteCount = 44;\n    const totalByteCount = headerByteCount + dataByteCount;\n    const headerBuffer = new ArrayBuffer(headerByteCount);\n    const view = new DataView(headerBuffer);\n    const writeString = (view, offset, string)=>{\n        for(let i = 0; i < string.length; i++){\n            view.setUint8(offset + i, string.charCodeAt(i));\n        }\n    };\n    writeString(view, 0, 'RIFF');\n    view.setUint32(4, totalByteCount - 8, true);\n    writeString(view, 8, 'WAVE');\n    writeString(view, 12, 'fmt ');\n    view.setUint32(16, 16, true);\n    view.setUint16(20, format, true);\n    view.setUint16(22, numChannels, true);\n    view.setUint32(24, sampleRate, true);\n    view.setUint32(28, sampleRate * blockAlign, true);\n    view.setUint16(32, blockAlign, true);\n    view.setUint16(34, bitDepth, true);\n    writeString(view, 36, 'data');\n    view.setUint32(40, dataByteCount, true);\n    const dataBuffer = new ArrayBuffer(dataByteCount);\n    const dataView = new DataView(dataBuffer);\n    let offset = 0;\n    for(let i = 0; i < buffer.length; i++){\n        for(let channel = 0; channel < numChannels; channel++){\n            const sample = buffer.getChannelData(channel)[i];\n            const s = Math.max(-1, Math.min(1, sample));\n            const int16 = s < 0 ? s * 0x8000 : s * 0x7FFF;\n            dataView.setInt16(offset, int16, true);\n            offset += 2;\n        }\n    }\n    return new Blob([\n        headerBuffer,\n        dataBuffer\n    ], {\n        type: 'audio/wav'\n    });\n}\nconst BookEditor = ({ book, onUpdateBook, onPreview, onBack })=>{\n    const [selectedPages, setSelectedPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [isRegenerating, setIsRegenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [globalLoading, setGlobalLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isExporting, setIsExporting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [exportProgress, setExportProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const audioContextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fullCharacterDescription = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"BookEditor.useMemo[fullCharacterDescription]\": ()=>{\n            let desc = `Main Character: ${book.metadata.mainCharacterDescription}.`;\n            if (book.metadata.mainCharacterDistinctiveMark) {\n                desc += ` DISTINCTIVE FEATURE: ${book.metadata.mainCharacterDistinctiveMark} (Must appear in every image).`;\n            }\n            if (book.metadata.secondaryCharacterDescription) {\n                desc += `\\nSecondary Character (Sidekick): ${book.metadata.secondaryCharacterDescription} (This appearance MUST be consistent across all pages).`;\n                if (book.metadata.secondaryCharacterDistinctiveMark) {\n                    desc += ` DISTINCTIVE FEATURE: ${book.metadata.secondaryCharacterDistinctiveMark}.`;\n                }\n            }\n            return desc;\n        }\n    }[\"BookEditor.useMemo[fullCharacterDescription]\"], [\n        book.metadata\n    ]);\n    const toggleSelection = (index)=>{\n        const newSet = new Set(selectedPages);\n        if (newSet.has(index)) {\n            newSet.delete(index);\n        } else {\n            newSet.add(index);\n        }\n        setSelectedPages(newSet);\n    };\n    const selectAll = ()=>{\n        if (selectedPages.size === book.pages.length) {\n            setSelectedPages(new Set());\n        } else {\n            setSelectedPages(new Set(book.pages.map((_, i)=>i)));\n        }\n    };\n    const handlePromptChange = (index, newPrompt)=>{\n        const newPages = [\n            ...book.pages\n        ];\n        newPages[index] = {\n            ...newPages[index],\n            imagePrompt: newPrompt\n        };\n        onUpdateBook({\n            ...book,\n            pages: newPages\n        });\n    };\n    const handleTextChange = (index, newText)=>{\n        const newPages = [\n            ...book.pages\n        ];\n        newPages[index] = {\n            ...newPages[index],\n            hebrewText: newText\n        };\n        onUpdateBook({\n            ...book,\n            pages: newPages\n        });\n    };\n    // Main generation function\n    const generateImagesForIndices = async (indices)=>{\n        if (indices.length === 0) return;\n        setGlobalLoading(true);\n        // Mark these as regenerating for UI spinners\n        const newRegenerating = new Set(isRegenerating);\n        indices.forEach((i)=>newRegenerating.add(i));\n        setIsRegenerating(newRegenerating);\n        // We work on a copy of pages to avoid state tearing, but we also update main state incrementally\n        const workingPages = [\n            ...book.pages\n        ];\n        // Find reference image from metadata or existing pages\n        let referenceImage = book.metadata.baseCharacterImageUrl || workingPages.find((p)=>p.generatedImageUrl)?.generatedImageUrl;\n        // Process sequentially\n        for (const i of indices){\n            try {\n                const isCover = i === 0;\n                const textToRender = isCover ? book.metadata.title : undefined;\n                const url = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageImage)(workingPages[i].imagePrompt, fullCharacterDescription, book.metadata.artStyle, referenceImage || undefined, isCover, textToRender);\n                if (url) {\n                    workingPages[i] = {\n                        ...workingPages[i],\n                        generatedImageUrl: url\n                    };\n                    if (!referenceImage && (i === 0 || i === 1)) {\n                        referenceImage = url;\n                    }\n                    onUpdateBook({\n                        ...book,\n                        pages: [\n                            ...workingPages\n                        ]\n                    });\n                }\n            } catch (error) {\n                console.error(`Failed to generate image for page ${i}`, error);\n            } finally{\n                setIsRegenerating((prev)=>{\n                    const next = new Set(prev);\n                    next.delete(i);\n                    return next;\n                });\n            }\n        }\n        setGlobalLoading(false);\n    };\n    const handleRegenerateSelected = ()=>{\n        generateImagesForIndices(Array.from(selectedPages));\n    };\n    const handleSingleRegenerate = (index)=>{\n        generateImagesForIndices([\n            index\n        ]);\n    };\n    // AUTO-GENERATE EFFECT\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BookEditor.useEffect\": ()=>{\n            const missingIndices = book.pages.map({\n                \"BookEditor.useEffect.missingIndices\": (page, index)=>page.generatedImageUrl ? -1 : index\n            }[\"BookEditor.useEffect.missingIndices\"]).filter({\n                \"BookEditor.useEffect.missingIndices\": (index)=>index !== -1\n            }[\"BookEditor.useEffect.missingIndices\"]);\n            if (missingIndices.length > 0 && !globalLoading && isRegenerating.size === 0) {\n                console.log(\"Auto-generating missing images for indices:\", missingIndices);\n                generateImagesForIndices(missingIndices);\n            }\n        }\n    }[\"BookEditor.useEffect\"], []); // Run once on mount\n    const prepareExportCanvas = async (i, imgUrl)=>{\n        const isCover = i === 0;\n        // EXPORT LAYOUT STRATEGY:\n        // Cover: 1024x1024 Square\n        // Inner: 1024x1280 Rectangle (1024x1024 Image Top, 1024x256 Text Bottom)\n        const width = 1024;\n        const height = isCover ? 1024 : 1280;\n        const container = document.createElement('div');\n        container.style.width = `${width}px`;\n        container.style.height = `${height}px`;\n        container.style.position = 'absolute';\n        container.style.left = '-9999px';\n        container.style.backgroundColor = '#ffffff'; // White background\n        container.style.overflow = 'hidden';\n        if (isCover) {\n            container.innerHTML = `<img src=\"${imgUrl}\" style=\"width: 1024px; height: 1024px; object-fit: cover;\" />`;\n        } else {\n            const text = book.pages[i].hebrewText || \"\";\n            // Improved text styling matching globals.css updates\n            container.innerHTML = `\n            <div style=\"display: flex; flex-direction: column; width: 1024px; height: 1280px; background: white;\">\n                <div style=\"width: 1024px; height: 1000px; flex-shrink: 0; background-color: #f8fafc;\">\n                    <img src=\"${imgUrl}\" style=\"width: 100%; height: 100%; object-fit: cover; display: block;\" />\n                </div>\n                <div style=\"\n                    width: 1024px; \n                    height: 280px; \n                    display: flex; \n                    align-items: center; \n                    justify-content: center; \n                    padding: 32px 48px; \n                    box-sizing: border-box; \n                    background: linear-gradient(to bottom, #fffdf5 0%, #fff8e7 30%, #fdecc8 70%, #fbe3b2 100%);\n                    box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.8), inset 0 -2px 8px rgba(0, 0, 0, 0.05);\n                    border-top: 3px solid rgba(255, 255, 255, 0.9);\n                \">\n                     <p style=\"\n                        margin: 0; \n                        font-family: 'Rubik', 'Heebo', 'Arial', sans-serif; \n                        font-size: 44px; \n                        font-weight: 600; \n                        color: #2a1a0a; \n                        direction: rtl; \n                        text-align: center; \n                        line-height: 1.7;\n                        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8), 0 2px 4px rgba(0, 0, 0, 0.06);\n                        letter-spacing: 0.01em;\n                     \">\n                        ${text}\n                     </p>\n                </div>\n            </div>\n        `;\n        }\n        document.body.appendChild(container);\n        await new Promise((resolve)=>setTimeout(resolve, 500));\n        const canvas = await (0,html2canvas__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(container, {\n            scale: 1,\n            useCORS: true,\n            width,\n            height\n        });\n        document.body.removeChild(container);\n        return canvas;\n    };\n    const handleDownloadZIP = async ()=>{\n        if (isExporting || globalLoading) return;\n        setIsExporting(true);\n        setExportProgress(' ...');\n        const zip = new (jszip__WEBPACK_IMPORTED_MODULE_5___default())();\n        // Use A4 for standard printing support\n        const pdf = new jspdf__WEBPACK_IMPORTED_MODULE_4__.jsPDF('p', 'mm', 'a4');\n        const pageWidth = 210;\n        const updatedPages = [\n            ...book.pages\n        ];\n        const audioEnabled = book.metadata.audioConfig?.enabled;\n        const voiceName = book.metadata.audioConfig?.voiceName || 'Puck';\n        try {\n            zip.file(\"sequel_data.json\", JSON.stringify(book, null, 2));\n            for(let i = 0; i < book.pages.length; i++){\n                setExportProgress(`  ${i + 1}/${book.pages.length}...`);\n                let imgUrl = updatedPages[i].generatedImageUrl;\n                const isCover = i === 0;\n                if (!imgUrl) {\n                    // Generate on fly if missing during export\n                    let referenceImage = book.metadata.baseCharacterImageUrl || updatedPages.find((p)=>p.generatedImageUrl)?.generatedImageUrl;\n                    const textToRender = isCover ? book.metadata.title : undefined;\n                    imgUrl = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageImage)(updatedPages[i].imagePrompt, fullCharacterDescription, book.metadata.artStyle, referenceImage || undefined, isCover, textToRender);\n                    if (imgUrl) {\n                        updatedPages[i].generatedImageUrl = imgUrl;\n                        if (!referenceImage && (i === 0 || i === 1)) referenceImage = imgUrl;\n                        onUpdateBook({\n                            ...book,\n                            pages: updatedPages\n                        });\n                    }\n                }\n                if (imgUrl) {\n                    const canvas = await prepareExportCanvas(i, imgUrl);\n                    const pngBlob = await new Promise((resolve)=>canvas.toBlob(resolve, 'image/png'));\n                    if (pngBlob) {\n                        zip.file(i === 0 ? '00_COVER.png' : `PAGE_${String(i).padStart(2, '0')}.png`, pngBlob);\n                    }\n                    // Add to PDF\n                    const imgData = canvas.toDataURL('image/jpeg', 0.9);\n                    const canvasRatio = canvas.height / canvas.width;\n                    const pdfImgHeight = pageWidth * canvasRatio;\n                    let renderWidth = pageWidth;\n                    let renderHeight = pdfImgHeight;\n                    if (renderHeight > 297) {\n                        const scale = 297 / renderHeight;\n                        renderHeight = 297;\n                        renderWidth = pageWidth * scale;\n                    }\n                    const xOffset = (210 - renderWidth) / 2;\n                    pdf.addImage(imgData, 'JPEG', xOffset, 0, renderWidth, renderHeight);\n                    if (i < book.pages.length - 1) pdf.addPage();\n                }\n                if (audioEnabled) {\n                    if (!audioContextRef.current) audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)({\n                        sampleRate: 24000\n                    });\n                    const buf = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageAudio)(i === 0 ? book.metadata.title : book.pages[i].hebrewText, audioContextRef.current, voiceName);\n                    if (buf) zip.file(i === 0 ? '00_AUDIO_Title.wav' : `AUDIO_Page_${String(i).padStart(2, '0')}.wav`, audioBufferToWav(buf));\n                }\n            }\n            const pdfBlob = pdf.output('blob');\n            zip.file(`${book.metadata.title}.pdf`, pdfBlob);\n            const content = await zip.generateAsync({\n                type: 'blob'\n            });\n            const link = document.createElement('a');\n            link.href = URL.createObjectURL(content);\n            // Clean filename, just the book title\n            const safeTitle = book.metadata.title.replace(/[\\\\/:*?\"<>|]/g, '_');\n            link.download = `${safeTitle}.zip`;\n            link.click();\n        } catch (error) {\n            console.error(\"Export failed:\", error);\n            alert(\" .\");\n        } finally{\n            setIsExporting(false);\n            setExportProgress('');\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-slate-900 text-slate-100 flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"bg-slate-800 border-b border-slate-700 sticky top-0 z-50 shadow-md\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto px-4 py-4 flex flex-col sm:flex-row justify-between items-center gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onBack,\n                                    className: \"text-slate-400 hover:text-white transition-colors\",\n                                    children: \" \"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 344,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                    className: \"text-xl font-bold text-white flex items-center gap-2\",\n                                    children: [\n                                        \"  : \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-kid-blue\",\n                                            children: book.metadata.title\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                            lineNumber: 345,\n                                            columnNumber: 100\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 345,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                            lineNumber: 343,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-slate-400 mr-2 hidden sm:block\",\n                                    children: [\n                                        selectedPages.size,\n                                        \" \"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 349,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleDownloadZIP,\n                                    disabled: isExporting || globalLoading,\n                                    className: \"bg-kid-orange hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-all shadow-md flex items-center gap-2 disabled:opacity-50\",\n                                    children: [\n                                        isExporting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"animate-spin\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                            lineNumber: 351,\n                                            columnNumber: 30\n                                        }, undefined) : '',\n                                        \"  ZIP\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 350,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleRegenerateSelected,\n                                    disabled: selectedPages.size === 0 || globalLoading,\n                                    className: \"bg-kid-blue/20 hover:bg-kid-blue/40 text-kid-blue border border-kid-blue/50 font-bold py-2 px-4 rounded-lg text-sm transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2\",\n                                    children: [\n                                        globalLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"animate-spin\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                            lineNumber: 354,\n                                            columnNumber: 32\n                                        }, undefined) : '',\n                                        \"   \"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 353,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onPreview,\n                                    className: \"bg-kid-yellow hover:bg-yellow-400 text-slate-900 font-bold py-2 px-6 rounded-lg text-sm transition-all shadow-lg transform hover:-translate-y-0.5 flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"\\uD83D\\uDCD6\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                            lineNumber: 357,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        \"  \"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 356,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                            lineNumber: 348,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                    lineNumber: 342,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                lineNumber: 341,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-auto p-4 sm:p-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-between items-center mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-lg font-semibold text-slate-300\",\n                                    children: \" \"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 366,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: selectAll,\n                                    className: \"text-sm text-slate-400 hover:text-white underline\",\n                                    children: selectedPages.size === book.pages.length ? ' ' : ' '\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 367,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                            lineNumber: 365,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n                            children: book.pages.map((page, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `relative bg-slate-800 rounded-xl overflow-hidden border-2 transition-all group ${selectedPages.has(index) ? 'border-kid-blue shadow-[0_0_15px_rgba(64,224,208,0.3)]' : 'border-slate-700 hover:border-slate-600'}`,\n                                    onClick: ()=>toggleSelection(index),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute top-3 left-3 z-20\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: selectedPages.has(index),\n                                                onChange: ()=>{},\n                                                className: \"w-5 h-5 rounded border-slate-500 bg-slate-700 checked:bg-kid-blue cursor-pointer\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                lineNumber: 374,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                            lineNumber: 373,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"aspect-square bg-slate-900 relative\",\n                                            children: [\n                                                page.generatedImageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: page.generatedImageUrl,\n                                                    alt: `Page ${index}`,\n                                                    className: \"w-full h-full object-cover\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                    lineNumber: 379,\n                                                    columnNumber: 21\n                                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full h-full flex flex-col items-center justify-center text-slate-600\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-4xl mb-2\",\n                                                            children: \"\\uD83D\\uDDBC\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                            lineNumber: 382,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs\",\n                                                            children: isRegenerating.has(index) ? ' ...' : ' ...'\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                            lineNumber: 383,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                    lineNumber: 381,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                isRegenerating.has(index) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute inset-0 bg-slate-900/80 flex items-center justify-center z-10\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-8 h-8 border-2 border-kid-blue border-t-transparent rounded-full animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                        lineNumber: 391,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                    lineNumber: 390,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex justify-end gap-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: (e)=>{\n                                                            e.stopPropagation();\n                                                            handleSingleRegenerate(index);\n                                                        },\n                                                        className: \"p-2 bg-white/10 hover:bg-white/30 rounded-full text-white backdrop-blur-sm\",\n                                                        title: \"Regenerate this page\",\n                                                        children: \"\\uD83D\\uDD04\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                        lineNumber: 396,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                    lineNumber: 395,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute top-3 right-3 bg-black/50 backdrop-blur text-white text-xs font-bold px-2 py-1 rounded\",\n                                                    children: index === 0 ? '' : ` ${page.pageNumber}`\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                    lineNumber: 399,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                            lineNumber: 377,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 space-y-3\",\n                                            onClick: (e)=>e.stopPropagation(),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"text-[10px] uppercase font-bold text-slate-500 tracking-wider mb-1 block\",\n                                                            children: \"   (PROMPT)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                            lineNumber: 404,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                            value: page.imagePrompt,\n                                                            onChange: (e)=>handlePromptChange(index, e.target.value),\n                                                            className: \"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-xs text-slate-300 focus:border-kid-blue focus:ring-1 focus:ring-kid-blue outline-none resize-none h-24 scrollbar-thin\",\n                                                            placeholder: \"   ...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                            lineNumber: 405,\n                                                            columnNumber: 21\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                    lineNumber: 403,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"text-[10px] uppercase font-bold text-slate-500 tracking-wider mb-1 block\",\n                                                            children: \" \"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                            lineNumber: 408,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        index === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-slate-400\",\n                                                            dir: \"rtl\",\n                                                            children: book.metadata.title\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                            lineNumber: 410,\n                                                            columnNumber: 23\n                                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                            value: page.hebrewText,\n                                                            onChange: (e)=>handleTextChange(index, e.target.value),\n                                                            className: \"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-xs text-slate-300 focus:border-kid-blue focus:ring-1 focus:ring-kid-blue outline-none resize-none h-20 scrollbar-thin\",\n                                                            placeholder: \" ...\",\n                                                            dir: \"rtl\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                            lineNumber: 412,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                                    lineNumber: 407,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                            lineNumber: 402,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                                    lineNumber: 372,\n                                    columnNumber: 15\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                            lineNumber: 370,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                    lineNumber: 364,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                lineNumber: 363,\n                columnNumber: 7\n            }, undefined),\n            isExporting && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-[100] bg-slate-900/90 flex items-center justify-center text-white\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-16 h-16 border-4 border-kid-blue border-t-transparent rounded-full animate-spin mx-auto mb-6\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                            lineNumber: 431,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-2xl font-bold font-fredoka\",\n                            children: exportProgress\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                            lineNumber: 432,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                    lineNumber: 430,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n                lineNumber: 429,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookEditor.tsx\",\n        lineNumber: 340,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BookEditor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxNQUFNLENBQUNELEtBQUs7NERBQ3ZEbkIsV0FBVTs0REFDVnFCLGFBQVk7NERBQ1pDLEtBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUNBN0NKdEk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQXdEakJiLDZCQUNDLDhEQUFDNEg7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7Ozs7OztzQ0FDZiw4REFBQ3VCOzRCQUFHdkIsV0FBVTtzQ0FBbUMzSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNN0Q7QUFFQSxpRUFBZWQsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXEN1cnNvclxca2lkaS1ib29haVxcY29tcG9uZW50c1xcQm9va0VkaXRvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEJvb2ssIEJvb2tQYWdlIH0gZnJvbSAnQC90eXBlcydcclxuaW1wb3J0IHsgZ2VuZXJhdGVQYWdlSW1hZ2UsIGdlbmVyYXRlUGFnZUF1ZGlvIH0gZnJvbSAnQC9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJ1xyXG5pbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAnaHRtbDJjYW52YXMnXHJcbmltcG9ydCB7IGpzUERGIH0gZnJvbSAnanNwZGYnXHJcbmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCdcclxuXHJcbmludGVyZmFjZSBCb29rRWRpdG9yUHJvcHMge1xyXG4gIGJvb2s6IEJvb2s7XHJcbiAgb25VcGRhdGVCb29rOiAodXBkYXRlZEJvb2s6IEJvb2spID0+IHZvaWQ7XHJcbiAgb25QcmV2aWV3OiAoKSA9PiB2b2lkO1xyXG4gIG9uQmFjazogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuLy8gSGVscGVyIGZvciBaSVAgRXhwb3J0IChTYW1lIGFzIFZpZXdlcilcclxuZnVuY3Rpb24gYXVkaW9CdWZmZXJUb1dhdihidWZmZXI6IEF1ZGlvQnVmZmVyKTogQmxvYiB7XHJcbiAgY29uc3QgbnVtQ2hhbm5lbHMgPSBidWZmZXIubnVtYmVyT2ZDaGFubmVscztcclxuICBjb25zdCBzYW1wbGVSYXRlID0gYnVmZmVyLnNhbXBsZVJhdGU7XHJcbiAgY29uc3QgZm9ybWF0ID0gMTsgLy8gUENNXHJcbiAgY29uc3QgYml0RGVwdGggPSAxNjtcclxuICBjb25zdCBieXRlc1BlclNhbXBsZSA9IGJpdERlcHRoIC8gODtcclxuICBjb25zdCBibG9ja0FsaWduID0gbnVtQ2hhbm5lbHMgKiBieXRlc1BlclNhbXBsZTtcclxuICBjb25zdCBkYXRhQnl0ZUNvdW50ID0gYnVmZmVyLmxlbmd0aCAqIGJsb2NrQWxpZ247XHJcbiAgY29uc3QgaGVhZGVyQnl0ZUNvdW50ID0gNDQ7XHJcbiAgY29uc3QgdG90YWxCeXRlQ291bnQgPSBoZWFkZXJCeXRlQ291bnQgKyBkYXRhQnl0ZUNvdW50O1xyXG4gIGNvbnN0IGhlYWRlckJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihoZWFkZXJCeXRlQ291bnQpO1xyXG4gIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoaGVhZGVyQnVmZmVyKTtcclxuICBjb25zdCB3cml0ZVN0cmluZyA9ICh2aWV3OiBEYXRhVmlldywgb2Zmc2V0OiBudW1iZXIsIHN0cmluZzogc3RyaW5nKSA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCArIGksIHN0cmluZy5jaGFyQ29kZUF0KGkpKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHdyaXRlU3RyaW5nKHZpZXcsIDAsICdSSUZGJyk7XHJcbiAgdmlldy5zZXRVaW50MzIoNCwgdG90YWxCeXRlQ291bnQgLSA4LCB0cnVlKTtcclxuICB3cml0ZVN0cmluZyh2aWV3LCA4LCAnV0FWRScpO1xyXG4gIHdyaXRlU3RyaW5nKHZpZXcsIDEyLCAnZm10ICcpO1xyXG4gIHZpZXcuc2V0VWludDMyKDE2LCAxNiwgdHJ1ZSk7XHJcbiAgdmlldy5zZXRVaW50MTYoMjAsIGZvcm1hdCwgdHJ1ZSk7XHJcbiAgdmlldy5zZXRVaW50MTYoMjIsIG51bUNoYW5uZWxzLCB0cnVlKTtcclxuICB2aWV3LnNldFVpbnQzMigyNCwgc2FtcGxlUmF0ZSwgdHJ1ZSk7XHJcbiAgdmlldy5zZXRVaW50MzIoMjgsIHNhbXBsZVJhdGUgKiBibG9ja0FsaWduLCB0cnVlKTtcclxuICB2aWV3LnNldFVpbnQxNigzMiwgYmxvY2tBbGlnbiwgdHJ1ZSk7XHJcbiAgdmlldy5zZXRVaW50MTYoMzQsIGJpdERlcHRoLCB0cnVlKTtcclxuICB3cml0ZVN0cmluZyh2aWV3LCAzNiwgJ2RhdGEnKTtcclxuICB2aWV3LnNldFVpbnQzMig0MCwgZGF0YUJ5dGVDb3VudCwgdHJ1ZSk7XHJcbiAgY29uc3QgZGF0YUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihkYXRhQnl0ZUNvdW50KTtcclxuICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhkYXRhQnVmZmVyKTtcclxuICBsZXQgb2Zmc2V0ID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkrKykge1xyXG4gICAgZm9yIChsZXQgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBudW1DaGFubmVsczsgY2hhbm5lbCsrKSB7XHJcbiAgICAgIGNvbnN0IHNhbXBsZSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsKVtpXTtcclxuICAgICAgY29uc3QgcyA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBzYW1wbGUpKTtcclxuICAgICAgY29uc3QgaW50MTYgPSBzIDwgMCA/IHMgKiAweDgwMDAgOiBzICogMHg3RkZGO1xyXG4gICAgICBkYXRhVmlldy5zZXRJbnQxNihvZmZzZXQsIGludDE2LCB0cnVlKTtcclxuICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBuZXcgQmxvYihbaGVhZGVyQnVmZmVyLCBkYXRhQnVmZmVyXSwgeyB0eXBlOiAnYXVkaW8vd2F2JyB9KTtcclxufVxyXG5cclxuY29uc3QgQm9va0VkaXRvcjogUmVhY3QuRkM8Qm9va0VkaXRvclByb3BzPiA9ICh7IGJvb2ssIG9uVXBkYXRlQm9vaywgb25QcmV2aWV3LCBvbkJhY2sgfSkgPT4ge1xyXG4gIGNvbnN0IFtzZWxlY3RlZFBhZ2VzLCBzZXRTZWxlY3RlZFBhZ2VzXSA9IHVzZVN0YXRlPFNldDxudW1iZXI+PihuZXcgU2V0KCkpO1xyXG4gIGNvbnN0IFtpc1JlZ2VuZXJhdGluZywgc2V0SXNSZWdlbmVyYXRpbmddID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7XHJcbiAgY29uc3QgW2dsb2JhbExvYWRpbmcsIHNldEdsb2JhbExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBbaXNFeHBvcnRpbmcsIHNldElzRXhwb3J0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXhwb3J0UHJvZ3Jlc3MsIHNldEV4cG9ydFByb2dyZXNzXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBhdWRpb0NvbnRleHRSZWYgPSB1c2VSZWY8QXVkaW9Db250ZXh0IHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IGZ1bGxDaGFyYWN0ZXJEZXNjcmlwdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgbGV0IGRlc2MgPSBgTWFpbiBDaGFyYWN0ZXI6ICR7Ym9vay5tZXRhZGF0YS5tYWluQ2hhcmFjdGVyRGVzY3JpcHRpb259LmA7XHJcbiAgICBpZiAoYm9vay5tZXRhZGF0YS5tYWluQ2hhcmFjdGVyRGlzdGluY3RpdmVNYXJrKSB7XHJcbiAgICAgIGRlc2MgKz0gYCBESVNUSU5DVElWRSBGRUFUVVJFOiAke2Jvb2subWV0YWRhdGEubWFpbkNoYXJhY3RlckRpc3RpbmN0aXZlTWFya30gKE11c3QgYXBwZWFyIGluIGV2ZXJ5IGltYWdlKS5gO1xyXG4gICAgfVxyXG4gICAgaWYgKGJvb2subWV0YWRhdGEuc2Vjb25kYXJ5Q2hhcmFjdGVyRGVzY3JpcHRpb24pIHtcclxuICAgICAgZGVzYyArPSBgXFxuU2Vjb25kYXJ5IENoYXJhY3RlciAoU2lkZWtpY2spOiAke2Jvb2subWV0YWRhdGEuc2Vjb25kYXJ5Q2hhcmFjdGVyRGVzY3JpcHRpb259IChUaGlzIGFwcGVhcmFuY2UgTVVTVCBiZSBjb25zaXN0ZW50IGFjcm9zcyBhbGwgcGFnZXMpLmA7XHJcbiAgICAgIGlmIChib29rLm1ldGFkYXRhLnNlY29uZGFyeUNoYXJhY3RlckRpc3RpbmN0aXZlTWFyaykge1xyXG4gICAgICAgIGRlc2MgKz0gYCBESVNUSU5DVElWRSBGRUFUVVJFOiAke2Jvb2subWV0YWRhdGEuc2Vjb25kYXJ5Q2hhcmFjdGVyRGlzdGluY3RpdmVNYXJrfS5gO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVzYztcclxuICB9LCBbYm9vay5tZXRhZGF0YV0pO1xyXG5cclxuICBjb25zdCB0b2dnbGVTZWxlY3Rpb24gPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgbmV3U2V0ID0gbmV3IFNldChzZWxlY3RlZFBhZ2VzKTtcclxuICAgIGlmIChuZXdTZXQuaGFzKGluZGV4KSkgeyBuZXdTZXQuZGVsZXRlKGluZGV4KTsgfSBlbHNlIHsgbmV3U2V0LmFkZChpbmRleCk7IH1cclxuICAgIHNldFNlbGVjdGVkUGFnZXMobmV3U2V0KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZWxlY3RBbGwgPSAoKSA9PiB7XHJcbiAgICBpZiAoc2VsZWN0ZWRQYWdlcy5zaXplID09PSBib29rLnBhZ2VzLmxlbmd0aCkgeyBzZXRTZWxlY3RlZFBhZ2VzKG5ldyBTZXQoKSk7IH1cclxuICAgIGVsc2UgeyBzZXRTZWxlY3RlZFBhZ2VzKG5ldyBTZXQoYm9vay5wYWdlcy5tYXAoKF8sIGkpID0+IGkpKSk7IH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVQcm9tcHRDaGFuZ2UgPSAoaW5kZXg6IG51bWJlciwgbmV3UHJvbXB0OiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IG5ld1BhZ2VzID0gWy4uLmJvb2sucGFnZXNdO1xyXG4gICAgbmV3UGFnZXNbaW5kZXhdID0geyAuLi5uZXdQYWdlc1tpbmRleF0sIGltYWdlUHJvbXB0OiBuZXdQcm9tcHQgfTtcclxuICAgIG9uVXBkYXRlQm9vayh7IC4uLmJvb2ssIHBhZ2VzOiBuZXdQYWdlcyB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVUZXh0Q2hhbmdlID0gKGluZGV4OiBudW1iZXIsIG5ld1RleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgbmV3UGFnZXMgPSBbLi4uYm9vay5wYWdlc107XHJcbiAgICBuZXdQYWdlc1tpbmRleF0gPSB7IC4uLm5ld1BhZ2VzW2luZGV4XSwgaGVicmV3VGV4dDogbmV3VGV4dCB9O1xyXG4gICAgb25VcGRhdGVCb29rKHsgLi4uYm9vaywgcGFnZXM6IG5ld1BhZ2VzIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIE1haW4gZ2VuZXJhdGlvbiBmdW5jdGlvblxyXG4gIGNvbnN0IGdlbmVyYXRlSW1hZ2VzRm9ySW5kaWNlcyA9IGFzeW5jIChpbmRpY2VzOiBudW1iZXJbXSkgPT4ge1xyXG4gICAgaWYgKGluZGljZXMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgc2V0R2xvYmFsTG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICAvLyBNYXJrIHRoZXNlIGFzIHJlZ2VuZXJhdGluZyBmb3IgVUkgc3Bpbm5lcnNcclxuICAgIGNvbnN0IG5ld1JlZ2VuZXJhdGluZyA9IG5ldyBTZXQoaXNSZWdlbmVyYXRpbmcpO1xyXG4gICAgaW5kaWNlcy5mb3JFYWNoKGkgPT4gbmV3UmVnZW5lcmF0aW5nLmFkZChpKSk7XHJcbiAgICBzZXRJc1JlZ2VuZXJhdGluZyhuZXdSZWdlbmVyYXRpbmcpO1xyXG5cclxuICAgIC8vIFdlIHdvcmsgb24gYSBjb3B5IG9mIHBhZ2VzIHRvIGF2b2lkIHN0YXRlIHRlYXJpbmcsIGJ1dCB3ZSBhbHNvIHVwZGF0ZSBtYWluIHN0YXRlIGluY3JlbWVudGFsbHlcclxuICAgIGNvbnN0IHdvcmtpbmdQYWdlcyA9IFsuLi5ib29rLnBhZ2VzXTtcclxuXHJcbiAgICAvLyBGaW5kIHJlZmVyZW5jZSBpbWFnZSBmcm9tIG1ldGFkYXRhIG9yIGV4aXN0aW5nIHBhZ2VzXHJcbiAgICBsZXQgcmVmZXJlbmNlSW1hZ2UgPSBib29rLm1ldGFkYXRhLmJhc2VDaGFyYWN0ZXJJbWFnZVVybCB8fCB3b3JraW5nUGFnZXMuZmluZChwID0+IHAuZ2VuZXJhdGVkSW1hZ2VVcmwpPy5nZW5lcmF0ZWRJbWFnZVVybDtcclxuXHJcbiAgICAvLyBQcm9jZXNzIHNlcXVlbnRpYWxseVxyXG4gICAgZm9yIChjb25zdCBpIG9mIGluZGljZXMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpc0NvdmVyID0gaSA9PT0gMDtcclxuICAgICAgICBjb25zdCB0ZXh0VG9SZW5kZXIgPSBpc0NvdmVyID8gYm9vay5tZXRhZGF0YS50aXRsZSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgY29uc3QgdXJsID0gYXdhaXQgZ2VuZXJhdGVQYWdlSW1hZ2UoXHJcbiAgICAgICAgICB3b3JraW5nUGFnZXNbaV0uaW1hZ2VQcm9tcHQsXHJcbiAgICAgICAgICBmdWxsQ2hhcmFjdGVyRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBib29rLm1ldGFkYXRhLmFydFN0eWxlLFxyXG4gICAgICAgICAgcmVmZXJlbmNlSW1hZ2UgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgaXNDb3ZlcixcclxuICAgICAgICAgIHRleHRUb1JlbmRlclxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh1cmwpIHtcclxuICAgICAgICAgIHdvcmtpbmdQYWdlc1tpXSA9IHsgLi4ud29ya2luZ1BhZ2VzW2ldLCBnZW5lcmF0ZWRJbWFnZVVybDogdXJsIH07XHJcblxyXG4gICAgICAgICAgaWYgKCFyZWZlcmVuY2VJbWFnZSAmJiAoaSA9PT0gMCB8fCBpID09PSAxKSkge1xyXG4gICAgICAgICAgICByZWZlcmVuY2VJbWFnZSA9IHVybDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBvblVwZGF0ZUJvb2soeyAuLi5ib29rLCBwYWdlczogWy4uLndvcmtpbmdQYWdlc10gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBnZW5lcmF0ZSBpbWFnZSBmb3IgcGFnZSAke2l9YCwgZXJyb3IpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldElzUmVnZW5lcmF0aW5nKHByZXYgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcbiAgICAgICAgICBuZXh0LmRlbGV0ZShpKTtcclxuICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRHbG9iYWxMb2FkaW5nKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZWdlbmVyYXRlU2VsZWN0ZWQgPSAoKSA9PiB7IGdlbmVyYXRlSW1hZ2VzRm9ySW5kaWNlcyhBcnJheS5mcm9tKHNlbGVjdGVkUGFnZXMpKTsgfTtcclxuICBjb25zdCBoYW5kbGVTaW5nbGVSZWdlbmVyYXRlID0gKGluZGV4OiBudW1iZXIpID0+IHsgZ2VuZXJhdGVJbWFnZXNGb3JJbmRpY2VzKFtpbmRleF0pOyB9O1xyXG5cclxuICAvLyBBVVRPLUdFTkVSQVRFIEVGRkVDVFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBtaXNzaW5nSW5kaWNlcyA9IGJvb2sucGFnZXNcclxuICAgICAgLm1hcCgocGFnZSwgaW5kZXgpID0+IHBhZ2UuZ2VuZXJhdGVkSW1hZ2VVcmwgPyAtMSA6IGluZGV4KVxyXG4gICAgICAuZmlsdGVyKGluZGV4ID0+IGluZGV4ICE9PSAtMSk7XHJcblxyXG4gICAgaWYgKG1pc3NpbmdJbmRpY2VzLmxlbmd0aCA+IDAgJiYgIWdsb2JhbExvYWRpbmcgJiYgaXNSZWdlbmVyYXRpbmcuc2l6ZSA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkF1dG8tZ2VuZXJhdGluZyBtaXNzaW5nIGltYWdlcyBmb3IgaW5kaWNlczpcIiwgbWlzc2luZ0luZGljZXMpO1xyXG4gICAgICBnZW5lcmF0ZUltYWdlc0ZvckluZGljZXMobWlzc2luZ0luZGljZXMpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTsgLy8gUnVuIG9uY2Ugb24gbW91bnRcclxuXHJcbiAgY29uc3QgcHJlcGFyZUV4cG9ydENhbnZhcyA9IGFzeW5jIChpOiBudW1iZXIsIGltZ1VybDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBpc0NvdmVyID0gaSA9PT0gMDtcclxuXHJcbiAgICAvLyBFWFBPUlQgTEFZT1VUIFNUUkFURUdZOlxyXG4gICAgLy8gQ292ZXI6IDEwMjR4MTAyNCBTcXVhcmVcclxuICAgIC8vIElubmVyOiAxMDI0eDEyODAgUmVjdGFuZ2xlICgxMDI0eDEwMjQgSW1hZ2UgVG9wLCAxMDI0eDI1NiBUZXh0IEJvdHRvbSlcclxuXHJcbiAgICBjb25zdCB3aWR0aCA9IDEwMjQ7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBpc0NvdmVyID8gMTAyNCA6IDEyODA7XHJcblxyXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XHJcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcclxuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9ICctOTk5OXB4JztcclxuICAgIGNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZmZmZic7IC8vIFdoaXRlIGJhY2tncm91bmRcclxuICAgIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG5cclxuICAgIGlmIChpc0NvdmVyKSB7XHJcbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2ltZ1VybH1cIiBzdHlsZT1cIndpZHRoOiAxMDI0cHg7IGhlaWdodDogMTAyNHB4OyBvYmplY3QtZml0OiBjb3ZlcjtcIiAvPmA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB0ZXh0ID0gYm9vay5wYWdlc1tpXS5oZWJyZXdUZXh0IHx8IFwiXCI7XHJcbiAgICAgIC8vIEltcHJvdmVkIHRleHQgc3R5bGluZyBtYXRjaGluZyBnbG9iYWxzLmNzcyB1cGRhdGVzXHJcbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB3aWR0aDogMTAyNHB4OyBoZWlnaHQ6IDEyODBweDsgYmFja2dyb3VuZDogd2hpdGU7XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6IDEwMjRweDsgaGVpZ2h0OiAxMDAwcHg7IGZsZXgtc2hyaW5rOiAwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmYWZjO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpbWdVcmx9XCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBvYmplY3QtZml0OiBjb3ZlcjsgZGlzcGxheTogYmxvY2s7XCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIlxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDI0cHg7IFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjgwcHg7IFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyBcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAzMnB4IDQ4cHg7IFxyXG4gICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7IFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNmZmZkZjUgMCUsICNmZmY4ZTcgMzAlLCAjZmRlY2M4IDcwJSwgI2ZiZTNiMiAxMDAlKTtcclxuICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDJweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KSwgaW5zZXQgMCAtMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDNweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSk7XHJcbiAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdSdWJpaycsICdIZWVibycsICdBcmlhbCcsIHNhbnMtc2VyaWY7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDQ0cHg7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMyYTFhMGE7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHJ0bDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDFweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KSwgMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjAxZW07XHJcbiAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3RleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGF3YWl0IGh0bWwyY2FudmFzKGNvbnRhaW5lciwgeyBzY2FsZTogMSwgdXNlQ09SUzogdHJ1ZSwgd2lkdGgsIGhlaWdodCB9KTtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcclxuICAgIHJldHVybiBjYW52YXM7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRG93bmxvYWRaSVAgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoaXNFeHBvcnRpbmcgfHwgZ2xvYmFsTG9hZGluZykgcmV0dXJuO1xyXG4gICAgc2V0SXNFeHBvcnRpbmcodHJ1ZSk7XHJcbiAgICBzZXRFeHBvcnRQcm9ncmVzcygn157Xm9eZ158g15fXkdeZ15zXlC4uLicpO1xyXG5cclxuICAgIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpO1xyXG4gICAgLy8gVXNlIEE0IGZvciBzdGFuZGFyZCBwcmludGluZyBzdXBwb3J0XHJcbiAgICBjb25zdCBwZGYgPSBuZXcganNQREYoJ3AnLCAnbW0nLCAnYTQnKTtcclxuICAgIGNvbnN0IHBhZ2VXaWR0aCA9IDIxMDtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVkUGFnZXMgPSBbLi4uYm9vay5wYWdlc107XHJcbiAgICBjb25zdCBhdWRpb0VuYWJsZWQgPSBib29rLm1ldGFkYXRhLmF1ZGlvQ29uZmlnPy5lbmFibGVkO1xyXG4gICAgY29uc3Qgdm9pY2VOYW1lID0gYm9vay5tZXRhZGF0YS5hdWRpb0NvbmZpZz8udm9pY2VOYW1lIHx8ICdQdWNrJztcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICB6aXAuZmlsZShcInNlcXVlbF9kYXRhLmpzb25cIiwgSlNPTi5zdHJpbmdpZnkoYm9vaywgbnVsbCwgMikpO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib29rLnBhZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2V0RXhwb3J0UHJvZ3Jlc3MoYNee16LXkdeTINei157XldeTICR7aSArIDF9LyR7Ym9vay5wYWdlcy5sZW5ndGh9Li4uYCk7XHJcblxyXG4gICAgICAgIGxldCBpbWdVcmwgPSB1cGRhdGVkUGFnZXNbaV0uZ2VuZXJhdGVkSW1hZ2VVcmw7XHJcbiAgICAgICAgY29uc3QgaXNDb3ZlciA9IGkgPT09IDA7XHJcblxyXG4gICAgICAgIGlmICghaW1nVXJsKSB7XHJcbiAgICAgICAgICAvLyBHZW5lcmF0ZSBvbiBmbHkgaWYgbWlzc2luZyBkdXJpbmcgZXhwb3J0XHJcbiAgICAgICAgICBsZXQgcmVmZXJlbmNlSW1hZ2UgPSBib29rLm1ldGFkYXRhLmJhc2VDaGFyYWN0ZXJJbWFnZVVybCB8fCB1cGRhdGVkUGFnZXMuZmluZChwID0+IHAuZ2VuZXJhdGVkSW1hZ2VVcmwpPy5nZW5lcmF0ZWRJbWFnZVVybDtcclxuICAgICAgICAgIGNvbnN0IHRleHRUb1JlbmRlciA9IGlzQ292ZXIgPyBib29rLm1ldGFkYXRhLnRpdGxlIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgIGltZ1VybCA9IGF3YWl0IGdlbmVyYXRlUGFnZUltYWdlKFxyXG4gICAgICAgICAgICB1cGRhdGVkUGFnZXNbaV0uaW1hZ2VQcm9tcHQsXHJcbiAgICAgICAgICAgIGZ1bGxDaGFyYWN0ZXJEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgYm9vay5tZXRhZGF0YS5hcnRTdHlsZSxcclxuICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2UgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBpc0NvdmVyLFxyXG4gICAgICAgICAgICB0ZXh0VG9SZW5kZXJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoaW1nVXJsKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZWRQYWdlc1tpXS5nZW5lcmF0ZWRJbWFnZVVybCA9IGltZ1VybDtcclxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VJbWFnZSAmJiAoaSA9PT0gMCB8fCBpID09PSAxKSkgcmVmZXJlbmNlSW1hZ2UgPSBpbWdVcmw7XHJcbiAgICAgICAgICAgIG9uVXBkYXRlQm9vayh7IC4uLmJvb2ssIHBhZ2VzOiB1cGRhdGVkUGFnZXMgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW1nVXJsKSB7XHJcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBhd2FpdCBwcmVwYXJlRXhwb3J0Q2FudmFzKGksIGltZ1VybCk7XHJcbiAgICAgICAgICBjb25zdCBwbmdCbG9iID0gYXdhaXQgbmV3IFByb21pc2U8QmxvYiB8IG51bGw+KHJlc29sdmUgPT4gY2FudmFzLnRvQmxvYihyZXNvbHZlLCAnaW1hZ2UvcG5nJykpO1xyXG4gICAgICAgICAgaWYgKHBuZ0Jsb2IpIHtcclxuICAgICAgICAgICAgemlwLmZpbGUoaSA9PT0gMCA/ICcwMF9DT1ZFUi5wbmcnIDogYFBBR0VfJHtTdHJpbmcoaSkucGFkU3RhcnQoMiwgJzAnKX0ucG5nYCwgcG5nQmxvYik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQWRkIHRvIFBERlxyXG4gICAgICAgICAgY29uc3QgaW1nRGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjkpO1xyXG4gICAgICAgICAgY29uc3QgY2FudmFzUmF0aW8gPSBjYW52YXMuaGVpZ2h0IC8gY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgY29uc3QgcGRmSW1nSGVpZ2h0ID0gcGFnZVdpZHRoICogY2FudmFzUmF0aW87XHJcblxyXG4gICAgICAgICAgbGV0IHJlbmRlcldpZHRoID0gcGFnZVdpZHRoO1xyXG4gICAgICAgICAgbGV0IHJlbmRlckhlaWdodCA9IHBkZkltZ0hlaWdodDtcclxuICAgICAgICAgIGlmIChyZW5kZXJIZWlnaHQgPiAyOTcpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSAyOTcgLyByZW5kZXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIHJlbmRlckhlaWdodCA9IDI5NztcclxuICAgICAgICAgICAgcmVuZGVyV2lkdGggPSBwYWdlV2lkdGggKiBzY2FsZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSAoMjEwIC0gcmVuZGVyV2lkdGgpIC8gMjtcclxuXHJcbiAgICAgICAgICBwZGYuYWRkSW1hZ2UoaW1nRGF0YSwgJ0pQRUcnLCB4T2Zmc2V0LCAwLCByZW5kZXJXaWR0aCwgcmVuZGVySGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICBpZiAoaSA8IGJvb2sucGFnZXMubGVuZ3RoIC0gMSkgcGRmLmFkZFBhZ2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhdWRpb0VuYWJsZWQpIHtcclxuICAgICAgICAgIGlmICghYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQpIGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHQpKHsgc2FtcGxlUmF0ZTogMjQwMDAgfSk7XHJcbiAgICAgICAgICBjb25zdCBidWYgPSBhd2FpdCBnZW5lcmF0ZVBhZ2VBdWRpbyhpID09PSAwID8gYm9vay5tZXRhZGF0YS50aXRsZSA6IGJvb2sucGFnZXNbaV0uaGVicmV3VGV4dCwgYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQsIHZvaWNlTmFtZSk7XHJcbiAgICAgICAgICBpZiAoYnVmKSB6aXAuZmlsZShpID09PSAwID8gJzAwX0FVRElPX1RpdGxlLndhdicgOiBgQVVESU9fUGFnZV8ke1N0cmluZyhpKS5wYWRTdGFydCgyLCAnMCcpfS53YXZgLCBhdWRpb0J1ZmZlclRvV2F2KGJ1ZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcGRmQmxvYiA9IHBkZi5vdXRwdXQoJ2Jsb2InKTtcclxuICAgICAgemlwLmZpbGUoYCR7Ym9vay5tZXRhZGF0YS50aXRsZX0ucGRmYCwgcGRmQmxvYik7XHJcblxyXG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgemlwLmdlbmVyYXRlQXN5bmMoeyB0eXBlOiAnYmxvYicgfSk7XHJcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoY29udGVudCk7XHJcbiAgICAgIC8vIENsZWFuIGZpbGVuYW1lLCBqdXN0IHRoZSBib29rIHRpdGxlXHJcbiAgICAgIGNvbnN0IHNhZmVUaXRsZSA9IGJvb2subWV0YWRhdGEudGl0bGUucmVwbGFjZSgvW1xcXFwvOio/XCI8PnxdL2csICdfJyk7XHJcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBgJHtzYWZlVGl0bGV9LnppcGA7XHJcbiAgICAgIGxpbmsuY2xpY2soKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFeHBvcnQgZmFpbGVkOlwiLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KFwi15TXmdeZ16bXldeQINeg15vXqdecLlwiKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzRXhwb3J0aW5nKGZhbHNlKTtcclxuICAgICAgc2V0RXhwb3J0UHJvZ3Jlc3MoJycpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1zbGF0ZS05MDAgdGV4dC1zbGF0ZS0xMDAgZmxleCBmbGV4LWNvbFwiPlxyXG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCBib3JkZXItYiBib3JkZXItc2xhdGUtNzAwIHN0aWNreSB0b3AtMCB6LTUwIHNoYWRvdy1tZFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gcHgtNCBweS00IGZsZXggZmxleC1jb2wgc206ZmxleC1yb3cganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQmFja30gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiPuKGkCDXl9eW16jXlDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPuKcj++4jyDXodeY15XXk9eZ15Ug15zXoteo15nXm9eUOiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWtpZC1ibHVlXCI+e2Jvb2subWV0YWRhdGEudGl0bGV9PC9zcGFuPjwvaDE+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBtci0yIGhpZGRlbiBzbTpibG9ja1wiPntzZWxlY3RlZFBhZ2VzLnNpemV9INeg15HXl9eo15U8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZFpJUH0gZGlzYWJsZWQ9e2lzRXhwb3J0aW5nIHx8IGdsb2JhbExvYWRpbmd9IGNsYXNzTmFtZT1cImJnLWtpZC1vcmFuZ2UgaG92ZXI6Ymctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS0yIHB4LTQgcm91bmRlZC1sZyB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIHNoYWRvdy1tZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBkaXNhYmxlZDpvcGFjaXR5LTUwXCI+XHJcbiAgICAgICAgICAgICAge2lzRXhwb3J0aW5nID8gPHNwYW4gY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluXCI+4o+zPC9zcGFuPiA6ICfwn5OmJ30g15TXldeo15MgWklQXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVJlZ2VuZXJhdGVTZWxlY3RlZH0gZGlzYWJsZWQ9e3NlbGVjdGVkUGFnZXMuc2l6ZSA9PT0gMCB8fCBnbG9iYWxMb2FkaW5nfSBjbGFzc05hbWU9XCJiZy1raWQtYmx1ZS8yMCBob3ZlcjpiZy1raWQtYmx1ZS80MCB0ZXh0LWtpZC1ibHVlIGJvcmRlciBib3JkZXIta2lkLWJsdWUvNTAgZm9udC1ib2xkIHB5LTIgcHgtNCByb3VuZGVkLWxnIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgZGlzYWJsZWQ6b3BhY2l0eS0zMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICB7Z2xvYmFsTG9hZGluZyA/IDxzcGFuIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpblwiPuKPszwvc3Bhbj4gOiAn4pqhJ30g16bXldeoINeq157Xldeg15XXqiDXnNeg15HXl9eo15nXnVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblByZXZpZXd9IGNsYXNzTmFtZT1cImJnLWtpZC15ZWxsb3cgaG92ZXI6YmcteWVsbG93LTQwMCB0ZXh0LXNsYXRlLTkwMCBmb250LWJvbGQgcHktMiBweC02IHJvdW5kZWQtbGcgdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBzaGFkb3ctbGcgdHJhbnNmb3JtIGhvdmVyOi10cmFuc2xhdGUteS0wLjUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj7wn5OWPC9zcGFuPiDXoteR15XXqCDXnNen16jXmdeQ15RcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9oZWFkZXI+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy1hdXRvIHAtNCBzbTpwLThcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi02XCI+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS0zMDBcIj7XnNeV15cg15TXotee15XXk9eZ1508L2gyPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3NlbGVjdEFsbH0gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHVuZGVybGluZVwiPntzZWxlY3RlZFBhZ2VzLnNpemUgPT09IGJvb2sucGFnZXMubGVuZ3RoID8gJ9eR15jXnCDXkdeX15nXqNeUJyA6ICfXkdeX16gg15TXm9ecJ308L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyB4bDpncmlkLWNvbHMtNCBnYXAtNlwiPlxyXG4gICAgICAgICAgICB7Ym9vay5wYWdlcy5tYXAoKHBhZ2UsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2ByZWxhdGl2ZSBiZy1zbGF0ZS04MDAgcm91bmRlZC14bCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLTIgdHJhbnNpdGlvbi1hbGwgZ3JvdXAgJHtzZWxlY3RlZFBhZ2VzLmhhcyhpbmRleCkgPyAnYm9yZGVyLWtpZC1ibHVlIHNoYWRvdy1bMF8wXzE1cHhfcmdiYSg2NCwyMjQsMjA4LDAuMyldJyA6ICdib3JkZXItc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1zbGF0ZS02MDAnfWB9IG9uQ2xpY2s9eygpID0+IHRvZ2dsZVNlbGVjdGlvbihpbmRleCl9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMyBsZWZ0LTMgei0yMFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17c2VsZWN0ZWRQYWdlcy5oYXMoaW5kZXgpfSBvbkNoYW5nZT17KCkgPT4geyB9fSBjbGFzc05hbWU9XCJ3LTUgaC01IHJvdW5kZWQgYm9yZGVyLXNsYXRlLTUwMCBiZy1zbGF0ZS03MDAgY2hlY2tlZDpiZy1raWQtYmx1ZSBjdXJzb3ItcG9pbnRlclwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFzcGVjdC1zcXVhcmUgYmctc2xhdGUtOTAwIHJlbGF0aXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtwYWdlLmdlbmVyYXRlZEltYWdlVXJsID8gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtwYWdlLmdlbmVyYXRlZEltYWdlVXJsfSBhbHQ9e2BQYWdlICR7aW5kZXh9YH0gY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXNsYXRlLTYwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC00eGwgbWItMlwiPvCflrzvuI88L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc1JlZ2VuZXJhdGluZy5oYXMoaW5kZXgpID8gJ9ee15nXmdem16gg16rXnteV16DXlC4uLicgOiAn157Xnteq15nXnyDXnNeZ16bXmdeo15QuLi4nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAge2lzUmVnZW5lcmF0aW5nLmhhcyhpbmRleCkgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1zbGF0ZS05MDAvODAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei0xMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJvcmRlci0yIGJvcmRlci1raWQtYmx1ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIGxlZnQtMCByaWdodC0wIHAtMiBiZy1ncmFkaWVudC10by10IGZyb20tYmxhY2svODAgdG8tdHJhbnNwYXJlbnQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBmbGV4IGp1c3RpZnktZW5kIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBoYW5kbGVTaW5nbGVSZWdlbmVyYXRlKGluZGV4KTsgfX0gY2xhc3NOYW1lPVwicC0yIGJnLXdoaXRlLzEwIGhvdmVyOmJnLXdoaXRlLzMwIHJvdW5kZWQtZnVsbCB0ZXh0LXdoaXRlIGJhY2tkcm9wLWJsdXItc21cIiB0aXRsZT1cIlJlZ2VuZXJhdGUgdGhpcyBwYWdlXCI+8J+UhDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgcmlnaHQtMyBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyIHRleHQtd2hpdGUgdGV4dC14cyBmb250LWJvbGQgcHgtMiBweS0xIHJvdW5kZWRcIj57aW5kZXggPT09IDAgPyAn15vXqNeZ15vXlCcgOiBg16LXnteV15MgJHtwYWdlLnBhZ2VOdW1iZXJ9YH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHNwYWNlLXktM1wiIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cclxuICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdXBwZXJjYXNlIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTUwMCB0cmFja2luZy13aWRlciBtYi0xIGJsb2NrXCI+15TXoNeX15nXlCDXnNeR15nXoNeUINee15zXkNeb15XXqteZ16ogKFBST01QVCk8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17cGFnZS5pbWFnZVByb21wdH0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVQcm9tcHRDaGFuZ2UoaW5kZXgsIGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCByb3VuZGVkLWxnIHAtMiB0ZXh0LXhzIHRleHQtc2xhdGUtMzAwIGZvY3VzOmJvcmRlci1raWQtYmx1ZSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1raWQtYmx1ZSBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgaC0yNCBzY3JvbGxiYXItdGhpblwiIHBsYWNlaG9sZGVyPVwi16rXkNeoINeQ16og15TXodem16DXlCDXkdeQ16DXktec15nXqi4uLlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgZm9udC1ib2xkIHRleHQtc2xhdGUtNTAwIHRyYWNraW5nLXdpZGVyIG1iLTEgYmxvY2tcIj7XmNen16HXmCDXkdei15HXqNeZ16o8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIHtpbmRleCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS00MDBcIiBkaXI9XCJydGxcIj57Ym9vay5tZXRhZGF0YS50aXRsZX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFnZS5oZWJyZXdUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVRleHRDaGFuZ2UoaW5kZXgsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCByb3VuZGVkLWxnIHAtMiB0ZXh0LXhzIHRleHQtc2xhdGUtMzAwIGZvY3VzOmJvcmRlci1raWQtYmx1ZSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1raWQtYmx1ZSBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgaC0yMCBzY3JvbGxiYXItdGhpblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi15TXmNen16HXmCDXkdei15HXqNeZ16ouLi5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXI9XCJydGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHtpc0V4cG9ydGluZyAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotWzEwMF0gYmctc2xhdGUtOTAwLzkwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYm9yZGVyLTQgYm9yZGVyLWtpZC1ibHVlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXgtYXV0byBtYi02XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgZm9udC1mcmVkb2thXCI+e2V4cG9ydFByb2dyZXNzfTwvaDM+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCb29rRWRpdG9yO1xyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJnZW5lcmF0ZVBhZ2VJbWFnZSIsImdlbmVyYXRlUGFnZUF1ZGlvIiwiaHRtbDJjYW52YXMiLCJqc1BERiIsIkpTWmlwIiwiYXVkaW9CdWZmZXJUb1dhdiIsImJ1ZmZlciIsIm51bUNoYW5uZWxzIiwibnVtYmVyT2ZDaGFubmVscyIsInNhbXBsZVJhdGUiLCJmb3JtYXQiLCJiaXREZXB0aCIsImJ5dGVzUGVyU2FtcGxlIiwiYmxvY2tBbGlnbiIsImRhdGFCeXRlQ291bnQiLCJsZW5ndGgiLCJoZWFkZXJCeXRlQ291bnQiLCJ0b3RhbEJ5dGVDb3VudCIsImhlYWRlckJ1ZmZlciIsIkFycmF5QnVmZmVyIiwidmlldyIsIkRhdGFWaWV3Iiwid3JpdGVTdHJpbmciLCJvZmZzZXQiLCJzdHJpbmciLCJpIiwic2V0VWludDgiLCJjaGFyQ29kZUF0Iiwic2V0VWludDMyIiwic2V0VWludDE2IiwiZGF0YUJ1ZmZlciIsImRhdGFWaWV3IiwiY2hhbm5lbCIsInNhbXBsZSIsImdldENoYW5uZWxEYXRhIiwicyIsIk1hdGgiLCJtYXgiLCJtaW4iLCJpbnQxNiIsInNldEludDE2IiwiQmxvYiIsInR5cGUiLCJCb29rRWRpdG9yIiwiYm9vayIsIm9uVXBkYXRlQm9vayIsIm9uUHJldmlldyIsIm9uQmFjayIsInNlbGVjdGVkUGFnZXMiLCJzZXRTZWxlY3RlZFBhZ2VzIiwiU2V0IiwiaXNSZWdlbmVyYXRpbmciLCJzZXRJc1JlZ2VuZXJhdGluZyIsImdsb2JhbExvYWRpbmciLCJzZXRHbG9iYWxMb2FkaW5nIiwiaXNFeHBvcnRpbmciLCJzZXRJc0V4cG9ydGluZyIsImV4cG9ydFByb2dyZXNzIiwic2V0RXhwb3J0UHJvZ3Jlc3MiLCJhdWRpb0NvbnRleHRSZWYiLCJmdWxsQ2hhcmFjdGVyRGVzY3JpcHRpb24iLCJkZXNjIiwibWV0YWRhdGEiLCJtYWluQ2hhcmFjdGVyRGVzY3JpcHRpb24iLCJtYWluQ2hhcmFjdGVyRGlzdGluY3RpdmVNYXJrIiwic2Vjb25kYXJ5Q2hhcmFjdGVyRGVzY3JpcHRpb24iLCJzZWNvbmRhcnlDaGFyYWN0ZXJEaXN0aW5jdGl2ZU1hcmsiLCJ0b2dnbGVTZWxlY3Rpb24iLCJpbmRleCIsIm5ld1NldCIsImhhcyIsImRlbGV0ZSIsImFkZCIsInNlbGVjdEFsbCIsInNpemUiLCJwYWdlcyIsIm1hcCIsIl8iLCJoYW5kbGVQcm9tcHRDaGFuZ2UiLCJuZXdQcm9tcHQiLCJuZXdQYWdlcyIsImltYWdlUHJvbXB0IiwiaGFuZGxlVGV4dENoYW5nZSIsIm5ld1RleHQiLCJoZWJyZXdUZXh0IiwiZ2VuZXJhdGVJbWFnZXNGb3JJbmRpY2VzIiwiaW5kaWNlcyIsIm5ld1JlZ2VuZXJhdGluZyIsImZvckVhY2giLCJ3b3JraW5nUGFnZXMiLCJyZWZlcmVuY2VJbWFnZSIsImJhc2VDaGFyYWN0ZXJJbWFnZVVybCIsImZpbmQiLCJwIiwiZ2VuZXJhdGVkSW1hZ2VVcmwiLCJpc0NvdmVyIiwidGV4dFRvUmVuZGVyIiwidGl0bGUiLCJ1bmRlZmluZWQiLCJ1cmwiLCJhcnRTdHlsZSIsImVycm9yIiwiY29uc29sZSIsInByZXYiLCJuZXh0IiwiaGFuZGxlUmVnZW5lcmF0ZVNlbGVjdGVkIiwiQXJyYXkiLCJmcm9tIiwiaGFuZGxlU2luZ2xlUmVnZW5lcmF0ZSIsIm1pc3NpbmdJbmRpY2VzIiwicGFnZSIsImZpbHRlciIsImxvZyIsInByZXBhcmVFeHBvcnRDYW52YXMiLCJpbWdVcmwiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwib3ZlcmZsb3ciLCJpbm5lckhUTUwiLCJ0ZXh0IiwiYm9keSIsImFwcGVuZENoaWxkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY2FudmFzIiwic2NhbGUiLCJ1c2VDT1JTIiwicmVtb3ZlQ2hpbGQiLCJoYW5kbGVEb3dubG9hZFpJUCIsInppcCIsInBkZiIsInBhZ2VXaWR0aCIsInVwZGF0ZWRQYWdlcyIsImF1ZGlvRW5hYmxlZCIsImF1ZGlvQ29uZmlnIiwiZW5hYmxlZCIsInZvaWNlTmFtZSIsImZpbGUiLCJKU09OIiwic3RyaW5naWZ5IiwicG5nQmxvYiIsInRvQmxvYiIsIlN0cmluZyIsInBhZFN0YXJ0IiwiaW1nRGF0YSIsInRvRGF0YVVSTCIsImNhbnZhc1JhdGlvIiwicGRmSW1nSGVpZ2h0IiwicmVuZGVyV2lkdGgiLCJyZW5kZXJIZWlnaHQiLCJ4T2Zmc2V0IiwiYWRkSW1hZ2UiLCJhZGRQYWdlIiwiY3VycmVudCIsIndpbmRvdyIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImJ1ZiIsInBkZkJsb2IiLCJvdXRwdXQiLCJjb250ZW50IiwiZ2VuZXJhdGVBc3luYyIsImxpbmsiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwic2FmZVRpdGxlIiwicmVwbGFjZSIsImRvd25sb2FkIiwiY2xpY2siLCJhbGVydCIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJoMSIsInNwYW4iLCJkaXNhYmxlZCIsImgyIiwiaW5wdXQiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJpbWciLCJzcmMiLCJhbHQiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicGFnZU51bWJlciIsImxhYmVsIiwidGV4dGFyZWEiLCJ2YWx1ZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwiZGlyIiwiaDMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/BookEditor.tsx\n");

/***/ }),

/***/ "(ssr)/./components/BookViewer.tsx":
/*!***********************************!*\
  !*** ./components/BookViewer.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/geminiService */ \"(ssr)/./services/geminiService.ts\");\n/* harmony import */ var _components_DriveConnectButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/DriveConnectButton */ \"(ssr)/./components/DriveConnectButton.tsx\");\n/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! html2canvas */ \"(ssr)/./node_modules/html2canvas/dist/html2canvas.esm.js\");\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jspdf */ \"(ssr)/./node_modules/jspdf/dist/jspdf.es.min.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jszip */ \"(ssr)/./node_modules/jszip/lib/index.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_6__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n// Helper to convert AudioBuffer to WAV Blob\nfunction audioBufferToWav(buffer) {\n    const numChannels = buffer.numberOfChannels;\n    const sampleRate = buffer.sampleRate;\n    const format = 1; // PCM\n    const bitDepth = 16;\n    const bytesPerSample = bitDepth / 8;\n    const blockAlign = numChannels * bytesPerSample;\n    const dataByteCount = buffer.length * blockAlign;\n    const headerByteCount = 44;\n    const totalByteCount = headerByteCount + dataByteCount;\n    const headerBuffer = new ArrayBuffer(headerByteCount);\n    const view = new DataView(headerBuffer);\n    const writeString = (view, offset, string)=>{\n        for(let i = 0; i < string.length; i++){\n            view.setUint8(offset + i, string.charCodeAt(i));\n        }\n    };\n    writeString(view, 0, 'RIFF');\n    view.setUint32(4, totalByteCount - 8, true);\n    writeString(view, 8, 'WAVE');\n    writeString(view, 12, 'fmt ');\n    view.setUint32(16, 16, true);\n    view.setUint16(20, format, true);\n    view.setUint16(22, numChannels, true);\n    view.setUint32(24, sampleRate, true);\n    view.setUint32(28, sampleRate * blockAlign, true);\n    view.setUint16(32, blockAlign, true);\n    view.setUint16(34, bitDepth, true);\n    writeString(view, 36, 'data');\n    view.setUint32(40, dataByteCount, true);\n    const dataBuffer = new ArrayBuffer(dataByteCount);\n    const dataView = new DataView(dataBuffer);\n    let offset = 0;\n    for(let i = 0; i < buffer.length; i++){\n        for(let channel = 0; channel < numChannels; channel++){\n            const sample = buffer.getChannelData(channel)[i];\n            const s = Math.max(-1, Math.min(1, sample));\n            const int16 = s < 0 ? s * 0x8000 : s * 0x7FFF;\n            dataView.setInt16(offset, int16, true);\n            offset += 2;\n        }\n    }\n    return new Blob([\n        headerBuffer,\n        dataBuffer\n    ], {\n        type: 'audio/wav'\n    });\n}\nconst BookViewer = ({ book, onUpdateBook, onClose })=>{\n    const [currentPageIndex, setCurrentPageIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const bookRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(book);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BookViewer.useEffect\": ()=>{\n            bookRef.current = book;\n        }\n    }[\"BookViewer.useEffect\"], [\n        book\n    ]);\n    const [images, setImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"BookViewer.useState\": ()=>{\n            const initialImages = {};\n            book.pages.forEach({\n                \"BookViewer.useState\": (page, index)=>{\n                    if (page.generatedImageUrl) {\n                        initialImages[index] = page.generatedImageUrl;\n                    }\n                }\n            }[\"BookViewer.useState\"]);\n            return initialImages;\n        }\n    }[\"BookViewer.useState\"]);\n    const [loadingImages, setLoadingImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [sessionReferenceImage, setSessionReferenceImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(book.metadata.baseCharacterImageUrl || book.pages.find({\n        \"BookViewer.useState\": (p)=>p.generatedImageUrl\n    }[\"BookViewer.useState\"])?.generatedImageUrl || null);\n    const [isExporting, setIsExporting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [exportProgress, setExportProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isLoadingAudio, setIsLoadingAudio] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [audioError, setAudioError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [audioBuffers, setAudioBuffers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const audioContextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioSourceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentPage = book.pages[currentPageIndex];\n    const totalPages = book.pages.length;\n    const audioEnabled = book.metadata.audioConfig?.enabled ?? true;\n    const voiceName = book.metadata.audioConfig?.voiceName || 'Puck';\n    const fullCharacterDescription = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"BookViewer.useMemo[fullCharacterDescription]\": ()=>{\n            let desc = `Main Character: ${book.metadata.mainCharacterDescription}.`;\n            if (book.metadata.mainCharacterDistinctiveMark) {\n                desc += ` DISTINCTIVE FEATURE: ${book.metadata.mainCharacterDistinctiveMark} (Must appear in every image).`;\n            }\n            if (book.metadata.secondaryCharacterDescription) {\n                desc += `\\nSecondary Character (Sidekick): ${book.metadata.secondaryCharacterDescription} (This appearance MUST be consistent across all pages).`;\n                if (book.metadata.secondaryCharacterDistinctiveMark) {\n                    desc += ` DISTINCTIVE FEATURE: ${book.metadata.secondaryCharacterDistinctiveMark}.`;\n                }\n            }\n            return desc;\n        }\n    }[\"BookViewer.useMemo[fullCharacterDescription]\"], [\n        book.metadata\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BookViewer.useEffect\": ()=>{\n            return ({\n                \"BookViewer.useEffect\": ()=>{\n                    stopAudio();\n                    if (audioContextRef.current) {\n                        audioContextRef.current.close();\n                    }\n                }\n            })[\"BookViewer.useEffect\"];\n        }\n    }[\"BookViewer.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BookViewer.useEffect\": ()=>{\n            stopAudio();\n            setAudioError(null);\n        }\n    }[\"BookViewer.useEffect\"], [\n        currentPageIndex\n    ]);\n    const stopAudio = ()=>{\n        if (audioSourceRef.current) {\n            try {\n                audioSourceRef.current.stop();\n            } catch (e) {}\n            audioSourceRef.current = null;\n        }\n        setIsPlaying(false);\n    };\n    const handleChangeKey = ()=>{\n        const aistudio = window.aistudio;\n        if (aistudio) aistudio.openSelectKey();\n    };\n    const handleToggleAudio = async ()=>{\n        if (!audioEnabled) return;\n        if (isPlaying) {\n            stopAudio();\n            return;\n        }\n        setAudioError(null);\n        if (!audioContextRef.current) {\n            audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)({\n                sampleRate: 24000\n            });\n        }\n        if (audioContextRef.current.state === 'suspended') {\n            await audioContextRef.current.resume();\n        }\n        const ctx = audioContextRef.current;\n        if (audioBuffers[currentPageIndex]) {\n            playBuffer(audioBuffers[currentPageIndex], ctx);\n            return;\n        }\n        setIsLoadingAudio(true);\n        try {\n            const textToRead = currentPageIndex === 0 ? book.metadata.title : currentPage.hebrewText;\n            const buffer = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageAudio)(textToRead, ctx, voiceName);\n            if (buffer) {\n                setAudioBuffers((prev)=>({\n                        ...prev,\n                        [currentPageIndex]: buffer\n                    }));\n                playBuffer(buffer, ctx);\n            } else {\n                setAudioError(\"  \");\n            }\n        } catch (e) {\n            console.error(e);\n            setAudioError(\" \");\n        } finally{\n            setIsLoadingAudio(false);\n        }\n    };\n    const playBuffer = (buffer, ctx)=>{\n        const source = ctx.createBufferSource();\n        source.buffer = buffer;\n        source.connect(ctx.destination);\n        source.onended = ()=>setIsPlaying(false);\n        audioSourceRef.current = source;\n        source.start();\n        setIsPlaying(true);\n    };\n    const handleNext = ()=>{\n        if (currentPageIndex < totalPages - 1) setCurrentPageIndex((prev)=>prev + 1);\n    };\n    const handlePrev = ()=>{\n        if (currentPageIndex > 0) setCurrentPageIndex((prev)=>prev - 1);\n    };\n    const updateBookState = (index, url)=>{\n        const currentBookState = bookRef.current;\n        const updatedPages = [\n            ...currentBookState.pages\n        ];\n        updatedPages[index] = {\n            ...updatedPages[index],\n            generatedImageUrl: url\n        };\n        const updatedBook = {\n            ...currentBookState,\n            pages: updatedPages\n        };\n        onUpdateBook(updatedBook);\n    };\n    const loadImage = async (pageIndex, actionPrompt)=>{\n        if (images[pageIndex] || loadingImages[pageIndex]) return;\n        if (bookRef.current.pages[pageIndex].generatedImageUrl) {\n            setImages((prev)=>({\n                    ...prev,\n                    [pageIndex]: bookRef.current.pages[pageIndex].generatedImageUrl\n                }));\n            return;\n        }\n        setLoadingImages((prev)=>({\n                ...prev,\n                [pageIndex]: true\n            }));\n        try {\n            const referenceToUse = bookRef.current.metadata.baseCharacterImageUrl || sessionReferenceImage;\n            const isCover = pageIndex === 0;\n            const textToRender = isCover ? bookRef.current.metadata.title : undefined;\n            const url = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageImage)(actionPrompt, fullCharacterDescription, bookRef.current.metadata.artStyle, referenceToUse || undefined, isCover, textToRender);\n            if (url) {\n                setImages((prev)=>({\n                        ...prev,\n                        [pageIndex]: url\n                    }));\n                if (!referenceToUse && !sessionReferenceImage) {\n                    setSessionReferenceImage(url);\n                }\n                updateBookState(pageIndex, url);\n            }\n            return url;\n        } catch (err) {\n            console.error(\"Failed to load page image:\", err);\n            return null;\n        } finally{\n            setLoadingImages((prev)=>({\n                    ...prev,\n                    [pageIndex]: false\n                }));\n        }\n    };\n    const handleRegenerateImage = async (e)=>{\n        e.stopPropagation();\n        const pageIndex = currentPageIndex;\n        if (loadingImages[pageIndex]) return;\n        setLoadingImages((prev)=>({\n                ...prev,\n                [pageIndex]: true\n            }));\n        try {\n            const referenceToUse = bookRef.current.metadata.baseCharacterImageUrl || sessionReferenceImage;\n            const isCover = pageIndex === 0;\n            const textToRender = isCover ? bookRef.current.metadata.title : undefined;\n            const url = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageImage)(bookRef.current.pages[pageIndex].imagePrompt, fullCharacterDescription, bookRef.current.metadata.artStyle, referenceToUse || undefined, isCover, textToRender);\n            if (url) {\n                setImages((prev)=>({\n                        ...prev,\n                        [pageIndex]: url\n                    }));\n                if (pageIndex === 0 && !bookRef.current.metadata.baseCharacterImageUrl) {\n                    setSessionReferenceImage(url);\n                }\n                updateBookState(pageIndex, url);\n            }\n        } catch (error) {\n            console.error(\"Regeneration failed\", error);\n            alert(\"   \");\n        } finally{\n            setLoadingImages((prev)=>({\n                    ...prev,\n                    [pageIndex]: false\n                }));\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BookViewer.useEffect\": ()=>{\n            const page = book.pages[currentPageIndex];\n            if (page && !images[currentPageIndex]) {\n                loadImage(currentPageIndex, page.imagePrompt);\n            }\n        }\n    }[\"BookViewer.useEffect\"], [\n        currentPageIndex\n    ]);\n    const prepareExportCanvas = async (i, imgUrl)=>{\n        const isCover = i === 0;\n        // EXPORT LAYOUT STRATEGY:\n        // Cover: 1024x1024 Square (Image contains title, no extra text area)\n        // Inner: 1024x1280 (1024x1024 Image Top + 1024x256 Text Area Bottom)\n        const width = 1024;\n        const height = isCover ? 1024 : 1280;\n        const container = document.createElement('div');\n        container.style.width = `${width}px`;\n        container.style.height = `${height}px`;\n        container.style.position = 'absolute';\n        container.style.left = '-9999px';\n        container.style.backgroundColor = '#ffffff';\n        container.style.overflow = 'hidden';\n        if (isCover) {\n            // Cover is simple full image\n            container.innerHTML = `<img src=\"${imgUrl}\" style=\"width: 1024px; height: 1024px; object-fit: cover;\" />`;\n        } else {\n            // Inner pages: Vertical Stack. Image Top, Text Bottom.\n            const text = book.pages[i].hebrewText || \"\";\n            // Improved text styling matching globals.css updates\n            container.innerHTML = `\n            <div style=\"display: flex; flex-direction: column; width: 1024px; height: 1280px; background: white;\">\n                <div style=\"width: 1024px; height: 1000px; flex-shrink: 0; background-color: #f8fafc;\">\n                    <img src=\"${imgUrl}\" style=\"width: 100%; height: 100%; object-fit: cover; display: block;\" />\n                </div>\n                <div style=\"\n                    width: 1024px; \n                    height: 280px; \n                    display: flex; \n                    align-items: center; \n                    justify-content: center; \n                    padding: 32px 48px; \n                    box-sizing: border-box; \n                    background: linear-gradient(to bottom, #fffdf5 0%, #fff8e7 30%, #fdecc8 70%, #fbe3b2 100%);\n                    box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.8), inset 0 -2px 8px rgba(0, 0, 0, 0.05);\n                    border-top: 3px solid rgba(255, 255, 255, 0.9);\n                \">\n                     <p style=\"\n                        margin: 0; \n                        font-family: 'Rubik', 'Heebo', 'Arial', sans-serif; \n                        font-size: 44px; \n                        font-weight: 600; \n                        color: #2a1a0a; \n                        direction: rtl; \n                        text-align: center; \n                        line-height: 1.7;\n                        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8), 0 2px 4px rgba(0, 0, 0, 0.06);\n                        letter-spacing: 0.01em;\n                     \">\n                        ${text}\n                     </p>\n                </div>\n            </div>\n        `;\n        }\n        document.body.appendChild(container);\n        await new Promise((resolve)=>setTimeout(resolve, 500));\n        const canvas = await (0,html2canvas__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(container, {\n            scale: 1,\n            useCORS: true,\n            width,\n            height\n        });\n        document.body.removeChild(container);\n        return canvas;\n    };\n    const handleDownloadZIP = async ()=>{\n        if (isExporting) return;\n        setIsExporting(true);\n        setExportProgress('  ...');\n        const zip = new (jszip__WEBPACK_IMPORTED_MODULE_6___default())();\n        // A4 Portrait for standardized printing\n        const pdf = new jspdf__WEBPACK_IMPORTED_MODULE_5__.jsPDF('p', 'mm', 'a4');\n        const pageWidth = 210;\n        try {\n            zip.file(\"sequel_data.json\", JSON.stringify(bookRef.current, null, 2));\n            for(let i = 0; i < book.pages.length; i++){\n                setExportProgress(`  ${i + 1}  ${book.pages.length}...`);\n                let imgUrl = images[i];\n                const isCover = i === 0;\n                if (!imgUrl) {\n                    const referenceToUse = bookRef.current.metadata.baseCharacterImageUrl || sessionReferenceImage;\n                    const textToRender = isCover ? bookRef.current.metadata.title || '' : undefined;\n                    imgUrl = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageImage)(book.pages[i].imagePrompt, fullCharacterDescription, book.metadata.artStyle, referenceToUse || undefined, isCover, textToRender);\n                    if (imgUrl) {\n                        setImages((prev)=>({\n                                ...prev,\n                                [i]: imgUrl\n                            }));\n                        if (!referenceToUse && !sessionReferenceImage) setSessionReferenceImage(imgUrl);\n                        updateBookState(i, imgUrl); // Sync!\n                    }\n                }\n                if (imgUrl) {\n                    const canvas = await prepareExportCanvas(i, imgUrl);\n                    const pngBlob = await new Promise((resolve)=>canvas.toBlob(resolve, 'image/png'));\n                    if (pngBlob) zip.file(i === 0 ? '00_COVER.png' : `PAGE_${String(i).padStart(2, '0')}.png`, pngBlob);\n                    const imgData = canvas.toDataURL('image/jpeg', 0.9);\n                    // PDF Layout\n                    const canvasRatio = canvas.height / canvas.width;\n                    const pdfImgHeight = pageWidth * canvasRatio;\n                    // If height exceeds A4 (297mm), scale down to fit\n                    let renderWidth = pageWidth;\n                    let renderHeight = pdfImgHeight;\n                    if (renderHeight > 297) {\n                        const scale = 297 / renderHeight;\n                        renderHeight = 297;\n                        renderWidth = pageWidth * scale;\n                    }\n                    const xOffset = (210 - renderWidth) / 2;\n                    pdf.addImage(imgData, 'JPEG', xOffset, 0, renderWidth, renderHeight);\n                    if (i < book.pages.length - 1) pdf.addPage();\n                }\n                if (audioEnabled) {\n                    let audioBuf = audioBuffers[i];\n                    if (!audioBuf) {\n                        if (!audioContextRef.current) audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)({\n                            sampleRate: 24000\n                        });\n                        const buf = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageAudio)(i === 0 ? book.metadata.title : book.pages[i].hebrewText, audioContextRef.current, voiceName);\n                        if (buf) {\n                            audioBuf = buf;\n                            setAudioBuffers((prev)=>({\n                                    ...prev,\n                                    [i]: buf\n                                }));\n                        }\n                    }\n                    if (audioBuf) zip.file(i === 0 ? '00_AUDIO_Title.wav' : `AUDIO_Page_${String(i).padStart(2, '0')}.wav`, audioBufferToWav(audioBuf));\n                }\n            }\n            const pdfBlob = pdf.output('blob');\n            zip.file(`${book.metadata.title}.pdf`, pdfBlob);\n            const content = await zip.generateAsync({\n                type: 'blob'\n            });\n            // Upload to Google Drive if connected\n            let driveLinks = null;\n            try {\n                const { hasDriveAccess, uploadBookToDrive } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/services/googleDrive */ \"(ssr)/./services/googleDrive.ts\"));\n                if (hasDriveAccess()) {\n                    setExportProgress(' -Google Drive...');\n                    driveLinks = await uploadBookToDrive(content, pdfBlob, book.metadata.title);\n                }\n            } catch (driveError) {\n                console.warn('Drive upload failed:', driveError);\n            }\n            // Save to Firestore WITH Drive links\n            setExportProgress(' ...');\n            try {\n                const { saveBookPrompts } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/services/firebase */ \"(ssr)/./services/firebase.ts\"));\n                await saveBookPrompts({\n                    bookTitle: book.metadata.title,\n                    mainCharacter: book.metadata.mainCharacterDescription || '',\n                    artStyle: book.metadata.artStyle,\n                    topic: book.metadata.mainTheme || '',\n                    imagePrompts: book.pages.map((p)=>p.imagePrompt),\n                    driveZipUrl: driveLinks?.zipLink,\n                    drivePdfUrl: driveLinks?.pdfLink\n                });\n                console.log('Book saved to Firestore with Drive links!');\n            } catch (firebaseError) {\n                console.warn('Firestore save failed:', firebaseError);\n            }\n            // Download locally\n            const link = document.createElement('a');\n            link.href = URL.createObjectURL(content);\n            const safeTitle = book.metadata.title.replace(/[\\\\/:*?\"<>|]/g, '_');\n            link.download = `${safeTitle}.zip`;\n            link.click();\n            // Show Drive links if uploaded\n            if (driveLinks) {\n                setTimeout(()=>{\n                    const showLinks = confirm(`  -Google Drive!\\n\\n ?`);\n                    if (showLinks) {\n                        alert(` ZIP: ${driveLinks.zipLink}\\n\\n PDF: ${driveLinks.pdfLink}`);\n                    }\n                }, 500);\n            }\n        } catch (error) {\n            console.error(\"Export failed:\", error);\n            alert(\" .   .\");\n        } finally{\n            setIsExporting(false);\n            setExportProgress('');\n        }\n    };\n    const handleDownloadPDF = async ()=>{\n        if (isExporting) return;\n        setIsExporting(true);\n        setExportProgress(' PDF...');\n        const pdf = new jspdf__WEBPACK_IMPORTED_MODULE_5__.jsPDF('p', 'mm', 'a4');\n        const pageWidth = 210;\n        try {\n            for(let i = 0; i < book.pages.length; i++){\n                setExportProgress(`  ${i + 1}...`);\n                let imgUrl = images[i];\n                const isCover = i === 0;\n                if (!imgUrl) {\n                    const ref = bookRef.current.metadata.baseCharacterImageUrl || sessionReferenceImage;\n                    const textToRender = isCover ? bookRef.current.metadata.title || '' : undefined;\n                    imgUrl = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageImage)(book.pages[i].imagePrompt, fullCharacterDescription, book.metadata.artStyle, ref || undefined, isCover, textToRender);\n                    if (imgUrl) {\n                        setImages((prev)=>({\n                                ...prev,\n                                [i]: imgUrl\n                            }));\n                        updateBookState(i, imgUrl);\n                    }\n                }\n                if (imgUrl) {\n                    const canvas = await prepareExportCanvas(i, imgUrl);\n                    const imgData = canvas.toDataURL('image/jpeg', 0.9);\n                    const canvasRatio = canvas.height / canvas.width;\n                    const pdfImgHeight = pageWidth * canvasRatio;\n                    let renderWidth = pageWidth;\n                    let renderHeight = pdfImgHeight;\n                    if (renderHeight > 297) {\n                        const scale = 297 / renderHeight;\n                        renderHeight = 297;\n                        renderWidth = pageWidth * scale;\n                    }\n                    const xOffset = (210 - renderWidth) / 2;\n                    pdf.addImage(imgData, 'JPEG', xOffset, 0, renderWidth, renderHeight);\n                    if (i < book.pages.length - 1) pdf.addPage();\n                }\n            }\n            const pdfBlob = pdf.output('blob');\n            // Upload to Google Drive if connected\n            let driveLinks = null;\n            try {\n                const { hasDriveAccess, uploadBookToDrive } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/services/googleDrive */ \"(ssr)/./services/googleDrive.ts\"));\n                if (hasDriveAccess()) {\n                    setExportProgress(' -Google Drive...');\n                    // For PDF only export, we just upload the PDF (mock empty ZIP)\n                    // Or better, we can use a simpler uploadToDrive function, but uploadBookToDrive is handy.\n                    // Let's just upload the PDF using the generic upload function exposed or via uploadBookToDrive passing empty blob for zip?\n                    // Actually uploadBookToDrive expects both. Let's import uploadToDrive directly.\n                    const { uploadToDrive } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/services/googleDrive */ \"(ssr)/./services/googleDrive.ts\"));\n                    const safeTitle = book.metadata.title.replace(/[\\\\/:*?\"<>|]/g, '_');\n                    const timestamp = new Date().toISOString().split('T')[0];\n                    const result = await uploadToDrive(pdfBlob, `${safeTitle}_${timestamp}.pdf`, 'application/pdf');\n                    driveLinks = {\n                        zipLink: '',\n                        pdfLink: result.webViewLink\n                    };\n                }\n            } catch (driveError) {\n                console.warn('Drive upload failed:', driveError);\n            }\n            // Log book metadata to Firestore WITH Drive link\n            setExportProgress(' ...');\n            try {\n                const { saveBookPrompts } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/services/firebase */ \"(ssr)/./services/firebase.ts\"));\n                await saveBookPrompts({\n                    bookTitle: book.metadata.title,\n                    mainCharacter: book.metadata.mainCharacterDescription || '',\n                    artStyle: book.metadata.artStyle,\n                    topic: book.metadata.mainTheme || '',\n                    imagePrompts: book.pages.map((p)=>p.imagePrompt),\n                    drivePdfUrl: driveLinks?.pdfLink\n                });\n                console.log('Book metadata saved to Firestore!');\n            } catch (firebaseError) {\n                console.warn('Firestore save failed:', firebaseError);\n            }\n            const safeTitle = book.metadata.title.replace(/[\\\\/:*?\"<>|]/g, '_');\n            pdf.save(`${safeTitle}.pdf`);\n            // Show Drive links if uploaded\n            if (driveLinks?.pdfLink) {\n                setTimeout(()=>{\n                    const showLinks = confirm(`-PDF  -Google Drive!\\n\\n ?`);\n                    if (showLinks) {\n                        alert(` PDF: ${driveLinks.pdfLink}`);\n                    }\n                }, 500);\n            }\n        } finally{\n            setIsExporting(false);\n            setExportProgress('');\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-slate-900 z-[100] flex flex-col items-center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-white px-4 h-20 flex items-center justify-between shadow-md shrink-0 z-50\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onClose,\n                                className: \"text-slate-600 hover:text-slate-900 font-bold flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xl\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                        lineNumber: 596,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"  \"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 595,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleChangeKey,\n                                className: \"text-slate-400 hover:text-slate-600 text-xs font-bold border border-slate-200 px-2 py-1 rounded-full flex items-center gap-1\",\n                                children: \"\\uD83D\\uDD11 API\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 598,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                        lineNumber: 594,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_DriveConnectButton__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 603,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleDownloadZIP,\n                                disabled: isExporting,\n                                className: \"bg-kid-orange hover:bg-orange-400 text-white font-bold py-2 px-4 rounded-full text-sm transition-all flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \" \"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                        lineNumber: 605,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \" \\uD83D\\uDCE6\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 604,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleDownloadPDF,\n                                disabled: isExporting,\n                                className: \"bg-kid-blue hover:bg-teal-400 text-white font-bold py-2 px-4 rounded-full text-sm transition-all\",\n                                children: \"PDF  \\uD83D\\uDCC4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 607,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                        lineNumber: 602,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                lineNumber: 593,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-grow w-full flex items-center justify-center p-4 overflow-auto bg-slate-800\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative w-full max-w-[550px] bg-white rounded-2xl shadow-2xl overflow-hidden group border-4 border-white flex flex-col\",\n                    children: images[currentPageIndex] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `relative w-full ${currentPageIndex === 0 ? 'h-full aspect-square' : 'aspect-square shrink-0'} bg-slate-100`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: images[currentPageIndex],\n                                        className: \"w-full h-full object-cover\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                        lineNumber: 622,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleRegenerateImage,\n                                        disabled: loadingImages[currentPageIndex],\n                                        className: \"absolute top-4 left-4 z-30 bg-white/80 hover:bg-white text-slate-700 p-2 rounded-full shadow-lg backdrop-blur-sm transition-all hover:scale-110 disabled:opacity-50\",\n                                        title: \"   \",\n                                        children: loadingImages[currentPageIndex] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-6 h-6 border-2 border-slate-700 border-t-transparent rounded-full animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 21\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xl\",\n                                            children: \"\\uD83D\\uDD04\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                            lineNumber: 633,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                        lineNumber: 624,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    currentPageIndex === 0 && audioEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-6 right-6 flex flex-col items-end gap-2 z-20\",\n                                        children: [\n                                            audioError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-red-500 bg-white px-2 py-1 rounded-full font-bold shadow-md\",\n                                                children: audioError\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                                lineNumber: 640,\n                                                columnNumber: 36\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: (e)=>{\n                                                    e.stopPropagation();\n                                                    handleToggleAudio();\n                                                },\n                                                disabled: isLoadingAudio,\n                                                className: `\n                                flex items-center justify-center w-14 h-14 rounded-full shadow-lg border-4 border-white transition-all\n                                ${isPlaying ? 'bg-red-500 text-white animate-pulse' : 'bg-kid-blue text-white hover:bg-teal-400 hover:scale-110'}\n                                ${audioError ? 'bg-slate-400 border-slate-200' : ''}\n                            `,\n                                                children: isLoadingAudio ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                                    lineNumber: 650,\n                                                    columnNumber: 41\n                                                }, undefined) : isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-3xl\",\n                                                    children: \"\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                                    lineNumber: 650,\n                                                    columnNumber: 156\n                                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-3xl\",\n                                                    children: \"\\uD83D\\uDD0A\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                                    lineNumber: 650,\n                                                    columnNumber: 194\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                                lineNumber: 641,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                        lineNumber: 639,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 621,\n                                columnNumber: 15\n                            }, undefined),\n                            currentPageIndex !== 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full book-text-container flex items-center justify-between flex-1\",\n                                children: [\n                                    audioEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            handleToggleAudio();\n                                        },\n                                        disabled: isLoadingAudio,\n                                        className: `\n                                shrink-0 flex items-center justify-center w-12 h-12 rounded-full shadow-sm transition-all mr-6\n                                ${isPlaying ? 'bg-red-500 text-white animate-pulse' : 'bg-kid-blue text-white hover:bg-teal-400'}\n                                ${isLoadingAudio ? 'opacity-70 cursor-wait' : ''}\n                                ${audioError ? 'bg-slate-400' : ''}\n                            `,\n                                        children: isLoadingAudio ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 41\n                                        }, undefined) : isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-2xl\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 156\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-2xl\",\n                                            children: \"\\uD83D\\uDD0A\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 194\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                        lineNumber: 661,\n                                        columnNumber: 21\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 text-center flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"book-text\",\n                                            children: currentPage.hebrewText\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                            lineNumber: 676,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                        lineNumber: 675,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 658,\n                                columnNumber: 17\n                            }, undefined)\n                        ]\n                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full aspect-square flex flex-col items-center justify-center bg-slate-100\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-12 h-12 border-4 border-kid-blue border-t-transparent rounded-full animate-spin mb-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 685,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"font-bold text-slate-500\",\n                                children: \"  ...\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                                lineNumber: 686,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                        lineNumber: 684,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                    lineNumber: 614,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                lineNumber: 613,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-white/10 backdrop-blur-md p-6 flex justify-center items-center gap-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handlePrev,\n                        disabled: currentPageIndex === 0,\n                        className: \"w-14 h-14 bg-white/20 hover:bg-white/40 text-white rounded-full text-2xl disabled:opacity-20 transition-all\",\n                        children: \"\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                        lineNumber: 693,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-white font-bold bg-black/40 px-6 py-2 rounded-full\",\n                        children: [\n                            \" \",\n                            currentPageIndex + 1,\n                            \"  \",\n                            totalPages\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                        lineNumber: 694,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleNext,\n                        disabled: currentPageIndex === totalPages - 1,\n                        className: \"w-14 h-14 bg-kid-yellow hover:bg-yellow-400 text-slate-900 rounded-full text-2xl disabled:opacity-20 transition-all\",\n                        children: \"\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                        lineNumber: 697,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                lineNumber: 692,\n                columnNumber: 7\n            }, undefined),\n            isExporting && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-[400] bg-slate-900/90 flex items-center justify-center text-white\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-16 h-16 border-4 border-kid-blue border-t-transparent rounded-full animate-spin mx-auto mb-6\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                            lineNumber: 703,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-2xl font-bold font-fredoka\",\n                            children: exportProgress\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                            lineNumber: 704,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                    lineNumber: 702,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n                lineNumber: 701,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BookViewer.tsx\",\n        lineNumber: 592,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BookViewer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7O3FEQU9qQyw4REFBQ3FIO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7Ozs7OzswQ0FDZiw4REFBQ2xLO2dDQUFFa0ssV0FBVTswQ0FBMkI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTWhELDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNDO3dCQUFPQyxTQUFTN0c7d0JBQVkrRyxVQUFVekwscUJBQXFCO3dCQUFHcUwsV0FBVTtrQ0FBOEc7Ozs7OztrQ0FDdkwsOERBQUNHO3dCQUFLSCxXQUFVOzs0QkFBMEQ7NEJBQ2xFckwsbUJBQW1COzRCQUFFOzRCQUFPbUM7Ozs7Ozs7a0NBRXBDLDhEQUFDbUo7d0JBQU9DLFNBQVM5Rzt3QkFBWWdILFVBQVV6TCxxQkFBcUJtQyxhQUFhO3dCQUFHa0osV0FBVTtrQ0FBc0g7Ozs7Ozs7Ozs7OztZQUc3TWpLLDZCQUNDLDhEQUFDZ0s7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7Ozs7OztzQ0FDZiw4REFBQ087NEJBQUdQLFdBQVU7c0NBQW1DL0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTdEO0FBRUEsaUVBQWUxQixVQUFVQSxFQUFDIiwic291cmNlcyI6WyJDOlxcQ3Vyc29yXFxraWRpLWJvb2FpXFxjb21wb25lbnRzXFxCb29rVmlld2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgQm9vayB9IGZyb20gJ0AvdHlwZXMnXHJcbmltcG9ydCB7IGdlbmVyYXRlUGFnZUltYWdlLCBnZW5lcmF0ZVBhZ2VBdWRpbyB9IGZyb20gJ0Avc2VydmljZXMvZ2VtaW5pU2VydmljZSdcclxuaW1wb3J0IERyaXZlQ29ubmVjdEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvRHJpdmVDb25uZWN0QnV0dG9uJ1xyXG5pbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAnaHRtbDJjYW52YXMnXHJcbmltcG9ydCB7IGpzUERGIH0gZnJvbSAnanNwZGYnXHJcbmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCdcclxuXHJcbmludGVyZmFjZSBCb29rVmlld2VyUHJvcHMge1xyXG4gIGJvb2s6IEJvb2s7XHJcbiAgb25VcGRhdGVCb29rOiAoYm9vazogQm9vaykgPT4gdm9pZDtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG4vLyBIZWxwZXIgdG8gY29udmVydCBBdWRpb0J1ZmZlciB0byBXQVYgQmxvYlxyXG5mdW5jdGlvbiBhdWRpb0J1ZmZlclRvV2F2KGJ1ZmZlcjogQXVkaW9CdWZmZXIpOiBCbG9iIHtcclxuICBjb25zdCBudW1DaGFubmVscyA9IGJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzO1xyXG4gIGNvbnN0IHNhbXBsZVJhdGUgPSBidWZmZXIuc2FtcGxlUmF0ZTtcclxuICBjb25zdCBmb3JtYXQgPSAxOyAvLyBQQ01cclxuICBjb25zdCBiaXREZXB0aCA9IDE2O1xyXG4gIGNvbnN0IGJ5dGVzUGVyU2FtcGxlID0gYml0RGVwdGggLyA4O1xyXG4gIGNvbnN0IGJsb2NrQWxpZ24gPSBudW1DaGFubmVscyAqIGJ5dGVzUGVyU2FtcGxlO1xyXG4gIGNvbnN0IGRhdGFCeXRlQ291bnQgPSBidWZmZXIubGVuZ3RoICogYmxvY2tBbGlnbjtcclxuICBjb25zdCBoZWFkZXJCeXRlQ291bnQgPSA0NDtcclxuICBjb25zdCB0b3RhbEJ5dGVDb3VudCA9IGhlYWRlckJ5dGVDb3VudCArIGRhdGFCeXRlQ291bnQ7XHJcbiAgY29uc3QgaGVhZGVyQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGhlYWRlckJ5dGVDb3VudCk7XHJcbiAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXJCdWZmZXIpO1xyXG4gIGNvbnN0IHdyaXRlU3RyaW5nID0gKHZpZXc6IERhdGFWaWV3LCBvZmZzZXQ6IG51bWJlciwgc3RyaW5nOiBzdHJpbmcpID0+IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZpZXcuc2V0VWludDgob2Zmc2V0ICsgaSwgc3RyaW5nLmNoYXJDb2RlQXQoaSkpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgd3JpdGVTdHJpbmcodmlldywgMCwgJ1JJRkYnKTtcclxuICB2aWV3LnNldFVpbnQzMig0LCB0b3RhbEJ5dGVDb3VudCAtIDgsIHRydWUpO1xyXG4gIHdyaXRlU3RyaW5nKHZpZXcsIDgsICdXQVZFJyk7XHJcbiAgd3JpdGVTdHJpbmcodmlldywgMTIsICdmbXQgJyk7XHJcbiAgdmlldy5zZXRVaW50MzIoMTYsIDE2LCB0cnVlKTtcclxuICB2aWV3LnNldFVpbnQxNigyMCwgZm9ybWF0LCB0cnVlKTtcclxuICB2aWV3LnNldFVpbnQxNigyMiwgbnVtQ2hhbm5lbHMsIHRydWUpO1xyXG4gIHZpZXcuc2V0VWludDMyKDI0LCBzYW1wbGVSYXRlLCB0cnVlKTtcclxuICB2aWV3LnNldFVpbnQzMigyOCwgc2FtcGxlUmF0ZSAqIGJsb2NrQWxpZ24sIHRydWUpO1xyXG4gIHZpZXcuc2V0VWludDE2KDMyLCBibG9ja0FsaWduLCB0cnVlKTtcclxuICB2aWV3LnNldFVpbnQxNigzNCwgYml0RGVwdGgsIHRydWUpO1xyXG4gIHdyaXRlU3RyaW5nKHZpZXcsIDM2LCAnZGF0YScpO1xyXG4gIHZpZXcuc2V0VWludDMyKDQwLCBkYXRhQnl0ZUNvdW50LCB0cnVlKTtcclxuICBjb25zdCBkYXRhQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGRhdGFCeXRlQ291bnQpO1xyXG4gIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGFCdWZmZXIpO1xyXG4gIGxldCBvZmZzZXQgPSAwO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBmb3IgKGxldCBjaGFubmVsID0gMDsgY2hhbm5lbCA8IG51bUNoYW5uZWxzOyBjaGFubmVsKyspIHtcclxuICAgICAgY29uc3Qgc2FtcGxlID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKGNoYW5uZWwpW2ldO1xyXG4gICAgICBjb25zdCBzID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIHNhbXBsZSkpO1xyXG4gICAgICBjb25zdCBpbnQxNiA9IHMgPCAwID8gcyAqIDB4ODAwMCA6IHMgKiAweDdGRkY7XHJcbiAgICAgIGRhdGFWaWV3LnNldEludDE2KG9mZnNldCwgaW50MTYsIHRydWUpO1xyXG4gICAgICBvZmZzZXQgKz0gMjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG5ldyBCbG9iKFtoZWFkZXJCdWZmZXIsIGRhdGFCdWZmZXJdLCB7IHR5cGU6ICdhdWRpby93YXYnIH0pO1xyXG59XHJcblxyXG5jb25zdCBCb29rVmlld2VyOiBSZWFjdC5GQzxCb29rVmlld2VyUHJvcHM+ID0gKHsgYm9vaywgb25VcGRhdGVCb29rLCBvbkNsb3NlIH0pID0+IHtcclxuICBjb25zdCBbY3VycmVudFBhZ2VJbmRleCwgc2V0Q3VycmVudFBhZ2VJbmRleF0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBib29rUmVmID0gdXNlUmVmKGJvb2spO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYm9va1JlZi5jdXJyZW50ID0gYm9vaztcclxuICB9LCBbYm9va10pO1xyXG5cclxuICBjb25zdCBbaW1hZ2VzLCBzZXRJbWFnZXNdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgc3RyaW5nPj4oKCkgPT4ge1xyXG4gICAgY29uc3QgaW5pdGlhbEltYWdlczogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHt9O1xyXG4gICAgYm9vay5wYWdlcy5mb3JFYWNoKChwYWdlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAocGFnZS5nZW5lcmF0ZWRJbWFnZVVybCkge1xyXG4gICAgICAgIGluaXRpYWxJbWFnZXNbaW5kZXhdID0gcGFnZS5nZW5lcmF0ZWRJbWFnZVVybDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5pdGlhbEltYWdlcztcclxuICB9KTtcclxuXHJcbiAgY29uc3QgW2xvYWRpbmdJbWFnZXMsIHNldExvYWRpbmdJbWFnZXNdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgYm9vbGVhbj4+KHt9KTtcclxuXHJcbiAgY29uc3QgW3Nlc3Npb25SZWZlcmVuY2VJbWFnZSwgc2V0U2Vzc2lvblJlZmVyZW5jZUltYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KFxyXG4gICAgYm9vay5tZXRhZGF0YS5iYXNlQ2hhcmFjdGVySW1hZ2VVcmwgfHwgYm9vay5wYWdlcy5maW5kKHAgPT4gcC5nZW5lcmF0ZWRJbWFnZVVybCk/LmdlbmVyYXRlZEltYWdlVXJsIHx8IG51bGxcclxuICApO1xyXG5cclxuICBjb25zdCBbaXNFeHBvcnRpbmcsIHNldElzRXhwb3J0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXhwb3J0UHJvZ3Jlc3MsIHNldEV4cG9ydFByb2dyZXNzXSA9IHVzZVN0YXRlKCcnKTtcclxuXHJcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNMb2FkaW5nQXVkaW8sIHNldElzTG9hZGluZ0F1ZGlvXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbYXVkaW9FcnJvciwgc2V0QXVkaW9FcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbYXVkaW9CdWZmZXJzLCBzZXRBdWRpb0J1ZmZlcnNdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgQXVkaW9CdWZmZXI+Pih7fSk7XHJcbiAgY29uc3QgYXVkaW9Db250ZXh0UmVmID0gdXNlUmVmPEF1ZGlvQ29udGV4dCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGF1ZGlvU291cmNlUmVmID0gdXNlUmVmPEF1ZGlvQnVmZmVyU291cmNlTm9kZSB8IG51bGw+KG51bGwpO1xyXG5cclxuICBjb25zdCBjdXJyZW50UGFnZSA9IGJvb2sucGFnZXNbY3VycmVudFBhZ2VJbmRleF07XHJcbiAgY29uc3QgdG90YWxQYWdlcyA9IGJvb2sucGFnZXMubGVuZ3RoO1xyXG4gIGNvbnN0IGF1ZGlvRW5hYmxlZCA9IGJvb2subWV0YWRhdGEuYXVkaW9Db25maWc/LmVuYWJsZWQgPz8gdHJ1ZTtcclxuICBjb25zdCB2b2ljZU5hbWUgPSBib29rLm1ldGFkYXRhLmF1ZGlvQ29uZmlnPy52b2ljZU5hbWUgfHwgJ1B1Y2snO1xyXG5cclxuICBjb25zdCBmdWxsQ2hhcmFjdGVyRGVzY3JpcHRpb24gPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGxldCBkZXNjID0gYE1haW4gQ2hhcmFjdGVyOiAke2Jvb2subWV0YWRhdGEubWFpbkNoYXJhY3RlckRlc2NyaXB0aW9ufS5gO1xyXG4gICAgaWYgKGJvb2subWV0YWRhdGEubWFpbkNoYXJhY3RlckRpc3RpbmN0aXZlTWFyaykge1xyXG4gICAgICBkZXNjICs9IGAgRElTVElOQ1RJVkUgRkVBVFVSRTogJHtib29rLm1ldGFkYXRhLm1haW5DaGFyYWN0ZXJEaXN0aW5jdGl2ZU1hcmt9IChNdXN0IGFwcGVhciBpbiBldmVyeSBpbWFnZSkuYDtcclxuICAgIH1cclxuICAgIGlmIChib29rLm1ldGFkYXRhLnNlY29uZGFyeUNoYXJhY3RlckRlc2NyaXB0aW9uKSB7XHJcbiAgICAgIGRlc2MgKz0gYFxcblNlY29uZGFyeSBDaGFyYWN0ZXIgKFNpZGVraWNrKTogJHtib29rLm1ldGFkYXRhLnNlY29uZGFyeUNoYXJhY3RlckRlc2NyaXB0aW9ufSAoVGhpcyBhcHBlYXJhbmNlIE1VU1QgYmUgY29uc2lzdGVudCBhY3Jvc3MgYWxsIHBhZ2VzKS5gO1xyXG4gICAgICBpZiAoYm9vay5tZXRhZGF0YS5zZWNvbmRhcnlDaGFyYWN0ZXJEaXN0aW5jdGl2ZU1hcmspIHtcclxuICAgICAgICBkZXNjICs9IGAgRElTVElOQ1RJVkUgRkVBVFVSRTogJHtib29rLm1ldGFkYXRhLnNlY29uZGFyeUNoYXJhY3RlckRpc3RpbmN0aXZlTWFya30uYDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlc2M7XHJcbiAgfSwgW2Jvb2subWV0YWRhdGFdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHN0b3BBdWRpbygpO1xyXG4gICAgICBpZiAoYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBhdWRpb0NvbnRleHRSZWYuY3VycmVudC5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHN0b3BBdWRpbygpO1xyXG4gICAgc2V0QXVkaW9FcnJvcihudWxsKTtcclxuICB9LCBbY3VycmVudFBhZ2VJbmRleF0pO1xyXG5cclxuICBjb25zdCBzdG9wQXVkaW8gPSAoKSA9PiB7XHJcbiAgICBpZiAoYXVkaW9Tb3VyY2VSZWYuY3VycmVudCkge1xyXG4gICAgICB0cnkgeyBhdWRpb1NvdXJjZVJlZi5jdXJyZW50LnN0b3AoKTsgfSBjYXRjaCAoZSkgeyB9XHJcbiAgICAgIGF1ZGlvU291cmNlUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDaGFuZ2VLZXkgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhaXN0dWRpbyA9ICh3aW5kb3cgYXMgYW55KS5haXN0dWRpbztcclxuICAgIGlmIChhaXN0dWRpbykgYWlzdHVkaW8ub3BlblNlbGVjdEtleSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUF1ZGlvID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFhdWRpb0VuYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICBpZiAoaXNQbGF5aW5nKSB7XHJcbiAgICAgIHN0b3BBdWRpbygpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXVkaW9FcnJvcihudWxsKTtcclxuXHJcbiAgICBpZiAoIWF1ZGlvQ29udGV4dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHQpKHsgc2FtcGxlUmF0ZTogMjQwMDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xyXG4gICAgICBhd2FpdCBhdWRpb0NvbnRleHRSZWYuY3VycmVudC5yZXN1bWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdHggPSBhdWRpb0NvbnRleHRSZWYuY3VycmVudDtcclxuXHJcbiAgICBpZiAoYXVkaW9CdWZmZXJzW2N1cnJlbnRQYWdlSW5kZXhdKSB7XHJcbiAgICAgIHBsYXlCdWZmZXIoYXVkaW9CdWZmZXJzW2N1cnJlbnRQYWdlSW5kZXhdLCBjdHgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SXNMb2FkaW5nQXVkaW8odHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0ZXh0VG9SZWFkID0gY3VycmVudFBhZ2VJbmRleCA9PT0gMCA/IGJvb2subWV0YWRhdGEudGl0bGUgOiBjdXJyZW50UGFnZS5oZWJyZXdUZXh0O1xyXG4gICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBnZW5lcmF0ZVBhZ2VBdWRpbyh0ZXh0VG9SZWFkLCBjdHgsIHZvaWNlTmFtZSk7XHJcbiAgICAgIGlmIChidWZmZXIpIHtcclxuICAgICAgICBzZXRBdWRpb0J1ZmZlcnMocHJldiA9PiAoeyAuLi5wcmV2LCBbY3VycmVudFBhZ2VJbmRleF06IGJ1ZmZlciB9KSk7XHJcbiAgICAgICAgcGxheUJ1ZmZlcihidWZmZXIsIGN0eCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0QXVkaW9FcnJvcihcIteq16fXnNeUINeR15nXpteZ16jXqiDXkNeV15PXmdeVXCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgIHNldEF1ZGlvRXJyb3IoXCLXqdeS15nXkNeUINeb15zXnNeZ16pcIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0xvYWRpbmdBdWRpbyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcGxheUJ1ZmZlciA9IChidWZmZXI6IEF1ZGlvQnVmZmVyLCBjdHg6IEF1ZGlvQ29udGV4dCkgPT4ge1xyXG4gICAgY29uc3Qgc291cmNlID0gY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgIHNvdXJjZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7XHJcbiAgICBzb3VyY2Uub25lbmRlZCA9ICgpID0+IHNldElzUGxheWluZyhmYWxzZSk7XHJcbiAgICBhdWRpb1NvdXJjZVJlZi5jdXJyZW50ID0gc291cmNlO1xyXG4gICAgc291cmNlLnN0YXJ0KCk7XHJcbiAgICBzZXRJc1BsYXlpbmcodHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHsgaWYgKGN1cnJlbnRQYWdlSW5kZXggPCB0b3RhbFBhZ2VzIC0gMSkgc2V0Q3VycmVudFBhZ2VJbmRleCgocHJldikgPT4gcHJldiArIDEpOyB9O1xyXG4gIGNvbnN0IGhhbmRsZVByZXYgPSAoKSA9PiB7IGlmIChjdXJyZW50UGFnZUluZGV4ID4gMCkgc2V0Q3VycmVudFBhZ2VJbmRleCgocHJldikgPT4gcHJldiAtIDEpOyB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVCb29rU3RhdGUgPSAoaW5kZXg6IG51bWJlciwgdXJsOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRCb29rU3RhdGUgPSBib29rUmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCB1cGRhdGVkUGFnZXMgPSBbLi4uY3VycmVudEJvb2tTdGF0ZS5wYWdlc107XHJcbiAgICB1cGRhdGVkUGFnZXNbaW5kZXhdID0geyAuLi51cGRhdGVkUGFnZXNbaW5kZXhdLCBnZW5lcmF0ZWRJbWFnZVVybDogdXJsIH07XHJcbiAgICBjb25zdCB1cGRhdGVkQm9vayA9IHsgLi4uY3VycmVudEJvb2tTdGF0ZSwgcGFnZXM6IHVwZGF0ZWRQYWdlcyB9O1xyXG4gICAgb25VcGRhdGVCb29rKHVwZGF0ZWRCb29rKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBsb2FkSW1hZ2UgPSBhc3luYyAocGFnZUluZGV4OiBudW1iZXIsIGFjdGlvblByb21wdDogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoaW1hZ2VzW3BhZ2VJbmRleF0gfHwgbG9hZGluZ0ltYWdlc1twYWdlSW5kZXhdKSByZXR1cm47XHJcblxyXG4gICAgaWYgKGJvb2tSZWYuY3VycmVudC5wYWdlc1twYWdlSW5kZXhdLmdlbmVyYXRlZEltYWdlVXJsKSB7XHJcbiAgICAgIHNldEltYWdlcygocHJldikgPT4gKHsgLi4ucHJldiwgW3BhZ2VJbmRleF06IGJvb2tSZWYuY3VycmVudC5wYWdlc1twYWdlSW5kZXhdLmdlbmVyYXRlZEltYWdlVXJsISB9KSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMb2FkaW5nSW1hZ2VzKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbcGFnZUluZGV4XTogdHJ1ZSB9KSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZWZlcmVuY2VUb1VzZSA9IGJvb2tSZWYuY3VycmVudC5tZXRhZGF0YS5iYXNlQ2hhcmFjdGVySW1hZ2VVcmwgfHwgc2Vzc2lvblJlZmVyZW5jZUltYWdlO1xyXG4gICAgICBjb25zdCBpc0NvdmVyID0gcGFnZUluZGV4ID09PSAwO1xyXG4gICAgICBjb25zdCB0ZXh0VG9SZW5kZXIgPSBpc0NvdmVyID8gYm9va1JlZi5jdXJyZW50Lm1ldGFkYXRhLnRpdGxlIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgY29uc3QgdXJsID0gYXdhaXQgZ2VuZXJhdGVQYWdlSW1hZ2UoXHJcbiAgICAgICAgYWN0aW9uUHJvbXB0LFxyXG4gICAgICAgIGZ1bGxDaGFyYWN0ZXJEZXNjcmlwdGlvbixcclxuICAgICAgICBib29rUmVmLmN1cnJlbnQubWV0YWRhdGEuYXJ0U3R5bGUsXHJcbiAgICAgICAgcmVmZXJlbmNlVG9Vc2UgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgIGlzQ292ZXIsXHJcbiAgICAgICAgdGV4dFRvUmVuZGVyXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAodXJsKSB7XHJcbiAgICAgICAgc2V0SW1hZ2VzKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbcGFnZUluZGV4XTogdXJsIH0pKTtcclxuICAgICAgICBpZiAoIXJlZmVyZW5jZVRvVXNlICYmICFzZXNzaW9uUmVmZXJlbmNlSW1hZ2UpIHtcclxuICAgICAgICAgIHNldFNlc3Npb25SZWZlcmVuY2VJbWFnZSh1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVCb29rU3RhdGUocGFnZUluZGV4LCB1cmwpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHBhZ2UgaW1hZ2U6XCIsIGVycik7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZ0ltYWdlcygocHJldikgPT4gKHsgLi4ucHJldiwgW3BhZ2VJbmRleF06IGZhbHNlIH0pKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZWdlbmVyYXRlSW1hZ2UgPSBhc3luYyAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IGN1cnJlbnRQYWdlSW5kZXg7XHJcbiAgICBpZiAobG9hZGluZ0ltYWdlc1twYWdlSW5kZXhdKSByZXR1cm47XHJcblxyXG4gICAgc2V0TG9hZGluZ0ltYWdlcygocHJldikgPT4gKHsgLi4ucHJldiwgW3BhZ2VJbmRleF06IHRydWUgfSkpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlZmVyZW5jZVRvVXNlID0gYm9va1JlZi5jdXJyZW50Lm1ldGFkYXRhLmJhc2VDaGFyYWN0ZXJJbWFnZVVybCB8fCBzZXNzaW9uUmVmZXJlbmNlSW1hZ2U7XHJcbiAgICAgIGNvbnN0IGlzQ292ZXIgPSBwYWdlSW5kZXggPT09IDA7XHJcbiAgICAgIGNvbnN0IHRleHRUb1JlbmRlciA9IGlzQ292ZXIgPyBib29rUmVmLmN1cnJlbnQubWV0YWRhdGEudGl0bGUgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICBjb25zdCB1cmwgPSBhd2FpdCBnZW5lcmF0ZVBhZ2VJbWFnZShcclxuICAgICAgICBib29rUmVmLmN1cnJlbnQucGFnZXNbcGFnZUluZGV4XS5pbWFnZVByb21wdCxcclxuICAgICAgICBmdWxsQ2hhcmFjdGVyRGVzY3JpcHRpb24sXHJcbiAgICAgICAgYm9va1JlZi5jdXJyZW50Lm1ldGFkYXRhLmFydFN0eWxlLFxyXG4gICAgICAgIHJlZmVyZW5jZVRvVXNlIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICBpc0NvdmVyLFxyXG4gICAgICAgIHRleHRUb1JlbmRlclxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKHVybCkge1xyXG4gICAgICAgIHNldEltYWdlcygocHJldikgPT4gKHsgLi4ucHJldiwgW3BhZ2VJbmRleF06IHVybCB9KSk7XHJcbiAgICAgICAgaWYgKHBhZ2VJbmRleCA9PT0gMCAmJiAhYm9va1JlZi5jdXJyZW50Lm1ldGFkYXRhLmJhc2VDaGFyYWN0ZXJJbWFnZVVybCkge1xyXG4gICAgICAgICAgc2V0U2Vzc2lvblJlZmVyZW5jZUltYWdlKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZUJvb2tTdGF0ZShwYWdlSW5kZXgsIHVybCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJSZWdlbmVyYXRpb24gZmFpbGVkXCIsIGVycm9yKTtcclxuICAgICAgYWxlcnQoXCLXqdeS15nXkNeUINeR15nXpteZ16jXqiDXlNeq157Xldeg15Qg157Xl9eT16lcIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nSW1hZ2VzKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbcGFnZUluZGV4XTogZmFsc2UgfSkpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBwYWdlID0gYm9vay5wYWdlc1tjdXJyZW50UGFnZUluZGV4XTtcclxuICAgIGlmIChwYWdlICYmICFpbWFnZXNbY3VycmVudFBhZ2VJbmRleF0pIHtcclxuICAgICAgbG9hZEltYWdlKGN1cnJlbnRQYWdlSW5kZXgsIHBhZ2UuaW1hZ2VQcm9tcHQpO1xyXG4gICAgfVxyXG4gIH0sIFtjdXJyZW50UGFnZUluZGV4XSk7XHJcblxyXG4gIGNvbnN0IHByZXBhcmVFeHBvcnRDYW52YXMgPSBhc3luYyAoaTogbnVtYmVyLCBpbWdVcmw6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgaXNDb3ZlciA9IGkgPT09IDA7XHJcblxyXG4gICAgLy8gRVhQT1JUIExBWU9VVCBTVFJBVEVHWTpcclxuICAgIC8vIENvdmVyOiAxMDI0eDEwMjQgU3F1YXJlIChJbWFnZSBjb250YWlucyB0aXRsZSwgbm8gZXh0cmEgdGV4dCBhcmVhKVxyXG4gICAgLy8gSW5uZXI6IDEwMjR4MTI4MCAoMTAyNHgxMDI0IEltYWdlIFRvcCArIDEwMjR4MjU2IFRleHQgQXJlYSBCb3R0b20pXHJcblxyXG4gICAgY29uc3Qgd2lkdGggPSAxMDI0O1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gaXNDb3ZlciA/IDEwMjQgOiAxMjgwO1xyXG5cclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xyXG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XHJcbiAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnLTk5OTlweCc7XHJcbiAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmZmZmYnO1xyXG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblxyXG4gICAgaWYgKGlzQ292ZXIpIHtcclxuICAgICAgLy8gQ292ZXIgaXMgc2ltcGxlIGZ1bGwgaW1hZ2VcclxuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aW1nVXJsfVwiIHN0eWxlPVwid2lkdGg6IDEwMjRweDsgaGVpZ2h0OiAxMDI0cHg7IG9iamVjdC1maXQ6IGNvdmVyO1wiIC8+YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIElubmVyIHBhZ2VzOiBWZXJ0aWNhbCBTdGFjay4gSW1hZ2UgVG9wLCBUZXh0IEJvdHRvbS5cclxuICAgICAgY29uc3QgdGV4dCA9IGJvb2sucGFnZXNbaV0uaGVicmV3VGV4dCB8fCBcIlwiO1xyXG4gICAgICAvLyBJbXByb3ZlZCB0ZXh0IHN0eWxpbmcgbWF0Y2hpbmcgZ2xvYmFscy5jc3MgdXBkYXRlc1xyXG4gICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgd2lkdGg6IDEwMjRweDsgaGVpZ2h0OiAxMjgwcHg7IGJhY2tncm91bmQ6IHdoaXRlO1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIndpZHRoOiAxMDI0cHg7IGhlaWdodDogMTAwMHB4OyBmbGV4LXNocmluazogMDsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZmFmYztcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aW1nVXJsfVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgb2JqZWN0LWZpdDogY292ZXI7IGRpc3BsYXk6IGJsb2NrO1wiIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAyNHB4OyBcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI4MHB4OyBcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOyBcclxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMzJweCA0OHB4OyBcclxuICAgICAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OyBcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZmZmZGY1IDAlLCAjZmZmOGU3IDMwJSwgI2ZkZWNjOCA3MCUsICNmYmUzYjIgMTAwJSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCksIGluc2V0IDAgLTJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOiAzcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xyXG4gICAgICAgICAgICAgICAgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnUnViaWsnLCAnSGVlYm8nLCAnQXJpYWwnLCBzYW5zLXNlcmlmOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiA0NHB4OyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMmExYTBhOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBydGw7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS43O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAxcHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCksIDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMDYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wMWVtO1xyXG4gICAgICAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0ZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XHJcbiAgICBjb25zdCBjYW52YXMgPSBhd2FpdCBodG1sMmNhbnZhcyhjb250YWluZXIsIHsgc2NhbGU6IDEsIHVzZUNPUlM6IHRydWUsIHdpZHRoLCBoZWlnaHQgfSk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XHJcbiAgICByZXR1cm4gY2FudmFzO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkWklQID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKGlzRXhwb3J0aW5nKSByZXR1cm47XHJcbiAgICBzZXRJc0V4cG9ydGluZyh0cnVlKTtcclxuICAgIHNldEV4cG9ydFByb2dyZXNzKCfXnteb15nXnyDXl9eR15nXnNeUINee15zXkNeULi4uJyk7XHJcbiAgICBjb25zdCB6aXAgPSBuZXcgSlNaaXAoKTtcclxuICAgIC8vIEE0IFBvcnRyYWl0IGZvciBzdGFuZGFyZGl6ZWQgcHJpbnRpbmdcclxuICAgIGNvbnN0IHBkZiA9IG5ldyBqc1BERigncCcsICdtbScsICdhNCcpO1xyXG4gICAgY29uc3QgcGFnZVdpZHRoID0gMjEwO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHppcC5maWxlKFwic2VxdWVsX2RhdGEuanNvblwiLCBKU09OLnN0cmluZ2lmeShib29rUmVmLmN1cnJlbnQsIG51bGwsIDIpKTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9vay5wYWdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNldEV4cG9ydFByb2dyZXNzKGDXntei15HXkyDXotee15XXkyAke2kgKyAxfSDXnteq15XXmiAke2Jvb2sucGFnZXMubGVuZ3RofS4uLmApO1xyXG4gICAgICAgIGxldCBpbWdVcmwgPSBpbWFnZXNbaV07XHJcbiAgICAgICAgY29uc3QgaXNDb3ZlciA9IGkgPT09IDA7XHJcblxyXG4gICAgICAgIGlmICghaW1nVXJsKSB7XHJcbiAgICAgICAgICBjb25zdCByZWZlcmVuY2VUb1VzZSA9IGJvb2tSZWYuY3VycmVudC5tZXRhZGF0YS5iYXNlQ2hhcmFjdGVySW1hZ2VVcmwgfHwgc2Vzc2lvblJlZmVyZW5jZUltYWdlO1xyXG4gICAgICAgICAgY29uc3QgdGV4dFRvUmVuZGVyID0gaXNDb3ZlciA/IChib29rUmVmLmN1cnJlbnQubWV0YWRhdGEudGl0bGUgfHwgJycpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgaW1nVXJsID0gYXdhaXQgZ2VuZXJhdGVQYWdlSW1hZ2UoXHJcbiAgICAgICAgICAgIGJvb2sucGFnZXNbaV0uaW1hZ2VQcm9tcHQsXHJcbiAgICAgICAgICAgIGZ1bGxDaGFyYWN0ZXJEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgYm9vay5tZXRhZGF0YS5hcnRTdHlsZSxcclxuICAgICAgICAgICAgKHJlZmVyZW5jZVRvVXNlIHx8IHVuZGVmaW5lZCkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBpc0NvdmVyLFxyXG4gICAgICAgICAgICB0ZXh0VG9SZW5kZXJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoaW1nVXJsKSB7XHJcbiAgICAgICAgICAgIHNldEltYWdlcyhwcmV2ID0+ICh7IC4uLnByZXYsIFtpXTogaW1nVXJsIH0pKTtcclxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VUb1VzZSAmJiAhc2Vzc2lvblJlZmVyZW5jZUltYWdlKSBzZXRTZXNzaW9uUmVmZXJlbmNlSW1hZ2UoaW1nVXJsKTtcclxuICAgICAgICAgICAgdXBkYXRlQm9va1N0YXRlKGksIGltZ1VybCk7IC8vIFN5bmMhXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW1nVXJsKSB7XHJcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBhd2FpdCBwcmVwYXJlRXhwb3J0Q2FudmFzKGksIGltZ1VybCk7XHJcbiAgICAgICAgICBjb25zdCBwbmdCbG9iID0gYXdhaXQgbmV3IFByb21pc2U8QmxvYiB8IG51bGw+KHJlc29sdmUgPT4gY2FudmFzLnRvQmxvYihyZXNvbHZlLCAnaW1hZ2UvcG5nJykpO1xyXG5cclxuICAgICAgICAgIGlmIChwbmdCbG9iKSB6aXAuZmlsZShpID09PSAwID8gJzAwX0NPVkVSLnBuZycgOiBgUEFHRV8ke1N0cmluZyhpKS5wYWRTdGFydCgyLCAnMCcpfS5wbmdgLCBwbmdCbG9iKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDAuOSk7XHJcblxyXG4gICAgICAgICAgLy8gUERGIExheW91dFxyXG4gICAgICAgICAgY29uc3QgY2FudmFzUmF0aW8gPSBjYW52YXMuaGVpZ2h0IC8gY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgY29uc3QgcGRmSW1nSGVpZ2h0ID0gcGFnZVdpZHRoICogY2FudmFzUmF0aW87XHJcblxyXG4gICAgICAgICAgLy8gSWYgaGVpZ2h0IGV4Y2VlZHMgQTQgKDI5N21tKSwgc2NhbGUgZG93biB0byBmaXRcclxuICAgICAgICAgIGxldCByZW5kZXJXaWR0aCA9IHBhZ2VXaWR0aDtcclxuICAgICAgICAgIGxldCByZW5kZXJIZWlnaHQgPSBwZGZJbWdIZWlnaHQ7XHJcbiAgICAgICAgICBpZiAocmVuZGVySGVpZ2h0ID4gMjk3KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMjk3IC8gcmVuZGVySGVpZ2h0O1xyXG4gICAgICAgICAgICByZW5kZXJIZWlnaHQgPSAyOTc7XHJcbiAgICAgICAgICAgIHJlbmRlcldpZHRoID0gcGFnZVdpZHRoICogc2NhbGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCB4T2Zmc2V0ID0gKDIxMCAtIHJlbmRlcldpZHRoKSAvIDI7XHJcblxyXG4gICAgICAgICAgcGRmLmFkZEltYWdlKGltZ0RhdGEsICdKUEVHJywgeE9mZnNldCwgMCwgcmVuZGVyV2lkdGgsIHJlbmRlckhlaWdodCk7XHJcblxyXG4gICAgICAgICAgaWYgKGkgPCBib29rLnBhZ2VzLmxlbmd0aCAtIDEpIHBkZi5hZGRQYWdlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYXVkaW9FbmFibGVkKSB7XHJcbiAgICAgICAgICBsZXQgYXVkaW9CdWYgPSBhdWRpb0J1ZmZlcnNbaV07XHJcbiAgICAgICAgICBpZiAoIWF1ZGlvQnVmKSB7XHJcbiAgICAgICAgICAgIGlmICghYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQpIGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHQpKHsgc2FtcGxlUmF0ZTogMjQwMDAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IGF3YWl0IGdlbmVyYXRlUGFnZUF1ZGlvKGkgPT09IDAgPyBib29rLm1ldGFkYXRhLnRpdGxlIDogYm9vay5wYWdlc1tpXS5oZWJyZXdUZXh0LCBhdWRpb0NvbnRleHRSZWYuY3VycmVudCwgdm9pY2VOYW1lKTtcclxuICAgICAgICAgICAgaWYgKGJ1ZikgeyBhdWRpb0J1ZiA9IGJ1Zjsgc2V0QXVkaW9CdWZmZXJzKHByZXYgPT4gKHsgLi4ucHJldiwgW2ldOiBidWYgfSkpOyB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYXVkaW9CdWYpIHppcC5maWxlKGkgPT09IDAgPyAnMDBfQVVESU9fVGl0bGUud2F2JyA6IGBBVURJT19QYWdlXyR7U3RyaW5nKGkpLnBhZFN0YXJ0KDIsICcwJyl9LndhdmAsIGF1ZGlvQnVmZmVyVG9XYXYoYXVkaW9CdWYpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHBkZkJsb2IgPSBwZGYub3V0cHV0KCdibG9iJyk7XHJcbiAgICAgIHppcC5maWxlKGAke2Jvb2subWV0YWRhdGEudGl0bGV9LnBkZmAsIHBkZkJsb2IpO1xyXG5cclxuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHppcC5nZW5lcmF0ZUFzeW5jKHsgdHlwZTogJ2Jsb2InIH0pO1xyXG5cclxuICAgICAgLy8gVXBsb2FkIHRvIEdvb2dsZSBEcml2ZSBpZiBjb25uZWN0ZWRcclxuICAgICAgbGV0IGRyaXZlTGlua3M6IHsgemlwTGluazogc3RyaW5nOyBwZGZMaW5rOiBzdHJpbmcgfSB8IG51bGwgPSBudWxsO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgaGFzRHJpdmVBY2Nlc3MsIHVwbG9hZEJvb2tUb0RyaXZlIH0gPSBhd2FpdCBpbXBvcnQoJ0Avc2VydmljZXMvZ29vZ2xlRHJpdmUnKTtcclxuICAgICAgICBpZiAoaGFzRHJpdmVBY2Nlc3MoKSkge1xyXG4gICAgICAgICAgc2V0RXhwb3J0UHJvZ3Jlc3MoJ9ee16LXnNeUINecLUdvb2dsZSBEcml2ZS4uLicpO1xyXG4gICAgICAgICAgZHJpdmVMaW5rcyA9IGF3YWl0IHVwbG9hZEJvb2tUb0RyaXZlKGNvbnRlbnQsIHBkZkJsb2IsIGJvb2subWV0YWRhdGEudGl0bGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZHJpdmVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRHJpdmUgdXBsb2FkIGZhaWxlZDonLCBkcml2ZUVycm9yKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2F2ZSB0byBGaXJlc3RvcmUgV0lUSCBEcml2ZSBsaW5rc1xyXG4gICAgICBzZXRFeHBvcnRQcm9ncmVzcygn16nXldee16gg157XmdeT16IuLi4nKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHNhdmVCb29rUHJvbXB0cyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL2ZpcmViYXNlJyk7XHJcbiAgICAgICAgYXdhaXQgc2F2ZUJvb2tQcm9tcHRzKHtcclxuICAgICAgICAgIGJvb2tUaXRsZTogYm9vay5tZXRhZGF0YS50aXRsZSxcclxuICAgICAgICAgIG1haW5DaGFyYWN0ZXI6IGJvb2subWV0YWRhdGEubWFpbkNoYXJhY3RlckRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgYXJ0U3R5bGU6IGJvb2subWV0YWRhdGEuYXJ0U3R5bGUsXHJcbiAgICAgICAgICB0b3BpYzogYm9vay5tZXRhZGF0YS5tYWluVGhlbWUgfHwgJycsXHJcbiAgICAgICAgICBpbWFnZVByb21wdHM6IGJvb2sucGFnZXMubWFwKHAgPT4gcC5pbWFnZVByb21wdCksXHJcbiAgICAgICAgICBkcml2ZVppcFVybDogZHJpdmVMaW5rcz8uemlwTGluayxcclxuICAgICAgICAgIGRyaXZlUGRmVXJsOiBkcml2ZUxpbmtzPy5wZGZMaW5rXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Jvb2sgc2F2ZWQgdG8gRmlyZXN0b3JlIHdpdGggRHJpdmUgbGlua3MhJyk7XHJcbiAgICAgIH0gY2F0Y2ggKGZpcmViYXNlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmVzdG9yZSBzYXZlIGZhaWxlZDonLCBmaXJlYmFzZUVycm9yKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRG93bmxvYWQgbG9jYWxseVxyXG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnRlbnQpO1xyXG4gICAgICBjb25zdCBzYWZlVGl0bGUgPSBib29rLm1ldGFkYXRhLnRpdGxlLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnXycpO1xyXG4gICAgICBsaW5rLmRvd25sb2FkID0gYCR7c2FmZVRpdGxlfS56aXBgO1xyXG4gICAgICBsaW5rLmNsaWNrKCk7XHJcblxyXG4gICAgICAvLyBTaG93IERyaXZlIGxpbmtzIGlmIHVwbG9hZGVkXHJcbiAgICAgIGlmIChkcml2ZUxpbmtzKSB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBzaG93TGlua3MgPSBjb25maXJtKGDXlNeh16TXqCDXlNeV16LXnNeUINecLUdvb2dsZSBEcml2ZSFcXG5cXG7XnNeU16bXmdeSINen15nXqdeV16jXmdedP2ApO1xyXG4gICAgICAgICAgaWYgKHNob3dMaW5rcykge1xyXG4gICAgICAgICAgICBhbGVydChg8J+TpiBaSVA6ICR7ZHJpdmVMaW5rcy56aXBMaW5rfVxcblxcbvCfk4QgUERGOiAke2RyaXZlTGlua3MucGRmTGlua31gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXhwb3J0IGZhaWxlZDpcIiwgZXJyb3IpO1xyXG4gICAgICBhbGVydChcIteU15nXmdem15XXkCDXoNeb16nXnC4g15DXoNeQINeg16HXlCDXqdeV15EuXCIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNFeHBvcnRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRFeHBvcnRQcm9ncmVzcygnJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRG93bmxvYWRQREYgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoaXNFeHBvcnRpbmcpIHJldHVybjtcclxuICAgIHNldElzRXhwb3J0aW5nKHRydWUpO1xyXG4gICAgc2V0RXhwb3J0UHJvZ3Jlc3MoJ9eZ15XXpteoIFBERi4uLicpO1xyXG4gICAgY29uc3QgcGRmID0gbmV3IGpzUERGKCdwJywgJ21tJywgJ2E0Jyk7XHJcbiAgICBjb25zdCBwYWdlV2lkdGggPSAyMTA7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib29rLnBhZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2V0RXhwb3J0UHJvZ3Jlc3MoYNee15XXodeZ16Mg16LXnteV15MgJHtpICsgMX0uLi5gKTtcclxuICAgICAgICBsZXQgaW1nVXJsID0gaW1hZ2VzW2ldO1xyXG4gICAgICAgIGNvbnN0IGlzQ292ZXIgPSBpID09PSAwO1xyXG5cclxuICAgICAgICBpZiAoIWltZ1VybCkge1xyXG4gICAgICAgICAgY29uc3QgcmVmID0gYm9va1JlZi5jdXJyZW50Lm1ldGFkYXRhLmJhc2VDaGFyYWN0ZXJJbWFnZVVybCB8fCBzZXNzaW9uUmVmZXJlbmNlSW1hZ2U7XHJcbiAgICAgICAgICBjb25zdCB0ZXh0VG9SZW5kZXIgPSBpc0NvdmVyID8gKGJvb2tSZWYuY3VycmVudC5tZXRhZGF0YS50aXRsZSB8fCAnJykgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICBpbWdVcmwgPSBhd2FpdCBnZW5lcmF0ZVBhZ2VJbWFnZShcclxuICAgICAgICAgICAgYm9vay5wYWdlc1tpXS5pbWFnZVByb21wdCxcclxuICAgICAgICAgICAgZnVsbENoYXJhY3RlckRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBib29rLm1ldGFkYXRhLmFydFN0eWxlLFxyXG4gICAgICAgICAgICAocmVmIHx8IHVuZGVmaW5lZCkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBpc0NvdmVyLFxyXG4gICAgICAgICAgICB0ZXh0VG9SZW5kZXJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoaW1nVXJsKSB7IHNldEltYWdlcyhwcmV2ID0+ICh7IC4uLnByZXYsIFtpXTogaW1nVXJsIH0pKTsgdXBkYXRlQm9va1N0YXRlKGksIGltZ1VybCk7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGltZ1VybCkge1xyXG4gICAgICAgICAgY29uc3QgY2FudmFzID0gYXdhaXQgcHJlcGFyZUV4cG9ydENhbnZhcyhpLCBpbWdVcmwpO1xyXG4gICAgICAgICAgY29uc3QgaW1nRGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjkpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNhbnZhc1JhdGlvID0gY2FudmFzLmhlaWdodCAvIGNhbnZhcy53aWR0aDtcclxuICAgICAgICAgIGNvbnN0IHBkZkltZ0hlaWdodCA9IHBhZ2VXaWR0aCAqIGNhbnZhc1JhdGlvO1xyXG5cclxuICAgICAgICAgIGxldCByZW5kZXJXaWR0aCA9IHBhZ2VXaWR0aDtcclxuICAgICAgICAgIGxldCByZW5kZXJIZWlnaHQgPSBwZGZJbWdIZWlnaHQ7XHJcbiAgICAgICAgICBpZiAocmVuZGVySGVpZ2h0ID4gMjk3KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMjk3IC8gcmVuZGVySGVpZ2h0O1xyXG4gICAgICAgICAgICByZW5kZXJIZWlnaHQgPSAyOTc7XHJcbiAgICAgICAgICAgIHJlbmRlcldpZHRoID0gcGFnZVdpZHRoICogc2NhbGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCB4T2Zmc2V0ID0gKDIxMCAtIHJlbmRlcldpZHRoKSAvIDI7XHJcblxyXG4gICAgICAgICAgcGRmLmFkZEltYWdlKGltZ0RhdGEsICdKUEVHJywgeE9mZnNldCwgMCwgcmVuZGVyV2lkdGgsIHJlbmRlckhlaWdodCk7XHJcbiAgICAgICAgICBpZiAoaSA8IGJvb2sucGFnZXMubGVuZ3RoIC0gMSkgcGRmLmFkZFBhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHBkZkJsb2IgPSBwZGYub3V0cHV0KCdibG9iJyk7XHJcblxyXG4gICAgICAvLyBVcGxvYWQgdG8gR29vZ2xlIERyaXZlIGlmIGNvbm5lY3RlZFxyXG4gICAgICBsZXQgZHJpdmVMaW5rczogeyB6aXBMaW5rOiBzdHJpbmc7IHBkZkxpbms6IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBoYXNEcml2ZUFjY2VzcywgdXBsb2FkQm9va1RvRHJpdmUgfSA9IGF3YWl0IGltcG9ydCgnQC9zZXJ2aWNlcy9nb29nbGVEcml2ZScpO1xyXG4gICAgICAgIGlmIChoYXNEcml2ZUFjY2VzcygpKSB7XHJcbiAgICAgICAgICBzZXRFeHBvcnRQcm9ncmVzcygn157Xotec15Qg15wtR29vZ2xlIERyaXZlLi4uJyk7XHJcbiAgICAgICAgICAvLyBGb3IgUERGIG9ubHkgZXhwb3J0LCB3ZSBqdXN0IHVwbG9hZCB0aGUgUERGIChtb2NrIGVtcHR5IFpJUClcclxuICAgICAgICAgIC8vIE9yIGJldHRlciwgd2UgY2FuIHVzZSBhIHNpbXBsZXIgdXBsb2FkVG9Ecml2ZSBmdW5jdGlvbiwgYnV0IHVwbG9hZEJvb2tUb0RyaXZlIGlzIGhhbmR5LlxyXG4gICAgICAgICAgLy8gTGV0J3MganVzdCB1cGxvYWQgdGhlIFBERiB1c2luZyB0aGUgZ2VuZXJpYyB1cGxvYWQgZnVuY3Rpb24gZXhwb3NlZCBvciB2aWEgdXBsb2FkQm9va1RvRHJpdmUgcGFzc2luZyBlbXB0eSBibG9iIGZvciB6aXA/XHJcbiAgICAgICAgICAvLyBBY3R1YWxseSB1cGxvYWRCb29rVG9Ecml2ZSBleHBlY3RzIGJvdGguIExldCdzIGltcG9ydCB1cGxvYWRUb0RyaXZlIGRpcmVjdGx5LlxyXG4gICAgICAgICAgY29uc3QgeyB1cGxvYWRUb0RyaXZlIH0gPSBhd2FpdCBpbXBvcnQoJ0Avc2VydmljZXMvZ29vZ2xlRHJpdmUnKTtcclxuICAgICAgICAgIGNvbnN0IHNhZmVUaXRsZSA9IGJvb2subWV0YWRhdGEudGl0bGUucmVwbGFjZSgvW1xcXFwvOio/XCI8PnxdL2csICdfJyk7XHJcbiAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcclxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwbG9hZFRvRHJpdmUocGRmQmxvYiwgYCR7c2FmZVRpdGxlfV8ke3RpbWVzdGFtcH0ucGRmYCwgJ2FwcGxpY2F0aW9uL3BkZicpO1xyXG4gICAgICAgICAgZHJpdmVMaW5rcyA9IHsgemlwTGluazogJycsIHBkZkxpbms6IHJlc3VsdC53ZWJWaWV3TGluayB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZHJpdmVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRHJpdmUgdXBsb2FkIGZhaWxlZDonLCBkcml2ZUVycm9yKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTG9nIGJvb2sgbWV0YWRhdGEgdG8gRmlyZXN0b3JlIFdJVEggRHJpdmUgbGlua1xyXG4gICAgICBzZXRFeHBvcnRQcm9ncmVzcygn16nXldee16gg157XmdeT16IuLi4nKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHNhdmVCb29rUHJvbXB0cyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL2ZpcmViYXNlJyk7XHJcbiAgICAgICAgYXdhaXQgc2F2ZUJvb2tQcm9tcHRzKHtcclxuICAgICAgICAgIGJvb2tUaXRsZTogYm9vay5tZXRhZGF0YS50aXRsZSxcclxuICAgICAgICAgIG1haW5DaGFyYWN0ZXI6IGJvb2subWV0YWRhdGEubWFpbkNoYXJhY3RlckRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgYXJ0U3R5bGU6IGJvb2subWV0YWRhdGEuYXJ0U3R5bGUsXHJcbiAgICAgICAgICB0b3BpYzogYm9vay5tZXRhZGF0YS5tYWluVGhlbWUgfHwgJycsXHJcbiAgICAgICAgICBpbWFnZVByb21wdHM6IGJvb2sucGFnZXMubWFwKHAgPT4gcC5pbWFnZVByb21wdCksXHJcbiAgICAgICAgICBkcml2ZVBkZlVybDogZHJpdmVMaW5rcz8ucGRmTGlua1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdCb29rIG1ldGFkYXRhIHNhdmVkIHRvIEZpcmVzdG9yZSEnKTtcclxuICAgICAgfSBjYXRjaCAoZmlyZWJhc2VFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIHNhdmUgZmFpbGVkOicsIGZpcmViYXNlRXJyb3IpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBzYWZlVGl0bGUgPSBib29rLm1ldGFkYXRhLnRpdGxlLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnXycpO1xyXG4gICAgICBwZGYuc2F2ZShgJHtzYWZlVGl0bGV9LnBkZmApO1xyXG5cclxuICAgICAgLy8gU2hvdyBEcml2ZSBsaW5rcyBpZiB1cGxvYWRlZFxyXG4gICAgICBpZiAoZHJpdmVMaW5rcz8ucGRmTGluaykge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3Qgc2hvd0xpbmtzID0gY29uZmlybShg15QtUERGINeU15XXotec15Qg15wtR29vZ2xlIERyaXZlIVxcblxcbtec15TXpteZ15Ig16fXmdep15XXqD9gKTtcclxuICAgICAgICAgIGlmIChzaG93TGlua3MpIHtcclxuICAgICAgICAgICAgYWxlcnQoYPCfk4QgUERGOiAke2RyaXZlTGlua3MucGRmTGlua31gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgICB9XHJcbiAgICB9IGZpbmFsbHkgeyBzZXRJc0V4cG9ydGluZyhmYWxzZSk7IHNldEV4cG9ydFByb2dyZXNzKCcnKTsgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctc2xhdGUtOTAwIHotWzEwMF0gZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgcHgtNCBoLTIwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzaGFkb3ctbWQgc2hyaW5rLTAgei01MFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS02MDAgaG92ZXI6dGV4dC1zbGF0ZS05MDAgZm9udC1ib2xkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj7ihpA8L3NwYW4+INeX15bXqNeUINec16LXqNeZ15vXlFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNoYW5nZUtleX0gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgdGV4dC14cyBmb250LWJvbGQgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxyXG4gICAgICAgICAgICDwn5SRIEFQSVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgPERyaXZlQ29ubmVjdEJ1dHRvbiAvPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZFpJUH0gZGlzYWJsZWQ9e2lzRXhwb3J0aW5nfSBjbGFzc05hbWU9XCJiZy1raWQtb3JhbmdlIGhvdmVyOmJnLW9yYW5nZS00MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWQtZnVsbCB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxzcGFuPteX15HXmdec15Qg157XnNeQ15Q8L3NwYW4+IPCfk6ZcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZFBERn0gZGlzYWJsZWQ9e2lzRXhwb3J0aW5nfSBjbGFzc05hbWU9XCJiZy1raWQtYmx1ZSBob3ZlcjpiZy10ZWFsLTQwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS0yIHB4LTQgcm91bmRlZC1mdWxsIHRleHQtc20gdHJhbnNpdGlvbi1hbGxcIj5cclxuICAgICAgICAgICAgUERGINeR15zXkdeTIPCfk4RcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93IHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQgb3ZlcmZsb3ctYXV0byBiZy1zbGF0ZS04MDBcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBtYXgtdy1bNTUwcHhdIGJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy0yeGwgb3ZlcmZsb3ctaGlkZGVuIGdyb3VwIGJvcmRlci00IGJvcmRlci13aGl0ZSBmbGV4IGZsZXgtY29sXCI+XHJcbiAgICAgICAgICB7aW1hZ2VzW2N1cnJlbnRQYWdlSW5kZXhdID8gKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgIHsvKiBJTUFHRSBBUkVBOiBcclxuICAgICAgICAgICAgICAgICAtIENvdmVyOiBGdWxsIGNvbnRhaW5lci5cclxuICAgICAgICAgICAgICAgICAtIElubmVyOiBTdHJpY3RseSBzcXVhcmUsIHRvcCBwYXJ0IG9mIGZsZXggY29sdW1uLlxyXG4gICAgICAgICAgICAgICovfVxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgdy1mdWxsICR7Y3VycmVudFBhZ2VJbmRleCA9PT0gMCA/ICdoLWZ1bGwgYXNwZWN0LXNxdWFyZScgOiAnYXNwZWN0LXNxdWFyZSBzaHJpbmstMCd9IGJnLXNsYXRlLTEwMGB9PlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e2ltYWdlc1tjdXJyZW50UGFnZUluZGV4XX0gY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIiAvPlxyXG5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVnZW5lcmF0ZUltYWdlfVxyXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ0ltYWdlc1tjdXJyZW50UGFnZUluZGV4XX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgbGVmdC00IHotMzAgYmctd2hpdGUvODAgaG92ZXI6Ymctd2hpdGUgdGV4dC1zbGF0ZS03MDAgcC0yIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgYmFja2Ryb3AtYmx1ci1zbSB0cmFuc2l0aW9uLWFsbCBob3ZlcjpzY2FsZS0xMTAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwi16bXmdeZ16gg157Xl9eT16kg15DXqiDXlNeq157Xldeg15RcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7bG9hZGluZ0ltYWdlc1tjdXJyZW50UGFnZUluZGV4XSA/IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTcwMCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bFwiPvCflIQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICB7LyogQXVkaW8gQnV0dG9uIGZvciBDb3ZlciAoT3ZlcmxheSBTdHlsZSkgKi99XHJcbiAgICAgICAgICAgICAgICB7Y3VycmVudFBhZ2VJbmRleCA9PT0gMCAmJiBhdWRpb0VuYWJsZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS02IHJpZ2h0LTYgZmxleCBmbGV4LWNvbCBpdGVtcy1lbmQgZ2FwLTIgei0yMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHthdWRpb0Vycm9yICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNTAwIGJnLXdoaXRlIHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgZm9udC1ib2xkIHNoYWRvdy1tZFwiPnthdWRpb0Vycm9yfTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaGFuZGxlVG9nZ2xlQXVkaW8oKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmdBdWRpb31cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLWZ1bGwgc2hhZG93LWxnIGJvcmRlci00IGJvcmRlci13aGl0ZSB0cmFuc2l0aW9uLWFsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aXNQbGF5aW5nID8gJ2JnLXJlZC01MDAgdGV4dC13aGl0ZSBhbmltYXRlLXB1bHNlJyA6ICdiZy1raWQtYmx1ZSB0ZXh0LXdoaXRlIGhvdmVyOmJnLXRlYWwtNDAwIGhvdmVyOnNjYWxlLTExMCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHthdWRpb0Vycm9yID8gJ2JnLXNsYXRlLTQwMCBib3JkZXItc2xhdGUtMjAwJyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nQXVkaW8gPyA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgYm9yZGVyLTMgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIj48L2Rpdj4gOiBpc1BsYXlpbmcgPyA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPuKPuTwvc3Bhbj4gOiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCflIo8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBURVhUIEFSRUEgKElubmVyIFBhZ2VzIE9ubHkpOiBVc2UgY3VzdG9tIGJvb2stdGV4dC1jb250YWluZXIgY2xhc3MgKi99XHJcbiAgICAgICAgICAgICAge2N1cnJlbnRQYWdlSW5kZXggIT09IDAgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9vay10ZXh0LWNvbnRhaW5lciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZmxleC0xXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7YXVkaW9FbmFibGVkICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBoYW5kbGVUb2dnbGVBdWRpbygpOyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ0F1ZGlvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hyaW5rLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBzaGFkb3ctc20gdHJhbnNpdGlvbi1hbGwgbXItNlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aXNQbGF5aW5nID8gJ2JnLXJlZC01MDAgdGV4dC13aGl0ZSBhbmltYXRlLXB1bHNlJyA6ICdiZy1raWQtYmx1ZSB0ZXh0LXdoaXRlIGhvdmVyOmJnLXRlYWwtNDAwJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2lzTG9hZGluZ0F1ZGlvID8gJ29wYWNpdHktNzAgY3Vyc29yLXdhaXQnIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHthdWRpb0Vycm9yID8gJ2JnLXNsYXRlLTQwMCcgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2lzTG9hZGluZ0F1ZGlvID8gPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCI+PC9kaXY+IDogaXNQbGF5aW5nID8gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGxcIj7ij7k8L3NwYW4+IDogPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGxcIj7wn5SKPC9zcGFuPn1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHRleHQtY2VudGVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYm9vay10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFBhZ2UuaGVicmV3VGV4dH1cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBhc3BlY3Qtc3F1YXJlIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLXNsYXRlLTEwMFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIGJvcmRlci00IGJvcmRlci1raWQtYmx1ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG1iLTRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS01MDBcIj7Xntem15nXmdeoINeo15LXoiDXp9eh15XXnS4uLjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXdoaXRlLzEwIGJhY2tkcm9wLWJsdXItbWQgcC02IGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGdhcC0xMFwiPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlUHJldn0gZGlzYWJsZWQ9e2N1cnJlbnRQYWdlSW5kZXggPT09IDB9IGNsYXNzTmFtZT1cInctMTQgaC0xNCBiZy13aGl0ZS8yMCBob3ZlcjpiZy13aGl0ZS80MCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCB0ZXh0LTJ4bCBkaXNhYmxlZDpvcGFjaXR5LTIwIHRyYW5zaXRpb24tYWxsXCI+4oaQPC9idXR0b24+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LWJvbGQgYmctYmxhY2svNDAgcHgtNiBweS0yIHJvdW5kZWQtZnVsbFwiPlxyXG4gICAgICAgICAg16LXnteV15Mge2N1cnJlbnRQYWdlSW5kZXggKyAxfSDXnteq15XXmiB7dG90YWxQYWdlc31cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVOZXh0fSBkaXNhYmxlZD17Y3VycmVudFBhZ2VJbmRleCA9PT0gdG90YWxQYWdlcyAtIDF9IGNsYXNzTmFtZT1cInctMTQgaC0xNCBiZy1raWQteWVsbG93IGhvdmVyOmJnLXllbGxvdy00MDAgdGV4dC1zbGF0ZS05MDAgcm91bmRlZC1mdWxsIHRleHQtMnhsIGRpc2FibGVkOm9wYWNpdHktMjAgdHJhbnNpdGlvbi1hbGxcIj7ihpI8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7aXNFeHBvcnRpbmcgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVs0MDBdIGJnLXNsYXRlLTkwMC85MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJvcmRlci00IGJvcmRlci1raWQtYmx1ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG14LWF1dG8gbWItNlwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIGZvbnQtZnJlZG9rYVwiPntleHBvcnRQcm9ncmVzc308L2gzPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQm9va1ZpZXdlcjtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwiZ2VuZXJhdGVQYWdlSW1hZ2UiLCJnZW5lcmF0ZVBhZ2VBdWRpbyIsIkRyaXZlQ29ubmVjdEJ1dHRvbiIsImh0bWwyY2FudmFzIiwianNQREYiLCJKU1ppcCIsImF1ZGlvQnVmZmVyVG9XYXYiLCJidWZmZXIiLCJudW1DaGFubmVscyIsIm51bWJlck9mQ2hhbm5lbHMiLCJzYW1wbGVSYXRlIiwiZm9ybWF0IiwiYml0RGVwdGgiLCJieXRlc1BlclNhbXBsZSIsImJsb2NrQWxpZ24iLCJkYXRhQnl0ZUNvdW50IiwibGVuZ3RoIiwiaGVhZGVyQnl0ZUNvdW50IiwidG90YWxCeXRlQ291bnQiLCJoZWFkZXJCdWZmZXIiLCJBcnJheUJ1ZmZlciIsInZpZXciLCJEYXRhVmlldyIsIndyaXRlU3RyaW5nIiwib2Zmc2V0Iiwic3RyaW5nIiwiaSIsInNldFVpbnQ4IiwiY2hhckNvZGVBdCIsInNldFVpbnQzMiIsInNldFVpbnQxNiIsImRhdGFCdWZmZXIiLCJkYXRhVmlldyIsImNoYW5uZWwiLCJzYW1wbGUiLCJnZXRDaGFubmVsRGF0YSIsInMiLCJNYXRoIiwibWF4IiwibWluIiwiaW50MTYiLCJzZXRJbnQxNiIsIkJsb2IiLCJ0eXBlIiwiQm9va1ZpZXdlciIsImJvb2siLCJvblVwZGF0ZUJvb2siLCJvbkNsb3NlIiwiY3VycmVudFBhZ2VJbmRleCIsInNldEN1cnJlbnRQYWdlSW5kZXgiLCJib29rUmVmIiwiY3VycmVudCIsImltYWdlcyIsInNldEltYWdlcyIsImluaXRpYWxJbWFnZXMiLCJwYWdlcyIsImZvckVhY2giLCJwYWdlIiwiaW5kZXgiLCJnZW5lcmF0ZWRJbWFnZVVybCIsImxvYWRpbmdJbWFnZXMiLCJzZXRMb2FkaW5nSW1hZ2VzIiwic2Vzc2lvblJlZmVyZW5jZUltYWdlIiwic2V0U2Vzc2lvblJlZmVyZW5jZUltYWdlIiwibWV0YWRhdGEiLCJiYXNlQ2hhcmFjdGVySW1hZ2VVcmwiLCJmaW5kIiwicCIsImlzRXhwb3J0aW5nIiwic2V0SXNFeHBvcnRpbmciLCJleHBvcnRQcm9ncmVzcyIsInNldEV4cG9ydFByb2dyZXNzIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwiaXNMb2FkaW5nQXVkaW8iLCJzZXRJc0xvYWRpbmdBdWRpbyIsImF1ZGlvRXJyb3IiLCJzZXRBdWRpb0Vycm9yIiwiYXVkaW9CdWZmZXJzIiwic2V0QXVkaW9CdWZmZXJzIiwiYXVkaW9Db250ZXh0UmVmIiwiYXVkaW9Tb3VyY2VSZWYiLCJjdXJyZW50UGFnZSIsInRvdGFsUGFnZXMiLCJhdWRpb0VuYWJsZWQiLCJhdWRpb0NvbmZpZyIsImVuYWJsZWQiLCJ2b2ljZU5hbWUiLCJmdWxsQ2hhcmFjdGVyRGVzY3JpcHRpb24iLCJkZXNjIiwibWFpbkNoYXJhY3RlckRlc2NyaXB0aW9uIiwibWFpbkNoYXJhY3RlckRpc3RpbmN0aXZlTWFyayIsInNlY29uZGFyeUNoYXJhY3RlckRlc2NyaXB0aW9uIiwic2Vjb25kYXJ5Q2hhcmFjdGVyRGlzdGluY3RpdmVNYXJrIiwic3RvcEF1ZGlvIiwiY2xvc2UiLCJzdG9wIiwiZSIsImhhbmRsZUNoYW5nZUtleSIsImFpc3R1ZGlvIiwid2luZG93Iiwib3BlblNlbGVjdEtleSIsImhhbmRsZVRvZ2dsZUF1ZGlvIiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0Iiwic3RhdGUiLCJyZXN1bWUiLCJjdHgiLCJwbGF5QnVmZmVyIiwidGV4dFRvUmVhZCIsInRpdGxlIiwiaGVicmV3VGV4dCIsInByZXYiLCJjb25zb2xlIiwiZXJyb3IiLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJvbmVuZGVkIiwic3RhcnQiLCJoYW5kbGVOZXh0IiwiaGFuZGxlUHJldiIsInVwZGF0ZUJvb2tTdGF0ZSIsInVybCIsImN1cnJlbnRCb29rU3RhdGUiLCJ1cGRhdGVkUGFnZXMiLCJ1cGRhdGVkQm9vayIsImxvYWRJbWFnZSIsInBhZ2VJbmRleCIsImFjdGlvblByb21wdCIsInJlZmVyZW5jZVRvVXNlIiwiaXNDb3ZlciIsInRleHRUb1JlbmRlciIsInVuZGVmaW5lZCIsImFydFN0eWxlIiwiZXJyIiwiaGFuZGxlUmVnZW5lcmF0ZUltYWdlIiwic3RvcFByb3BhZ2F0aW9uIiwiaW1hZ2VQcm9tcHQiLCJhbGVydCIsInByZXBhcmVFeHBvcnRDYW52YXMiLCJpbWdVcmwiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwib3ZlcmZsb3ciLCJpbm5lckhUTUwiLCJ0ZXh0IiwiYm9keSIsImFwcGVuZENoaWxkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY2FudmFzIiwic2NhbGUiLCJ1c2VDT1JTIiwicmVtb3ZlQ2hpbGQiLCJoYW5kbGVEb3dubG9hZFpJUCIsInppcCIsInBkZiIsInBhZ2VXaWR0aCIsImZpbGUiLCJKU09OIiwic3RyaW5naWZ5IiwicG5nQmxvYiIsInRvQmxvYiIsIlN0cmluZyIsInBhZFN0YXJ0IiwiaW1nRGF0YSIsInRvRGF0YVVSTCIsImNhbnZhc1JhdGlvIiwicGRmSW1nSGVpZ2h0IiwicmVuZGVyV2lkdGgiLCJyZW5kZXJIZWlnaHQiLCJ4T2Zmc2V0IiwiYWRkSW1hZ2UiLCJhZGRQYWdlIiwiYXVkaW9CdWYiLCJidWYiLCJwZGZCbG9iIiwib3V0cHV0IiwiY29udGVudCIsImdlbmVyYXRlQXN5bmMiLCJkcml2ZUxpbmtzIiwiaGFzRHJpdmVBY2Nlc3MiLCJ1cGxvYWRCb29rVG9Ecml2ZSIsImRyaXZlRXJyb3IiLCJ3YXJuIiwic2F2ZUJvb2tQcm9tcHRzIiwiYm9va1RpdGxlIiwibWFpbkNoYXJhY3RlciIsInRvcGljIiwibWFpblRoZW1lIiwiaW1hZ2VQcm9tcHRzIiwibWFwIiwiZHJpdmVaaXBVcmwiLCJ6aXBMaW5rIiwiZHJpdmVQZGZVcmwiLCJwZGZMaW5rIiwibG9nIiwiZmlyZWJhc2VFcnJvciIsImxpbmsiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwic2FmZVRpdGxlIiwicmVwbGFjZSIsImRvd25sb2FkIiwiY2xpY2siLCJzaG93TGlua3MiLCJjb25maXJtIiwiaGFuZGxlRG93bmxvYWRQREYiLCJyZWYiLCJ1cGxvYWRUb0RyaXZlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJyZXN1bHQiLCJ3ZWJWaWV3TGluayIsInNhdmUiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwic3BhbiIsImRpc2FibGVkIiwiaW1nIiwic3JjIiwiaDMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/BookViewer.tsx\n");

/***/ }),

/***/ "(ssr)/./components/BooksGallery.tsx":
/*!*************************************!*\
  !*** ./components/BooksGallery.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/firebase */ \"(ssr)/./services/firebase.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst BooksGallery = ({ onClose })=>{\n    const [books, setBooks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BooksGallery.useEffect\": ()=>{\n            loadBooks();\n        }\n    }[\"BooksGallery.useEffect\"], []);\n    const loadBooks = async ()=>{\n        setLoading(true);\n        setError(null);\n        try {\n            const savedBooks = await (0,_services_firebase__WEBPACK_IMPORTED_MODULE_2__.getSavedBooks)();\n            // Sort by date, newest first\n            savedBooks.sort((a, b)=>b.createdAt.seconds - a.createdAt.seconds);\n            setBooks(savedBooks);\n        } catch (err) {\n            console.error('Error loading books:', err);\n            setError('  .  -Firebase Rules  .');\n        } finally{\n            setLoading(false);\n        }\n    };\n    const formatDate = (timestamp)=>{\n        const date = new Date(timestamp.seconds * 1000);\n        return date.toLocaleDateString('he-IL', {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black/50 z-[150] flex items-center justify-center p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-kid-blue to-teal-400 px-6 py-4 flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white flex items-center gap-2\",\n                            children: \"\\uD83D\\uDCDA  \"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                            lineNumber: 51,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"text-white hover:bg-white/20 rounded-full p-2 transition-colors\",\n                            children: \"\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                            lineNumber: 54,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                    lineNumber: 50,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 overflow-y-auto p-6\",\n                    children: [\n                        loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center justify-center py-12\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-12 h-12 border-4 border-kid-blue border-t-transparent rounded-full animate-spin mb-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 66,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-slate-500\",\n                                    children: \" ...\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 67,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                            lineNumber: 65,\n                            columnNumber: 25\n                        }, undefined),\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-red-50 border border-red-200 rounded-xl p-6 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-4xl mb-2 block\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 73,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-red-600 font-bold mb-2\",\n                                    children: \"\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 74,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-red-500 text-sm\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 75,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: loadBooks,\n                                    className: \"mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm\",\n                                    children: \" \"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 76,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                            lineNumber: 72,\n                            columnNumber: 25\n                        }, undefined),\n                        !loading && !error && books.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-12\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-6xl mb-4 block\",\n                                    children: \"\\uD83D\\uDCD6\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 87,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-slate-500 text-lg\",\n                                    children: \"   \"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 88,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-slate-400 text-sm mt-2\",\n                                    children: \"   \"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 89,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                            lineNumber: 86,\n                            columnNumber: 25\n                        }, undefined),\n                        !loading && !error && books.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n                            children: books.map((book)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-shadow border border-slate-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"aspect-square bg-slate-200 relative\",\n                                            children: book.thumbnailUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: book.thumbnailUrl,\n                                                alt: book.title,\n                                                className: \"w-full h-full object-cover\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                lineNumber: 103,\n                                                columnNumber: 45\n                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-full h-full flex items-center justify-center text-6xl\",\n                                                children: \"\\uD83D\\uDCD5\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                lineNumber: 109,\n                                                columnNumber: 45\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                            lineNumber: 101,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"font-bold text-slate-800 text-lg mb-1 truncate\",\n                                                    title: book.title,\n                                                    children: book.title\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                    lineNumber: 117,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-slate-400 text-xs mb-3\",\n                                                    children: formatDate(book.createdAt)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                    lineNumber: 120,\n                                                    columnNumber: 41\n                                                }, undefined),\n                                                book.drivePdfUrl || book.driveZipUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-col gap-2\",\n                                                    children: [\n                                                        book.drivePdfUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                            href: book.drivePdfUrl,\n                                                            target: \"_blank\",\n                                                            rel: \"noopener noreferrer\",\n                                                            className: \"block w-full bg-kid-blue hover:bg-teal-400 text-white text-center py-2 rounded-lg font-bold text-sm transition-colors\",\n                                                            children: \"\\uD83D\\uDCC4 PDF -Drive\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                            lineNumber: 126,\n                                                            columnNumber: 53\n                                                        }, undefined),\n                                                        book.driveZipUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                            href: book.driveZipUrl,\n                                                            target: \"_blank\",\n                                                            rel: \"noopener noreferrer\",\n                                                            className: \"block w-full bg-kid-orange hover:bg-orange-400 text-white text-center py-2 rounded-lg font-bold text-sm transition-colors\",\n                                                            children: \"\\uD83D\\uDCE6 ZIP -Drive\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                            lineNumber: 136,\n                                                            columnNumber: 53\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                    lineNumber: 124,\n                                                    columnNumber: 45\n                                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-slate-400 text-xs text-center py-2\",\n                                                    children: \"\\uD83D\\uDCBE  -Firestore \"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                                    lineNumber: 147,\n                                                    columnNumber: 45\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                            lineNumber: 116,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, book.id, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                                    lineNumber: 96,\n                                    columnNumber: 33\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                            lineNumber: 94,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                    lineNumber: 63,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t border-slate-100 px-6 py-4 bg-slate-50 text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-slate-400 text-sm\",\n                        children: books.length > 0 ? `${books.length}  ` : '     '\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                        lineNumber: 160,\n                        columnNumber: 21\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n                    lineNumber: 159,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n            lineNumber: 48,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\BooksGallery.tsx\",\n        lineNumber: 47,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BooksGallery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0Jvb2tzR2FsbGVyeS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVrRDtBQUNZO0FBTTlELE1BQU1JLGVBQTRDLENBQUMsRUFBRUMsT0FBTyxFQUFFO0lBQzFELE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHTiwrQ0FBUUEsQ0FBYyxFQUFFO0lBQ2xELE1BQU0sQ0FBQ08sU0FBU0MsV0FBVyxHQUFHUiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNTLE9BQU9DLFNBQVMsR0FBR1YsK0NBQVFBLENBQWdCO0lBRWxEQyxnREFBU0E7a0NBQUM7WUFDTlU7UUFDSjtpQ0FBRyxFQUFFO0lBRUwsTUFBTUEsWUFBWTtRQUNkSCxXQUFXO1FBQ1hFLFNBQVM7UUFDVCxJQUFJO1lBQ0EsTUFBTUUsYUFBYSxNQUFNVixpRUFBYUE7WUFDdEMsNkJBQTZCO1lBQzdCVSxXQUFXQyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsRUFBRUMsU0FBUyxDQUFDQyxPQUFPLEdBQUdILEVBQUVFLFNBQVMsQ0FBQ0MsT0FBTztZQUNuRVgsU0FBU007UUFDYixFQUFFLE9BQU9NLEtBQUs7WUFDVkMsUUFBUVYsS0FBSyxDQUFDLHdCQUF3QlM7WUFDdENSLFNBQVM7UUFDYixTQUFVO1lBQ05GLFdBQVc7UUFDZjtJQUNKO0lBRUEsTUFBTVksYUFBYSxDQUFDQztRQUNoQixNQUFNQyxPQUFPLElBQUlDLEtBQUtGLFVBQVVKLE9BQU8sR0FBRztRQUMxQyxPQUFPSyxLQUFLRSxrQkFBa0IsQ0FBQyxTQUFTO1lBQ3BDQyxNQUFNO1lBQ05DLE9BQU87WUFDUEMsS0FBSztZQUNMQyxNQUFNO1lBQ05DLFFBQVE7UUFDWjtJQUNKO0lBRUEscUJBQ0ksOERBQUNDO1FBQUlDLFdBQVU7a0JBQ1gsNEVBQUNEO1lBQUlDLFdBQVU7OzhCQUVYLDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ1gsOERBQUNDOzRCQUFHRCxXQUFVO3NDQUF3RDs7Ozs7O3NDQUd0RSw4REFBQ0U7NEJBQ0dDLFNBQVM5Qjs0QkFDVDJCLFdBQVU7c0NBQ2I7Ozs7Ozs7Ozs7Ozs4QkFNTCw4REFBQ0Q7b0JBQUlDLFdBQVU7O3dCQUNWeEIseUJBQ0csOERBQUN1Qjs0QkFBSUMsV0FBVTs7OENBQ1gsOERBQUNEO29DQUFJQyxXQUFVOzs7Ozs7OENBQ2YsOERBQUNJO29DQUFFSixXQUFVOzhDQUFpQjs7Ozs7Ozs7Ozs7O3dCQUlyQ3RCLHVCQUNHLDhEQUFDcUI7NEJBQUlDLFdBQVU7OzhDQUNYLDhEQUFDSztvQ0FBS0wsV0FBVTs4Q0FBc0I7Ozs7Ozs4Q0FDdEMsOERBQUNJO29DQUFFSixXQUFVOzhDQUE4Qjs7Ozs7OzhDQUMzQyw4REFBQ0k7b0NBQUVKLFdBQVU7OENBQXdCdEI7Ozs7Ozs4Q0FDckMsOERBQUN3QjtvQ0FDR0MsU0FBU3ZCO29DQUNUb0IsV0FBVTs4Q0FDYjs7Ozs7Ozs7Ozs7O3dCQU1SLENBQUN4QixXQUFXLENBQUNFLFNBQVNKLE1BQU1nQyxNQUFNLEtBQUssbUJBQ3BDLDhEQUFDUDs0QkFBSUMsV0FBVTs7OENBQ1gsOERBQUNLO29DQUFLTCxXQUFVOzhDQUFzQjs7Ozs7OzhDQUN0Qyw4REFBQ0k7b0NBQUVKLFdBQVU7OENBQXlCOzs7Ozs7OENBQ3RDLDhEQUFDSTtvQ0FBRUosV0FBVTs4Q0FBOEI7Ozs7Ozs7Ozs7Ozt3QkFJbEQsQ0FBQ3hCLFdBQVcsQ0FBQ0UsU0FBU0osTUFBTWdDLE1BQU0sR0FBRyxtQkFDbEMsOERBQUNQOzRCQUFJQyxXQUFVO3NDQUNWMUIsTUFBTWlDLEdBQUcsQ0FBQyxDQUFDQyxxQkFDUiw4REFBQ1Q7b0NBRUdDLFdBQVU7O3NEQUdWLDhEQUFDRDs0Q0FBSUMsV0FBVTtzREFDVlEsS0FBS0MsWUFBWSxpQkFDZCw4REFBQ0M7Z0RBQ0dDLEtBQUtILEtBQUtDLFlBQVk7Z0RBQ3RCRyxLQUFLSixLQUFLSyxLQUFLO2dEQUNmYixXQUFVOzs7OzswRUFHZCw4REFBQ0Q7Z0RBQUlDLFdBQVU7MERBQTBEOzs7Ozs7Ozs7OztzREFPakYsOERBQUNEOzRDQUFJQyxXQUFVOzs4REFDWCw4REFBQ2M7b0RBQUdkLFdBQVU7b0RBQWlEYSxPQUFPTCxLQUFLSyxLQUFLOzhEQUMzRUwsS0FBS0ssS0FBSzs7Ozs7OzhEQUVmLDhEQUFDVDtvREFBRUosV0FBVTs4REFDUlgsV0FBV21CLEtBQUt2QixTQUFTOzs7Ozs7Z0RBRTdCdUIsS0FBS08sV0FBVyxJQUFJUCxLQUFLUSxXQUFXLGlCQUNqQyw4REFBQ2pCO29EQUFJQyxXQUFVOzt3REFDVlEsS0FBS08sV0FBVyxrQkFDYiw4REFBQ2hDOzREQUNHa0MsTUFBTVQsS0FBS08sV0FBVzs0REFDdEJHLFFBQU87NERBQ1BDLEtBQUk7NERBQ0puQixXQUFVO3NFQUNiOzs7Ozs7d0RBSUpRLEtBQUtRLFdBQVcsa0JBQ2IsOERBQUNqQzs0REFDR2tDLE1BQU1ULEtBQUtRLFdBQVc7NERBQ3RCRSxRQUFPOzREQUNQQyxLQUFJOzREQUNKbkIsV0FBVTtzRUFDYjs7Ozs7Ozs7Ozs7OEVBTVQsOERBQUNEO29EQUFJQyxXQUFVOzhEQUEwQzs7Ozs7Ozs7Ozs7OzttQ0FsRDVEUSxLQUFLWSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7OzhCQThEaEMsOERBQUNyQjtvQkFBSUMsV0FBVTs4QkFDWCw0RUFBQ0k7d0JBQUVKLFdBQVU7a0NBQ1IxQixNQUFNZ0MsTUFBTSxHQUFHLElBQUksR0FBR2hDLE1BQU1nQyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNNUU7QUFFQSxpRUFBZWxDLFlBQVlBLEVBQUEiLCJzb3VyY2VzIjpbIkM6XFxDdXJzb3JcXGtpZGktYm9vYWlcXGNvbXBvbmVudHNcXEJvb2tzR2FsbGVyeS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBnZXRTYXZlZEJvb2tzLCBTYXZlZEJvb2sgfSBmcm9tICdAL3NlcnZpY2VzL2ZpcmViYXNlJ1xyXG5cclxuaW50ZXJmYWNlIEJvb2tzR2FsbGVyeVByb3BzIHtcclxuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWRcclxufVxyXG5cclxuY29uc3QgQm9va3NHYWxsZXJ5OiBSZWFjdC5GQzxCb29rc0dhbGxlcnlQcm9wcz4gPSAoeyBvbkNsb3NlIH0pID0+IHtcclxuICAgIGNvbnN0IFtib29rcywgc2V0Qm9va3NdID0gdXNlU3RhdGU8U2F2ZWRCb29rW10+KFtdKVxyXG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcclxuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxvYWRCb29rcygpXHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICBjb25zdCBsb2FkQm9va3MgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKVxyXG4gICAgICAgIHNldEVycm9yKG51bGwpXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZWRCb29rcyA9IGF3YWl0IGdldFNhdmVkQm9va3MoKVxyXG4gICAgICAgICAgICAvLyBTb3J0IGJ5IGRhdGUsIG5ld2VzdCBmaXJzdFxyXG4gICAgICAgICAgICBzYXZlZEJvb2tzLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0LnNlY29uZHMgLSBhLmNyZWF0ZWRBdC5zZWNvbmRzKVxyXG4gICAgICAgICAgICBzZXRCb29rcyhzYXZlZEJvb2tzKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGJvb2tzOicsIGVycilcclxuICAgICAgICAgICAgc2V0RXJyb3IoJ9ep15LXmdeQ15Qg15HXmNei15nXoNeqINeU16HXpNeo15nXnS4g15XXldeT15Ag16nXlC1GaXJlYmFzZSBSdWxlcyDXnteV15LXk9eo15nXnSDXoNeb15XXny4nKVxyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm1hdERhdGUgPSAodGltZXN0YW1wOiB7IHNlY29uZHM6IG51bWJlciB9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcC5zZWNvbmRzICogMTAwMClcclxuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2hlLUlMJywge1xyXG4gICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXHJcbiAgICAgICAgICAgIG1vbnRoOiAnbG9uZycsXHJcbiAgICAgICAgICAgIGRheTogJ251bWVyaWMnLFxyXG4gICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXHJcbiAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay81MCB6LVsxNTBdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtM3hsIHNoYWRvdy0yeGwgbWF4LXctNHhsIHctZnVsbCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2xcIj5cclxuICAgICAgICAgICAgICAgIHsvKiBIZWFkZXIgKi99XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1raWQtYmx1ZSB0by10ZWFsLTQwMCBweC02IHB5LTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIPCfk5og15TXodek16jXmdedINep15zXmVxyXG4gICAgICAgICAgICAgICAgICAgIDwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwIHJvdW5kZWQtZnVsbCBwLTIgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAg4pyVXHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICB7LyogQ29udGVudCAqL31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICB7bG9hZGluZyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIGJvcmRlci00IGJvcmRlci1raWQtYmx1ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG1iLTRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNTAwXCI+15jXldei158g16HXpNeo15nXnS4uLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAge2Vycm9yICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQteGwgcC02IHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi0yIGJsb2NrXCI+4pqg77iPPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGZvbnQtYm9sZCBtYi0yXCI+16nXkteZ15DXlDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCB0ZXh0LXNtXCI+e2Vycm9yfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtsb2FkQm9va3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtNCBiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC02MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDXoNeh15Qg16nXldeRXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgeyFsb2FkaW5nICYmICFlcnJvciAmJiBib29rcy5sZW5ndGggPT09IDAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTZ4bCBtYi00IGJsb2NrXCI+8J+Tljwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNTAwIHRleHQtbGdcIj7XoteT15nXmdefINec15Ag15nXpteo16og16HXpNeo15nXnTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIHRleHQtc20gbXQtMlwiPteh16TXqNeZ150g16nXqteZ15nXpteQINeZ15XXpNeZ16LXlSDXm9eQ1588L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHshbG9hZGluZyAmJiAhZXJyb3IgJiYgYm9va3MubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Jvb2tzLm1hcCgoYm9vaykgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtib29rLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1iciBmcm9tLXNsYXRlLTUwIHRvLXNsYXRlLTEwMCByb3VuZGVkLTJ4bCBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LW1kIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLXNoYWRvdyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogVGh1bWJuYWlsICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFzcGVjdC1zcXVhcmUgYmctc2xhdGUtMjAwIHJlbGF0aXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Ym9vay50aHVtYm5haWxVcmwgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Jvb2sudGh1bWJuYWlsVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2Jvb2sudGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC02eGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TlVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogSW5mbyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS04MDAgdGV4dC1sZyBtYi0xIHRydW5jYXRlXCIgdGl0bGU9e2Jvb2sudGl0bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtib29rLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIHRleHQteHMgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXREYXRlKGJvb2suY3JlYXRlZEF0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtib29rLmRyaXZlUGRmVXJsIHx8IGJvb2suZHJpdmVaaXBVcmwgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtib29rLmRyaXZlUGRmVXJsICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17Ym9vay5kcml2ZVBkZlVybH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHctZnVsbCBiZy1raWQtYmx1ZSBob3ZlcjpiZy10ZWFsLTQwMCB0ZXh0LXdoaXRlIHRleHQtY2VudGVyIHB5LTIgcm91bmRlZC1sZyBmb250LWJvbGQgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+ThCBQREYg15EtRHJpdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Jvb2suZHJpdmVaaXBVcmwgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPXtib29rLmRyaXZlWmlwVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIGJnLWtpZC1vcmFuZ2UgaG92ZXI6Ymctb3JhbmdlLTQwMCB0ZXh0LXdoaXRlIHRleHQtY2VudGVyIHB5LTIgcm91bmRlZC1sZyBmb250LWJvbGQgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TpiBaSVAg15EtRHJpdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXhzIHRleHQtY2VudGVyIHB5LTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+SviDXqdee15XXqCDXkS1GaXJlc3RvcmUg15HXnNeR15NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICB7LyogRm9vdGVyICovfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItc2xhdGUtMTAwIHB4LTYgcHktNCBiZy1zbGF0ZS01MCB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2Jvb2tzLmxlbmd0aCA+IDAgPyBgJHtib29rcy5sZW5ndGh9INeh16TXqNeZ150g16DXntem15DXlWAgOiAn16bXldeoINeh16TXqNeZ150g15fXk9ep15nXnSDXldeU150g15nXldek15nXoteVINeb15DXnyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCb29rc0dhbGxlcnlcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJnZXRTYXZlZEJvb2tzIiwiQm9va3NHYWxsZXJ5Iiwib25DbG9zZSIsImJvb2tzIiwic2V0Qm9va3MiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJsb2FkQm9va3MiLCJzYXZlZEJvb2tzIiwic29ydCIsImEiLCJiIiwiY3JlYXRlZEF0Iiwic2Vjb25kcyIsImVyciIsImNvbnNvbGUiLCJmb3JtYXREYXRlIiwidGltZXN0YW1wIiwiZGF0ZSIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwicCIsInNwYW4iLCJsZW5ndGgiLCJtYXAiLCJib29rIiwidGh1bWJuYWlsVXJsIiwiaW1nIiwic3JjIiwiYWx0IiwidGl0bGUiLCJoMyIsImRyaXZlUGRmVXJsIiwiZHJpdmVaaXBVcmwiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwiaWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/BooksGallery.tsx\n");

/***/ }),

/***/ "(ssr)/./components/CreationForm.tsx":
/*!*************************************!*\
  !*** ./components/CreationForm.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_geminiService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/geminiService */ \"(ssr)/./services/geminiService.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst ART_STYLES = [\n    {\n        id: 'Random',\n        label: '  ',\n        value: 'Magical, colorful, commercial children\\'s book illustration style'\n    },\n    {\n        id: '3D',\n        label: ' - ',\n        value: 'Cute 3D animation style, Disney-light, glossy, vibrant colors, expressive eyes, magical atmosphere'\n    },\n    {\n        id: 'Watercolor',\n        label: '  ',\n        value: 'Bright watercolor illustration, defined lines, cheerful colors, magical storybook feel'\n    },\n    {\n        id: 'Anime',\n        label: '  ',\n        value: 'Chibi style anime, bright eyes, colorful backgrounds, kawaii aesthetic'\n    },\n    {\n        id: 'Paper',\n        label: '  ',\n        value: 'Colorful layered paper cutout art, 3D depth, craft aesthetic, bright lighting'\n    },\n    {\n        id: 'Clay',\n        label: ' ',\n        value: 'Plasticine claymation style, cute, rounded shapes, handmade texture, bright colors'\n    },\n    {\n        id: 'Pencil',\n        label: '  ',\n        value: 'Vibrant colored pencil drawing, detailed, happy, storybook illustration'\n    },\n    {\n        id: 'Pixel',\n        label: '  ',\n        value: 'Retro 8-bit pixel art, vibrant, arcade colors, cute'\n    },\n    {\n        id: 'Vector',\n        label: '  ',\n        value: 'Modern flat vector art, clean curves, bold saturated colors, geometric happiness'\n    }\n];\nconst VOICE_OPTIONS = [\n    {\n        id: 'Puck',\n        label: '   (Puck)',\n        gender: ''\n    },\n    {\n        id: 'Kore',\n        label: '   (Kore)',\n        gender: ''\n    },\n    {\n        id: 'Charon',\n        label: '   (Charon)',\n        gender: ''\n    },\n    {\n        id: 'Fenrir',\n        label: '   (Fenrir)',\n        gender: ''\n    },\n    {\n        id: 'Zephyr',\n        label: '   (Zephyr)',\n        gender: ''\n    }\n];\n// Estimated costs based on Gemini API pricing (approximate)\nconst COSTS = {\n    IMAGE: 0.04,\n    AUDIO_PAGE: 0.006,\n    TEXT_BASE: 0.02 // ~$0.02 fixed cost for prompt + output tokens (Gemini Pro)\n};\nconst readFileAsBase64 = (file)=>{\n    return new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>{\n            const result = reader.result;\n            // Remove data URL prefix (e.g., \"data:application/pdf;base64,\")\n            const base64 = result.split(',')[1];\n            resolve(base64);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n    });\n};\nconst CreationForm = ({ onSubmit, isLoading })=>{\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('NEW');\n    const [ageRange, setAgeRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('3-8');\n    const [topic, setTopic] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [pageCount, setPageCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(15);\n    const [selectedStyle, setSelectedStyle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('3D');\n    const [isGeneratingIdea, setIsGeneratingIdea] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Audio State\n    const [audioEnabled, setAudioEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [selectedVoice, setSelectedVoice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('Puck');\n    const [previewingVoice, setPreviewingVoice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const audioContextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const activeSourceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [sequelContext, setSequelContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isAnalyzingPdf, setIsAnalyzingPdf] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Cleanup audio on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreationForm.useEffect\": ()=>{\n            return ({\n                \"CreationForm.useEffect\": ()=>{\n                    if (activeSourceRef.current) {\n                        activeSourceRef.current.stop();\n                    }\n                    if (audioContextRef.current) {\n                        audioContextRef.current.close();\n                    }\n                }\n            })[\"CreationForm.useEffect\"];\n        }\n    }[\"CreationForm.useEffect\"], []);\n    // Calculate Cost\n    const costEstimate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CreationForm.useMemo[costEstimate]\": ()=>{\n            const imagesCost = pageCount * COSTS.IMAGE;\n            const audioCost = audioEnabled ? pageCount * COSTS.AUDIO_PAGE : 0;\n            const total = imagesCost + audioCost + COSTS.TEXT_BASE;\n            return {\n                images: imagesCost.toFixed(2),\n                audio: audioCost.toFixed(2),\n                base: COSTS.TEXT_BASE.toFixed(2),\n                total: total.toFixed(2)\n            };\n        }\n    }[\"CreationForm.useMemo[costEstimate]\"], [\n        pageCount,\n        audioEnabled\n    ]);\n    const handlePlayPreview = async (voiceId, e)=>{\n        e.stopPropagation(); // Prevent selecting the card when clicking play\n        // Stop current preview\n        if (activeSourceRef.current) {\n            try {\n                activeSourceRef.current.stop();\n            } catch (err) {}\n            activeSourceRef.current = null;\n        }\n        // If clicking the same button, just stop (toggle off)\n        if (previewingVoice === voiceId) {\n            setPreviewingVoice(null);\n            return;\n        }\n        setPreviewingVoice(voiceId);\n        // Init Audio Context\n        if (!audioContextRef.current) {\n            audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)({\n                sampleRate: 24000\n            });\n        }\n        if (audioContextRef.current.state === 'suspended') {\n            await audioContextRef.current.resume();\n        }\n        try {\n            const buffer = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generatePageAudio)(\" !     !\", audioContextRef.current, voiceId);\n            // If the user hasn't clicked something else in the meantime\n            if (buffer) {\n                const source = audioContextRef.current.createBufferSource();\n                source.buffer = buffer;\n                source.connect(audioContextRef.current.destination);\n                source.onended = ()=>{\n                    if (previewingVoice === voiceId) {\n                        setPreviewingVoice(null);\n                    }\n                };\n                activeSourceRef.current = source;\n                source.start();\n            } else {\n                setPreviewingVoice(null);\n            }\n        } catch (error) {\n            console.error(\"Preview failed\", error);\n            setPreviewingVoice(null);\n        }\n    };\n    const handleFileUpload = async (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        if (file.type === 'application/json') {\n            const reader = new FileReader();\n            reader.onload = (event)=>{\n                try {\n                    const json = JSON.parse(event.target?.result);\n                    if (json.metadata && json.pages) {\n                        const fullStory = json.pages.map((p)=>p.hebrewText).join('\\n');\n                        setSequelContext({\n                            title: json.metadata.title,\n                            summary: fullStory,\n                            characterDescription: json.metadata.mainCharacterDescription,\n                            artStyle: json.metadata.artStyle,\n                            baseCharacterImage: json.metadata.baseCharacterImageUrl\n                        });\n                        setAgeRange(json.metadata.targetAge);\n                        setTopic(`   ${json.metadata.title}...`);\n                    } else {\n                        alert(\" JSON  .     .\");\n                    }\n                } catch (err) {\n                    alert(\"  \");\n                    console.error(err);\n                }\n            };\n            reader.readAsText(file);\n        } else if (file.type === 'application/pdf') {\n            setIsAnalyzingPdf(true);\n            try {\n                const base64 = await readFileAsBase64(file);\n                const context = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.analyzeBookPdf)(base64);\n                setSequelContext(context);\n                // Defaults since PDF extraction might not get these perfectly\n                setAgeRange('3-8');\n                setTopic(`   ${context.title}...`);\n            } catch (err) {\n                console.error(err);\n                alert(\"    -PDF.       JSON.\");\n            } finally{\n                setIsAnalyzingPdf(false);\n            }\n        } else {\n            alert(\"   JSON  PDF .\");\n        }\n    };\n    const handleSuggestIdea = async ()=>{\n        setIsGeneratingIdea(true);\n        try {\n            const idea = await (0,_services_geminiService__WEBPACK_IMPORTED_MODULE_2__.generateStoryIdea)(ageRange, topic);\n            if (idea) {\n                setTopic(idea);\n            } else {\n                // Fallback if empty string returned but no error thrown (edge case)\n                alert(\"   .  .\");\n            }\n        } catch (e) {\n            console.error(e);\n            // If fatal error occurred, handleFatalError already dispatched event to App.tsx\n            // If not fatal, we show this alert.\n            alert(\"  .       .\");\n        } finally{\n            setIsGeneratingIdea(false);\n        }\n    };\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        // Determine art style: If Sequel, use previous. If New, use selected.\n        let finalArtStyle = 'Magical 3D';\n        if (mode === 'SEQUEL' && sequelContext) {\n            finalArtStyle = sequelContext.artStyle;\n        } else {\n            const styleObj = ART_STYLES.find((s)=>s.id === selectedStyle);\n            if (styleObj) finalArtStyle = styleObj.value;\n        }\n        // Default topics\n        let finalTopic = topic.trim();\n        if (!finalTopic) {\n            if (mode === 'SEQUEL' && sequelContext) {\n                finalTopic = `A continuation of the story '${sequelContext.title}'. Create a new adventure for the same main character.`;\n            } else {\n                finalTopic = `A creative, fun, and educational story suitable for children aged ${ageRange}. Surprise me!`;\n            }\n        }\n        onSubmit({\n            ageRange,\n            topic: finalTopic,\n            pageCount,\n            artStyle: finalArtStyle,\n            previousContext: mode === 'SEQUEL' && sequelContext ? sequelContext : undefined,\n            audioEnabled,\n            voiceName: selectedVoice\n        });\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col items-center justify-center min-h-[60vh] text-center px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-24 h-24 mb-8 relative\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 border-8 border-kid-blue/20 rounded-full\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 255,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 border-8 border-kid-blue rounded-full border-t-transparent animate-spin\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 256,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                    lineNumber: 254,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-3xl font-bold text-slate-800 mb-4\",\n                    children: \"Dreaming up your story...\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                    lineNumber: 258,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-slate-600 text-lg animate-pulse\",\n                    children: \"Crafting characters, writing rhymes, and preparing magic!\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                    lineNumber: 259,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 text-4xl animate-bounce\",\n                    children: \"\\uD83E\\uDE84\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                    lineNumber: 262,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n            lineNumber: 253,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-3xl mx-auto py-12 px-4 sm:px-6\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-[2.5rem] shadow-xl p-8 sm:p-12 border border-slate-100\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-3xl font-extrabold text-slate-800\",\n                            children: \"What shall we create today?\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 271,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-center gap-4 mt-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setMode('NEW');\n                                        setSequelContext(null);\n                                    },\n                                    className: `px-6 py-2 rounded-full font-bold transition-all ${mode === 'NEW' ? 'bg-kid-blue text-white shadow-lg' : 'bg-slate-100 text-slate-500'}`,\n                                    children: \"  \"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 275,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setMode('SEQUEL'),\n                                    className: `px-6 py-2 rounded-full font-bold transition-all ${mode === 'SEQUEL' ? 'bg-kid-orange text-white shadow-lg' : 'bg-slate-100 text-slate-500'}`,\n                                    children: \"  \\uD83D\\uDD04\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 281,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 274,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                    lineNumber: 270,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleSubmit,\n                    className: \"space-y-8\",\n                    children: [\n                        mode === 'SEQUEL' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-orange-50 border-2 border-orange-100 rounded-2xl p-6 text-center animate-fade-in relative overflow-hidden\",\n                            children: [\n                                isAnalyzingPdf && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 bg-white/80 z-10 flex flex-col items-center justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 border-4 border-kid-orange border-t-transparent rounded-full animate-spin mb-2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 296,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-kid-orange font-bold\",\n                                            children: \"  ...\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 297,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 295,\n                                    columnNumber: 17\n                                }, undefined),\n                                !sequelContext ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-4xl mb-3\",\n                                            children: \"\\uD83D\\uDCC2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 303,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-xl font-bold text-slate-700 mb-2\",\n                                            children: \"   \"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 304,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-slate-500 mb-4 text-sm\",\n                                            children: \"   -JSON  PDF   .\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 305,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"file\",\n                                            accept: \".json,.pdf\",\n                                            onChange: handleFileUpload,\n                                            className: \"block w-full text-sm text-slate-500   file:mr-4 file:py-2 file:px-4   file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-kid-orange file:text-white   hover:file:bg-orange-600   cursor-pointer mx-auto max-w-xs\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 306,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-4 text-left bg-white p-4 rounded-xl border border-orange-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-3xl\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 321,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"font-bold text-slate-800\",\n                                                    children: [\n                                                        \" : \",\n                                                        sequelContext.title\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 323,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-slate-500\",\n                                                    children: \"  !\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 324,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 322,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>setSequelContext(null),\n                                            className: \"ml-auto text-xs text-red-500 underline\",\n                                            children: \"\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 326,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 320,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 293,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-lg font-bold text-slate-700 mb-3\",\n                                    children: \"Target Age Group\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 340,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-3 gap-4\",\n                                    children: [\n                                        '3-8',\n                                        '9-12',\n                                        '13-16'\n                                    ].map((age)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>setAgeRange(age),\n                                            className: `py-3 px-4 rounded-2xl font-bold text-lg transition-all ${ageRange === age ? 'bg-kid-blue text-white shadow-lg scale-105' : 'bg-slate-100 text-slate-500 hover:bg-slate-200'}`,\n                                            children: age\n                                        }, age, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 345,\n                                            columnNumber: 17\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 343,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 339,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: mode === 'SEQUEL' && sequelContext ? 'opacity-50 pointer-events-none grayscale' : '',\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-lg font-bold text-slate-700\",\n                                            children: \"Art Style\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 363,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        mode === 'SEQUEL' && sequelContext && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded font-bold\",\n                                            children: \"   \"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 367,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 362,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-2 sm:grid-cols-3 gap-3\",\n                                    children: ART_STYLES.map((style)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>setSelectedStyle(style.id),\n                                            className: `py-2 px-3 rounded-xl font-bold text-sm sm:text-base transition-all border-2 ${selectedStyle === style.id ? 'bg-white border-kid-orange text-kid-orange shadow-md scale-105' : 'bg-slate-50 border-transparent text-slate-600 hover:bg-slate-100'}`,\n                                            children: style.label\n                                        }, style.id, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 374,\n                                            columnNumber: 17\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 372,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 361,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-blue-50 border border-blue-100 rounded-2xl p-5\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl\",\n                                                    children: \"\\uD83D\\uDD0A\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 393,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"block text-lg font-bold text-slate-700\",\n                                                            children: \" \"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                            lineNumber: 395,\n                                                            columnNumber: 19\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-slate-500\",\n                                                            children: \"    \"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                            lineNumber: 398,\n                                                            columnNumber: 19\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 394,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 392,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>setAudioEnabled(!audioEnabled),\n                                            className: `w-14 h-8 rounded-full transition-colors relative ${audioEnabled ? 'bg-kid-blue' : 'bg-slate-300'}`,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `absolute top-1 w-6 h-6 bg-white rounded-full transition-all shadow-sm ${audioEnabled ? 'left-1' : 'left-7'}`\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                lineNumber: 408,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 403,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 391,\n                                    columnNumber: 13\n                                }, undefined),\n                                audioEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"animate-fade-in grid grid-cols-1 gap-3 mt-3 border-t border-blue-100 pt-3\",\n                                    children: VOICE_OPTIONS.map((voice)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            onClick: ()=>setSelectedVoice(voice.id),\n                                            className: `flex items-center justify-between p-3 rounded-xl transition-all border cursor-pointer ${selectedVoice === voice.id ? 'bg-white border-kid-blue text-kid-blue shadow-md' : 'bg-blue-50/50 border-transparent text-slate-600 hover:bg-blue-100'}`,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: `w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 ${selectedVoice === voice.id ? 'border-kid-blue' : 'border-slate-400'}`,\n                                                            children: selectedVoice === voice.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-2.5 h-2.5 rounded-full bg-kid-blue\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                                lineNumber: 426,\n                                                                columnNumber: 56\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                            lineNumber: 425,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex flex-col items-start\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold text-base\",\n                                                                    children: voice.label\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                                    lineNumber: 429,\n                                                                    columnNumber: 25\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs opacity-70 bg-slate-200/50 px-2 py-0.5 rounded-md mt-1\",\n                                                                    children: voice.gender\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                                    lineNumber: 430,\n                                                                    columnNumber: 25\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                            lineNumber: 428,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 424,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: (e)=>handlePlayPreview(voice.id, e),\n                                                    className: `w-10 h-10 flex items-center justify-center rounded-full bg-slate-100 hover:bg-blue-200 transition-colors ${previewingVoice === voice.id ? 'text-kid-orange animate-pulse bg-blue-100' : 'text-slate-500'}`,\n                                                    title: \" \",\n                                                    children: previewingVoice === voice.id ? // Stop Icon / Spinner\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl\",\n                                                        children: \"\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                        lineNumber: 442,\n                                                        columnNumber: 25\n                                                    }, undefined) : // Play Icon\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl\",\n                                                        children: \"\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                        lineNumber: 445,\n                                                        columnNumber: 25\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 434,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, voice.id, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 416,\n                                            columnNumber: 19\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 414,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 390,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-lg font-bold text-slate-700\",\n                                            children: \"Story Length\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 457,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"bg-kid-blue/10 text-kid-blue px-3 py-1 rounded-full font-bold text-sm\",\n                                            children: [\n                                                pageCount,\n                                                \" \",\n                                                pageCount === 1 ? 'Page' : 'Pages'\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 460,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 456,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"range\",\n                                    min: \"1\",\n                                    max: \"20\",\n                                    value: pageCount,\n                                    onChange: (e)=>setPageCount(parseInt(e.target.value)),\n                                    className: \"w-full h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-kid-blue hover:bg-slate-300 transition-colors\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 465,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between text-sm text-slate-400 mt-2 font-medium px-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Short (1)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 474,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Long (20)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 475,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 473,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 455,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-end mb-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"topic\",\n                                            className: \"block text-lg font-bold text-slate-700\",\n                                            children: \"What is the story about?\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 482,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        mode === 'NEW' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: handleSuggestIdea,\n                                            disabled: isGeneratingIdea,\n                                            className: \"text-sm bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1.5 rounded-full font-bold shadow-md hover:shadow-lg transition-transform transform hover:-translate-y-0.5 flex items-center gap-1 disabled:opacity-50\",\n                                            children: isGeneratingIdea ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                        lineNumber: 495,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    \"...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                        lineNumber: 500,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    \"   \"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 487,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 481,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    id: \"topic\",\n                                    rows: 4,\n                                    value: topic,\n                                    onChange: (e)=>setTopic(e.target.value),\n                                    placeholder: \"e.g., A brave turtle who wants to fly... OR leave blank for a surprise!\",\n                                    className: \"w-full bg-slate-50 border-2 border-slate-200 rounded-2xl p-4 text-lg focus:border-kid-blue focus:ring-0 outline-none transition-colors\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 506,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-slate-400 mt-2 text-right\",\n                                    children: \":       ,   !\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 514,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 480,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-slate-800 text-white p-5 rounded-2xl shadow-lg border-2 border-slate-700\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-lg font-bold mb-3 flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"\\uD83D\\uDCB0\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 522,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        \"  \"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 521,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2 text-sm text-slate-300\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \" (\",\n                                                        pageCount,\n                                                        \" )\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 526,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"$\",\n                                                        costEstimate.images\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 527,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 525,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        audioEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \" (TTS)\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 531,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"$\",\n                                                        costEstimate.audio\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 532,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 530,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \" \"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 536,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"$\",\n                                                        costEstimate.base\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 537,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 535,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-px bg-slate-600 my-2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 539,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between text-xl font-bold text-kid-yellow\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: '\"'\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 541,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"$\",\n                                                        costEstimate.total\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                                    lineNumber: 542,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                            lineNumber: 540,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 524,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-[10px] text-slate-500 mt-3 text-center\",\n                                    children: \"*     Gemini API .     -Google Cloud .\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                                    lineNumber: 545,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            disabled: mode === 'SEQUEL' && !sequelContext,\n                            className: \"w-full bg-kid-yellow hover:bg-yellow-400 text-kid-text text-xl font-bold py-5 rounded-2xl shadow-lg transform transition hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed\",\n                            children: mode === 'SEQUEL' ? 'Create Sequel! ' : topic.trim() ? 'Create My Book! ' : 'Surprise Me! '\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                            lineNumber: 550,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n                    lineNumber: 290,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n            lineNumber: 269,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\CreationForm.tsx\",\n        lineNumber: 268,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreationForm);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDhEQUFDQTs7d0RBQUs7d0RBQUV6RSxhQUFhTSxLQUFLOzs7Ozs7Ozs7Ozs7O3NEQUc5Qiw4REFBQzZEOzRDQUFJQyxXQUFVOzs4REFDYiw4REFBQ0s7OERBQUs7Ozs7Ozs4REFDTiw4REFBQ0E7O3dEQUFLO3dEQUFFekUsYUFBYU8sSUFBSTs7Ozs7Ozs7Ozs7OztzREFFM0IsOERBQUM0RDs0Q0FBSUMsV0FBVTs7Ozs7O3NEQUNmLDhEQUFDRDs0Q0FBSUMsV0FBVTs7OERBQ2IsOERBQUNLOzhEQUFLOzs7Ozs7OERBQ04sOERBQUNBOzt3REFBSzt3REFBRXpFLGFBQWFHLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBRzlCLDhEQUFDcUM7b0NBQUU0QixXQUFVOzhDQUE4Qzs7Ozs7Ozs7Ozs7O3NDQUs3RCw4REFBQ0U7NEJBQ0N2QyxNQUFLOzRCQUNMc0QsVUFBVWhILFNBQVMsWUFBWSxDQUFDb0I7NEJBQ2hDMkUsV0FBVTtzQ0FFVC9GLFNBQVMsV0FBVyxzQkFBdUJJLE1BQU1zRixJQUFJLEtBQUssdUJBQXVCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU05RjtBQUVBLGlFQUFlN0YsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXEN1cnNvclxca2lkaS1ib29haVxcY29tcG9uZW50c1xcQ3JlYXRpb25Gb3JtLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgQm9va1JlcXVlc3QsIEJvb2ssIFByZXZpb3VzQm9va0NvbnRleHQgfSBmcm9tICdAL3R5cGVzJ1xyXG5pbXBvcnQgeyBhbmFseXplQm9va1BkZiwgZ2VuZXJhdGVQYWdlQXVkaW8sIGdlbmVyYXRlU3RvcnlJZGVhIH0gZnJvbSAnQC9zZXJ2aWNlcy9nZW1pbmlTZXJ2aWNlJ1xyXG5cclxuaW50ZXJmYWNlIENyZWF0aW9uRm9ybVByb3BzIHtcclxuICBvblN1Ym1pdDogKHJlcXVlc3Q6IEJvb2tSZXF1ZXN0KSA9PiB2b2lkO1xyXG4gIGlzTG9hZGluZzogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgQVJUX1NUWUxFUyA9IFtcclxuICB7IGlkOiAnUmFuZG9tJywgbGFiZWw6ICfwn46yINeU16TXqteiINeQ15XXqteZJywgdmFsdWU6ICdNYWdpY2FsLCBjb2xvcmZ1bCwgY29tbWVyY2lhbCBjaGlsZHJlblxcJ3MgYm9vayBpbGx1c3RyYXRpb24gc3R5bGUnIH0sXHJcbiAgeyBpZDogJzNEJywgbGFiZWw6ICfwn6e4INeq15zXqi3Xntee15Mg16fXodeV150nLCB2YWx1ZTogJ0N1dGUgM0QgYW5pbWF0aW9uIHN0eWxlLCBEaXNuZXktbGlnaHQsIGdsb3NzeSwgdmlicmFudCBjb2xvcnMsIGV4cHJlc3NpdmUgZXllcywgbWFnaWNhbCBhdG1vc3BoZXJlJyB9LFxyXG4gIHsgaWQ6ICdXYXRlcmNvbG9yJywgbGFiZWw6ICfwn46oINem15HXoteZINee15nXnScsIHZhbHVlOiAnQnJpZ2h0IHdhdGVyY29sb3IgaWxsdXN0cmF0aW9uLCBkZWZpbmVkIGxpbmVzLCBjaGVlcmZ1bCBjb2xvcnMsIG1hZ2ljYWwgc3Rvcnlib29rIGZlZWwnIH0sXHJcbiAgeyBpZDogJ0FuaW1lJywgbGFiZWw6ICfwn46MINeQ16DXmdee15Qg15fXnteV15MnLCB2YWx1ZTogJ0NoaWJpIHN0eWxlIGFuaW1lLCBicmlnaHQgZXllcywgY29sb3JmdWwgYmFja2dyb3VuZHMsIGthd2FpaSBhZXN0aGV0aWMnIH0sXHJcbiAgeyBpZDogJ1BhcGVyJywgbGFiZWw6ICfinILvuI8g15LXlteo15kg16DXmdeZ16gnLCB2YWx1ZTogJ0NvbG9yZnVsIGxheWVyZWQgcGFwZXIgY3V0b3V0IGFydCwgM0QgZGVwdGgsIGNyYWZ0IGFlc3RoZXRpYywgYnJpZ2h0IGxpZ2h0aW5nJyB9LFxyXG4gIHsgaWQ6ICdDbGF5JywgbGFiZWw6ICfwn4+6INek15zXodeY15zXmdeg15QnLCB2YWx1ZTogJ1BsYXN0aWNpbmUgY2xheW1hdGlvbiBzdHlsZSwgY3V0ZSwgcm91bmRlZCBzaGFwZXMsIGhhbmRtYWRlIHRleHR1cmUsIGJyaWdodCBjb2xvcnMnIH0sXHJcbiAgeyBpZDogJ1BlbmNpbCcsIGxhYmVsOiAn4pyP77iPINeQ15nXldeoINem15HXoteV16DXmScsIHZhbHVlOiAnVmlicmFudCBjb2xvcmVkIHBlbmNpbCBkcmF3aW5nLCBkZXRhaWxlZCwgaGFwcHksIHN0b3J5Ym9vayBpbGx1c3RyYXRpb24nIH0sXHJcbiAgeyBpZDogJ1BpeGVsJywgbGFiZWw6ICfwn5G+INek15nXp9eh15wg15DXqNeYJywgdmFsdWU6ICdSZXRybyA4LWJpdCBwaXhlbCBhcnQsIHZpYnJhbnQsIGFyY2FkZSBjb2xvcnMsIGN1dGUnIH0sXHJcbiAgeyBpZDogJ1ZlY3RvcicsIGxhYmVsOiAn8J+UtyDXlden15jXldeo15kg157XldeT16jXoNeZJywgdmFsdWU6ICdNb2Rlcm4gZmxhdCB2ZWN0b3IgYXJ0LCBjbGVhbiBjdXJ2ZXMsIGJvbGQgc2F0dXJhdGVkIGNvbG9ycywgZ2VvbWV0cmljIGhhcHBpbmVzcycgfSxcclxuXTtcclxuXHJcbmNvbnN0IFZPSUNFX09QVElPTlMgPSBbXHJcbiAgeyBpZDogJ1B1Y2snLCBsYWJlbDogJ/CfpKEg16nXldeR15Eg15XXp9ec15nXnCAoUHVjayknLCBnZW5kZXI6ICfXlteb16gnIH0sXHJcbiAgeyBpZDogJ0tvcmUnLCBsYWJlbDogJ/CfjLgg16LXk9eZ158g15XXnteo15LXmdeiIChLb3JlKScsIGdlbmRlcjogJ9eg16fXkdeUJyB9LFxyXG4gIHsgaWQ6ICdDaGFyb24nLCBsYWJlbDogJ/CfpoEg16LXnteV16cg15XXodee15vXldeq15kgKENoYXJvbiknLCBnZW5kZXI6ICfXlteb16gnIH0sXHJcbiAgeyBpZDogJ0ZlbnJpcicsIGxhYmVsOiAn4pqhINeX15bXpyDXldeQ16DXqNeS15jXmSAoRmVucmlyKScsIGdlbmRlcjogJ9eW15vXqCcgfSxcclxuICB7IGlkOiAnWmVwaHlyJywgbGFiZWw6ICfwn42DINeo15og15XXnteQ15XXltefIChaZXBoeXIpJywgZ2VuZGVyOiAn16DXp9eR15QnIH0sXHJcbl07XHJcblxyXG4vLyBFc3RpbWF0ZWQgY29zdHMgYmFzZWQgb24gR2VtaW5pIEFQSSBwcmljaW5nIChhcHByb3hpbWF0ZSlcclxuY29uc3QgQ09TVFMgPSB7XHJcbiAgSU1BR0U6IDAuMDQsIC8vIH4kMC4wNCBwZXIgSW1hZ2VuIDMgZ2VuZXJhdGlvblxyXG4gIEFVRElPX1BBR0U6IDAuMDA2LCAvLyB+JDAuMDA2IHBlciBwYWdlIChhc3N1bWluZyB+MzAwIGNoYXJzIEAgJDE1LzFNIGNoYXJzKVxyXG4gIFRFWFRfQkFTRTogMC4wMiAvLyB+JDAuMDIgZml4ZWQgY29zdCBmb3IgcHJvbXB0ICsgb3V0cHV0IHRva2VucyAoR2VtaW5pIFBybylcclxufTtcclxuXHJcbmNvbnN0IHJlYWRGaWxlQXNCYXNlNjQgPSAoZmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgLy8gUmVtb3ZlIGRhdGEgVVJMIHByZWZpeCAoZS5nLiwgXCJkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsXCIpXHJcbiAgICAgIGNvbnN0IGJhc2U2NCA9IHJlc3VsdC5zcGxpdCgnLCcpWzFdO1xyXG4gICAgICByZXNvbHZlKGJhc2U2NCk7XHJcbiAgICB9O1xyXG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IENyZWF0aW9uRm9ybTogUmVhY3QuRkM8Q3JlYXRpb25Gb3JtUHJvcHM+ID0gKHsgb25TdWJtaXQsIGlzTG9hZGluZyB9KSA9PiB7XHJcbiAgY29uc3QgW21vZGUsIHNldE1vZGVdID0gdXNlU3RhdGU8J05FVycgfCAnU0VRVUVMJz4oJ05FVycpO1xyXG4gIGNvbnN0IFthZ2VSYW5nZSwgc2V0QWdlUmFuZ2VdID0gdXNlU3RhdGUoJzMtOCcpO1xyXG4gIGNvbnN0IFt0b3BpYywgc2V0VG9waWNdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtwYWdlQ291bnQsIHNldFBhZ2VDb3VudF0gPSB1c2VTdGF0ZTxudW1iZXI+KDE1KTtcclxuICBjb25zdCBbc2VsZWN0ZWRTdHlsZSwgc2V0U2VsZWN0ZWRTdHlsZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCczRCcpO1xyXG4gIGNvbnN0IFtpc0dlbmVyYXRpbmdJZGVhLCBzZXRJc0dlbmVyYXRpbmdJZGVhXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgLy8gQXVkaW8gU3RhdGVcclxuICBjb25zdCBbYXVkaW9FbmFibGVkLCBzZXRBdWRpb0VuYWJsZWRdID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW3NlbGVjdGVkVm9pY2UsIHNldFNlbGVjdGVkVm9pY2VdID0gdXNlU3RhdGUoJ1B1Y2snKTtcclxuICBjb25zdCBbcHJldmlld2luZ1ZvaWNlLCBzZXRQcmV2aWV3aW5nVm9pY2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgYXVkaW9Db250ZXh0UmVmID0gdXNlUmVmPEF1ZGlvQ29udGV4dCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGFjdGl2ZVNvdXJjZVJlZiA9IHVzZVJlZjxBdWRpb0J1ZmZlclNvdXJjZU5vZGUgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgW3NlcXVlbENvbnRleHQsIHNldFNlcXVlbENvbnRleHRdID0gdXNlU3RhdGU8UHJldmlvdXNCb29rQ29udGV4dCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpc0FuYWx5emluZ1BkZiwgc2V0SXNBbmFseXppbmdQZGZdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBDbGVhbnVwIGF1ZGlvIG9uIHVubW91bnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGFjdGl2ZVNvdXJjZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgYWN0aXZlU291cmNlUmVmLmN1cnJlbnQuc3RvcCgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhdWRpb0NvbnRleHRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50LmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgQ29zdFxyXG4gIGNvbnN0IGNvc3RFc3RpbWF0ZSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgaW1hZ2VzQ29zdCA9IHBhZ2VDb3VudCAqIENPU1RTLklNQUdFO1xyXG4gICAgY29uc3QgYXVkaW9Db3N0ID0gYXVkaW9FbmFibGVkID8gcGFnZUNvdW50ICogQ09TVFMuQVVESU9fUEFHRSA6IDA7XHJcbiAgICBjb25zdCB0b3RhbCA9IGltYWdlc0Nvc3QgKyBhdWRpb0Nvc3QgKyBDT1NUUy5URVhUX0JBU0U7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaW1hZ2VzOiBpbWFnZXNDb3N0LnRvRml4ZWQoMiksXHJcbiAgICAgIGF1ZGlvOiBhdWRpb0Nvc3QudG9GaXhlZCgyKSxcclxuICAgICAgYmFzZTogQ09TVFMuVEVYVF9CQVNFLnRvRml4ZWQoMiksXHJcbiAgICAgIHRvdGFsOiB0b3RhbC50b0ZpeGVkKDIpXHJcbiAgICB9O1xyXG4gIH0sIFtwYWdlQ291bnQsIGF1ZGlvRW5hYmxlZF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVQbGF5UHJldmlldyA9IGFzeW5jICh2b2ljZUlkOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQgc2VsZWN0aW5nIHRoZSBjYXJkIHdoZW4gY2xpY2tpbmcgcGxheVxyXG5cclxuICAgIC8vIFN0b3AgY3VycmVudCBwcmV2aWV3XHJcbiAgICBpZiAoYWN0aXZlU291cmNlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgdHJ5IHsgYWN0aXZlU291cmNlUmVmLmN1cnJlbnQuc3RvcCgpOyB9IGNhdGNoIChlcnIpIHsgfVxyXG4gICAgICBhY3RpdmVTb3VyY2VSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgY2xpY2tpbmcgdGhlIHNhbWUgYnV0dG9uLCBqdXN0IHN0b3AgKHRvZ2dsZSBvZmYpXHJcbiAgICBpZiAocHJldmlld2luZ1ZvaWNlID09PSB2b2ljZUlkKSB7XHJcbiAgICAgIHNldFByZXZpZXdpbmdWb2ljZShudWxsKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFByZXZpZXdpbmdWb2ljZSh2b2ljZUlkKTtcclxuXHJcbiAgICAvLyBJbml0IEF1ZGlvIENvbnRleHRcclxuICAgIGlmICghYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dCkoeyBzYW1wbGVSYXRlOiAyNDAwMCB9KTtcclxuICAgIH1cclxuICAgIGlmIChhdWRpb0NvbnRleHRSZWYuY3VycmVudC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcclxuICAgICAgYXdhaXQgYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQucmVzdW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgZ2VuZXJhdGVQYWdlQXVkaW8oXCLXqdec15XXnSDXmdec15PXmdedISDXkdeV15DXlSDXoNem15Ag15zXlNeo16TXqten15Qg16fXodeV157XlCDXkdeZ15fXkyFcIiwgYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQsIHZvaWNlSWQpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzbid0IGNsaWNrZWQgc29tZXRoaW5nIGVsc2UgaW4gdGhlIG1lYW50aW1lXHJcbiAgICAgIGlmIChidWZmZXIpIHtcclxuICAgICAgICBjb25zdCBzb3VyY2UgPSBhdWRpb0NvbnRleHRSZWYuY3VycmVudC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgIHNvdXJjZS5jb25uZWN0KGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50LmRlc3RpbmF0aW9uKTtcclxuXHJcbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAocHJldmlld2luZ1ZvaWNlID09PSB2b2ljZUlkKSB7XHJcbiAgICAgICAgICAgIHNldFByZXZpZXdpbmdWb2ljZShudWxsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhY3RpdmVTb3VyY2VSZWYuY3VycmVudCA9IHNvdXJjZTtcclxuICAgICAgICBzb3VyY2Uuc3RhcnQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRQcmV2aWV3aW5nVm9pY2UobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQcmV2aWV3IGZhaWxlZFwiLCBlcnJvcik7XHJcbiAgICAgIHNldFByZXZpZXdpbmdWb2ljZShudWxsKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gYXN5bmMgKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcclxuICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG5cclxuICAgIGlmIChmaWxlLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJykge1xyXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGV2ZW50LnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZykgYXMgQm9vaztcclxuICAgICAgICAgIGlmIChqc29uLm1ldGFkYXRhICYmIGpzb24ucGFnZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgZnVsbFN0b3J5ID0ganNvbi5wYWdlcy5tYXAocCA9PiBwLmhlYnJld1RleHQpLmpvaW4oJ1xcbicpO1xyXG4gICAgICAgICAgICBzZXRTZXF1ZWxDb250ZXh0KHtcclxuICAgICAgICAgICAgICB0aXRsZToganNvbi5tZXRhZGF0YS50aXRsZSxcclxuICAgICAgICAgICAgICBzdW1tYXJ5OiBmdWxsU3RvcnksXHJcbiAgICAgICAgICAgICAgY2hhcmFjdGVyRGVzY3JpcHRpb246IGpzb24ubWV0YWRhdGEubWFpbkNoYXJhY3RlckRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgIGFydFN0eWxlOiBqc29uLm1ldGFkYXRhLmFydFN0eWxlLFxyXG4gICAgICAgICAgICAgIGJhc2VDaGFyYWN0ZXJJbWFnZToganNvbi5tZXRhZGF0YS5iYXNlQ2hhcmFjdGVySW1hZ2VVcmxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldEFnZVJhbmdlKGpzb24ubWV0YWRhdGEudGFyZ2V0QWdlKTtcclxuICAgICAgICAgICAgc2V0VG9waWMoYNeU16jXpNeq16fXlCDXl9eT16nXlCDXqdecICR7anNvbi5tZXRhZGF0YS50aXRsZX0uLi5gKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwi16fXldeR16UgSlNPTiDXnNeQINeq16fXmdefLiDXoNeQINec15TXotec15XXqiDXp9eV15HXpSDXqdeg15XXpteoINeR15DXpNec15nXp9em15nXlC5cIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBhbGVydChcItep15LXmdeQ15Qg15HXp9eo15nXkNeqINeU16fXldeR16VcIik7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcclxuICAgIH0gZWxzZSBpZiAoZmlsZS50eXBlID09PSAnYXBwbGljYXRpb24vcGRmJykge1xyXG4gICAgICBzZXRJc0FuYWx5emluZ1BkZih0cnVlKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkRmlsZUFzQmFzZTY0KGZpbGUpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCBhbmFseXplQm9va1BkZihiYXNlNjQpO1xyXG4gICAgICAgIHNldFNlcXVlbENvbnRleHQoY29udGV4dCk7XHJcbiAgICAgICAgLy8gRGVmYXVsdHMgc2luY2UgUERGIGV4dHJhY3Rpb24gbWlnaHQgbm90IGdldCB0aGVzZSBwZXJmZWN0bHlcclxuICAgICAgICBzZXRBZ2VSYW5nZSgnMy04Jyk7XHJcbiAgICAgICAgc2V0VG9waWMoYNeU16jXpNeq16fXlCDXl9eT16nXlCDXqdecICR7Y29udGV4dC50aXRsZX0uLi5gKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIGFsZXJ0KFwi15zXkCDXlNem15zXl9eg15Ug15zXoNeq15cg15DXqiDXlC1QREYuINeQ16DXkCDXoNeh15Qg16nXldeRINeQ15Ug15TXqdeq157XqSDXkden15XXkdelIEpTT04uXCIpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldElzQW5hbHl6aW5nUGRmKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWxlcnQoXCLXoNeQINec15TXotec15XXqiDXp9eV15HXpSBKU09OINeQ15UgUERGINeR15zXkdeTLlwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTdWdnZXN0SWRlYSA9IGFzeW5jICgpID0+IHtcclxuICAgIHNldElzR2VuZXJhdGluZ0lkZWEodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpZGVhID0gYXdhaXQgZ2VuZXJhdGVTdG9yeUlkZWEoYWdlUmFuZ2UsIHRvcGljKTtcclxuICAgICAgaWYgKGlkZWEpIHtcclxuICAgICAgICBzZXRUb3BpYyhpZGVhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBGYWxsYmFjayBpZiBlbXB0eSBzdHJpbmcgcmV0dXJuZWQgYnV0IG5vIGVycm9yIHRocm93biAoZWRnZSBjYXNlKVxyXG4gICAgICAgIGFsZXJ0KFwi15zXkCDXlNem15zXl9eg15Ug15zXmdeZ16bXqCDXqNei15nXldefLiDXoNeh15Qg16nXldeRLlwiKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAvLyBJZiBmYXRhbCBlcnJvciBvY2N1cnJlZCwgaGFuZGxlRmF0YWxFcnJvciBhbHJlYWR5IGRpc3BhdGNoZWQgZXZlbnQgdG8gQXBwLnRzeFxyXG4gICAgICAvLyBJZiBub3QgZmF0YWwsIHdlIHNob3cgdGhpcyBhbGVydC5cclxuICAgICAgYWxlcnQoXCLXqdeS15nXkNeUINeR15nXpteZ16jXqiDXlNeo16LXmdeV158uINeQ16DXkCDXkdeT15XXpyDXkNeqINeU15fXmdeR15XXqCDXkNeVINeg16HXlCDXqdeV15EuXCIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNHZW5lcmF0aW5nSWRlYShmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIC8vIERldGVybWluZSBhcnQgc3R5bGU6IElmIFNlcXVlbCwgdXNlIHByZXZpb3VzLiBJZiBOZXcsIHVzZSBzZWxlY3RlZC5cclxuICAgIGxldCBmaW5hbEFydFN0eWxlID0gJ01hZ2ljYWwgM0QnO1xyXG5cclxuICAgIGlmIChtb2RlID09PSAnU0VRVUVMJyAmJiBzZXF1ZWxDb250ZXh0KSB7XHJcbiAgICAgIGZpbmFsQXJ0U3R5bGUgPSBzZXF1ZWxDb250ZXh0LmFydFN0eWxlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3Qgc3R5bGVPYmogPSBBUlRfU1RZTEVTLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFN0eWxlKTtcclxuICAgICAgaWYgKHN0eWxlT2JqKSBmaW5hbEFydFN0eWxlID0gc3R5bGVPYmoudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVmYXVsdCB0b3BpY3NcclxuICAgIGxldCBmaW5hbFRvcGljID0gdG9waWMudHJpbSgpO1xyXG4gICAgaWYgKCFmaW5hbFRvcGljKSB7XHJcbiAgICAgIGlmIChtb2RlID09PSAnU0VRVUVMJyAmJiBzZXF1ZWxDb250ZXh0KSB7XHJcbiAgICAgICAgZmluYWxUb3BpYyA9IGBBIGNvbnRpbnVhdGlvbiBvZiB0aGUgc3RvcnkgJyR7c2VxdWVsQ29udGV4dC50aXRsZX0nLiBDcmVhdGUgYSBuZXcgYWR2ZW50dXJlIGZvciB0aGUgc2FtZSBtYWluIGNoYXJhY3Rlci5gO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbmFsVG9waWMgPSBgQSBjcmVhdGl2ZSwgZnVuLCBhbmQgZWR1Y2F0aW9uYWwgc3Rvcnkgc3VpdGFibGUgZm9yIGNoaWxkcmVuIGFnZWQgJHthZ2VSYW5nZX0uIFN1cnByaXNlIG1lIWA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblN1Ym1pdCh7XHJcbiAgICAgIGFnZVJhbmdlLFxyXG4gICAgICB0b3BpYzogZmluYWxUb3BpYyxcclxuICAgICAgcGFnZUNvdW50LFxyXG4gICAgICBhcnRTdHlsZTogZmluYWxBcnRTdHlsZSxcclxuICAgICAgcHJldmlvdXNDb250ZXh0OiAobW9kZSA9PT0gJ1NFUVVFTCcgJiYgc2VxdWVsQ29udGV4dCkgPyBzZXF1ZWxDb250ZXh0IDogdW5kZWZpbmVkLFxyXG4gICAgICBhdWRpb0VuYWJsZWQsXHJcbiAgICAgIHZvaWNlTmFtZTogc2VsZWN0ZWRWb2ljZVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1bNjB2aF0gdGV4dC1jZW50ZXIgcHgtNFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yNCBoLTI0IG1iLTggcmVsYXRpdmVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBib3JkZXItOCBib3JkZXIta2lkLWJsdWUvMjAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYm9yZGVyLTggYm9yZGVyLWtpZC1ibHVlIHJvdW5kZWQtZnVsbCBib3JkZXItdC10cmFuc3BhcmVudCBhbmltYXRlLXNwaW5cIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIG1iLTRcIj5EcmVhbWluZyB1cCB5b3VyIHN0b3J5Li4uPC9oMj5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTYwMCB0ZXh0LWxnIGFuaW1hdGUtcHVsc2VcIj5cclxuICAgICAgICAgIENyYWZ0aW5nIGNoYXJhY3RlcnMsIHdyaXRpbmcgcmh5bWVzLCBhbmQgcHJlcGFyaW5nIG1hZ2ljIVxyXG4gICAgICAgIDwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggdGV4dC00eGwgYW5pbWF0ZS1ib3VuY2VcIj7wn6qEPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTN4bCBteC1hdXRvIHB5LTEyIHB4LTQgc206cHgtNlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtWzIuNXJlbV0gc2hhZG93LXhsIHAtOCBzbTpwLTEyIGJvcmRlciBib3JkZXItc2xhdGUtMTAwXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XHJcbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1leHRyYWJvbGQgdGV4dC1zbGF0ZS04MDBcIj5XaGF0IHNoYWxsIHdlIGNyZWF0ZSB0b2RheT88L2gyPlxyXG5cclxuICAgICAgICAgIHsvKiBNb2RlIFRvZ2dsZSAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtNCBtdC02XCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldE1vZGUoJ05FVycpOyBzZXRTZXF1ZWxDb250ZXh0KG51bGwpOyB9fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTYgcHktMiByb3VuZGVkLWZ1bGwgZm9udC1ib2xkIHRyYW5zaXRpb24tYWxsICR7bW9kZSA9PT0gJ05FVycgPyAnYmcta2lkLWJsdWUgdGV4dC13aGl0ZSBzaGFkb3ctbGcnIDogJ2JnLXNsYXRlLTEwMCB0ZXh0LXNsYXRlLTUwMCd9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgINeh15nXpNeV16gg15fXk9epIOKcqFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1vZGUoJ1NFUVVFTCcpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTYgcHktMiByb3VuZGVkLWZ1bGwgZm9udC1ib2xkIHRyYW5zaXRpb24tYWxsICR7bW9kZSA9PT0gJ1NFUVVFTCcgPyAnYmcta2lkLW9yYW5nZSB0ZXh0LXdoaXRlIHNoYWRvdy1sZycgOiAnYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNTAwJ31gfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAg16HXpNeoINeU157XqdeaIPCflIRcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XHJcbiAgICAgICAgICB7LyogU0VRVUVMIFVQTE9BRCBTRUNUSU9OICovfVxyXG4gICAgICAgICAge21vZGUgPT09ICdTRVFVRUwnICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1vcmFuZ2UtNTAgYm9yZGVyLTIgYm9yZGVyLW9yYW5nZS0xMDAgcm91bmRlZC0yeGwgcC02IHRleHQtY2VudGVyIGFuaW1hdGUtZmFkZS1pbiByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cclxuICAgICAgICAgICAgICB7aXNBbmFseXppbmdQZGYgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlLzgwIHotMTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYm9yZGVyLTQgYm9yZGVyLWtpZC1vcmFuZ2UgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBtYi0yXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQta2lkLW9yYW5nZSBmb250LWJvbGRcIj7Xp9eV16jXkCDXkNeqINeU16HXpNeoLi4uPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgeyFzZXF1ZWxDb250ZXh0ID8gKFxyXG4gICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi0zXCI+8J+TgjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1zbGF0ZS03MDAgbWItMlwiPteY16LXnyDXkNeqINeU16HXpNeoINeU16fXldeT1508L2gzPlxyXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTUwMCBtYi00IHRleHQtc21cIj7XlNei15zXlCDXkNeqINen15XXkdelINeULUpTT04g15DXlSBQREYg16nXnCDXlNeh16TXqCDXlNen15XXk9edLjwvcD5cclxuICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFjY2VwdD1cIi5qc29uLC5wZGZcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHctZnVsbCB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTptci00IGZpbGU6cHktMiBmaWxlOnB4LTRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOnJvdW5kZWQtZnVsbCBmaWxlOmJvcmRlci0wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTp0ZXh0LXNtIGZpbGU6Zm9udC1zZW1pYm9sZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6Ymcta2lkLW9yYW5nZSBmaWxlOnRleHQtd2hpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3ZlcjpmaWxlOmJnLW9yYW5nZS02MDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3ItcG9pbnRlciBteC1hdXRvIG1heC13LXhzXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00IHRleHQtbGVmdCBiZy13aGl0ZSBwLTQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLW9yYW5nZS0yMDBcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPuKchTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMFwiPtee157XqdeZ15vXmdedINeQ16o6IHtzZXF1ZWxDb250ZXh0LnRpdGxlfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNTAwXCI+15TXk9ee15XXqiDXldeU16HXkteg15XXnyDXoNep157XqNeVITwvcD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZXF1ZWxDb250ZXh0KG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gdGV4dC14cyB0ZXh0LXJlZC01MDAgdW5kZXJsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgINeU15fXnNejXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIHsvKiBBZ2UgU2VsZWN0aW9uICovfVxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtbGcgZm9udC1ib2xkIHRleHQtc2xhdGUtNzAwIG1iLTNcIj5cclxuICAgICAgICAgICAgICBUYXJnZXQgQWdlIEdyb3VwXHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMyBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgIHtbJzMtOCcsICc5LTEyJywgJzEzLTE2J10ubWFwKChhZ2UpID0+IChcclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAga2V5PXthZ2V9XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBZ2VSYW5nZShhZ2UpfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweS0zIHB4LTQgcm91bmRlZC0yeGwgZm9udC1ib2xkIHRleHQtbGcgdHJhbnNpdGlvbi1hbGwgJHthZ2VSYW5nZSA9PT0gYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1raWQtYmx1ZSB0ZXh0LXdoaXRlIHNoYWRvdy1sZyBzY2FsZS0xMDUnXHJcbiAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1zbGF0ZS0xMDAgdGV4dC1zbGF0ZS01MDAgaG92ZXI6Ymctc2xhdGUtMjAwJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7YWdlfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIEFydCBTdHlsZSBTZWxlY3Rpb24gLSBEaXNhYmxlZCBpZiBTZXF1ZWwgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17bW9kZSA9PT0gJ1NFUVVFTCcgJiYgc2VxdWVsQ29udGV4dCA/ICdvcGFjaXR5LTUwIHBvaW50ZXItZXZlbnRzLW5vbmUgZ3JheXNjYWxlJyA6ICcnfT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTcwMFwiPlxyXG4gICAgICAgICAgICAgICAgQXJ0IFN0eWxlXHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICB7bW9kZSA9PT0gJ1NFUVVFTCcgJiYgc2VxdWVsQ29udGV4dCAmJiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGJnLW9yYW5nZS0xMDAgdGV4dC1vcmFuZ2UtNjAwIHB4LTIgcHktMSByb3VuZGVkIGZvbnQtYm9sZFwiPlxyXG4gICAgICAgICAgICAgICAgICDXoNeg16LXnCDXnNek15kg15TXodek16gg15TXp9eV15PXnVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgc206Z3JpZC1jb2xzLTMgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICB7QVJUX1NUWUxFUy5tYXAoKHN0eWxlKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIGtleT17c3R5bGUuaWR9XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFN0eWxlKHN0eWxlLmlkKX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHktMiBweC0zIHJvdW5kZWQteGwgZm9udC1ib2xkIHRleHQtc20gc206dGV4dC1iYXNlIHRyYW5zaXRpb24tYWxsIGJvcmRlci0yICR7c2VsZWN0ZWRTdHlsZSA9PT0gc3R5bGUuaWRcclxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXdoaXRlIGJvcmRlci1raWQtb3JhbmdlIHRleHQta2lkLW9yYW5nZSBzaGFkb3ctbWQgc2NhbGUtMTA1J1xyXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctc2xhdGUtNTAgYm9yZGVyLXRyYW5zcGFyZW50IHRleHQtc2xhdGUtNjAwIGhvdmVyOmJnLXNsYXRlLTEwMCdcclxuICAgICAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge3N0eWxlLmxhYmVsfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIEF1ZGlvIFNldHRpbmdzICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIGJvcmRlciBib3JkZXItYmx1ZS0xMDAgcm91bmRlZC0yeGwgcC01XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsXCI+8J+UijwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtbGcgZm9udC1ib2xkIHRleHQtc2xhdGUtNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAg15TXp9eo15DXqiDXodeZ16TXldeoXHJcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj7Xmdem15nXqNeqINeQ15XXk9eZ15Ug15DXmdeb15XXqteZINec15vXnCDXotee15XXkzwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICB7LyogVG9nZ2xlIFN3aXRjaCAqL31cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEF1ZGlvRW5hYmxlZCghYXVkaW9FbmFibGVkKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMTQgaC04IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyByZWxhdGl2ZSAke2F1ZGlvRW5hYmxlZCA/ICdiZy1raWQtYmx1ZScgOiAnYmctc2xhdGUtMzAwJ31gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgdG9wLTEgdy02IGgtNiBiZy13aGl0ZSByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgc2hhZG93LXNtICR7YXVkaW9FbmFibGVkID8gJ2xlZnQtMScgOiAnbGVmdC03J31gfT48L2Rpdj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogVm9pY2UgU2VsZWN0aW9uIC0gQ29uZGl0aW9uYWwgKi99XHJcbiAgICAgICAgICAgIHthdWRpb0VuYWJsZWQgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1mYWRlLWluIGdyaWQgZ3JpZC1jb2xzLTEgZ2FwLTMgbXQtMyBib3JkZXItdCBib3JkZXItYmx1ZS0xMDAgcHQtM1wiPlxyXG4gICAgICAgICAgICAgICAge1ZPSUNFX09QVElPTlMubWFwKCh2b2ljZSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXt2b2ljZS5pZH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFZvaWNlKHZvaWNlLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0zIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgYm9yZGVyIGN1cnNvci1wb2ludGVyICR7c2VsZWN0ZWRWb2ljZSA9PT0gdm9pY2UuaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctd2hpdGUgYm9yZGVyLWtpZC1ibHVlIHRleHQta2lkLWJsdWUgc2hhZG93LW1kJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ibHVlLTUwLzUwIGJvcmRlci10cmFuc3BhcmVudCB0ZXh0LXNsYXRlLTYwMCBob3ZlcjpiZy1ibHVlLTEwMCdcclxuICAgICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTUgaC01IHJvdW5kZWQtZnVsbCBib3JkZXItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaHJpbmstMCAke3NlbGVjdGVkVm9pY2UgPT09IHZvaWNlLmlkID8gJ2JvcmRlci1raWQtYmx1ZScgOiAnYm9yZGVyLXNsYXRlLTQwMCd9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFZvaWNlID09PSB2b2ljZS5pZCAmJiA8ZGl2IGNsYXNzTmFtZT1cInctMi41IGgtMi41IHJvdW5kZWQtZnVsbCBiZy1raWQtYmx1ZVwiPjwvZGl2Pn1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWJhc2VcIj57dm9pY2UubGFiZWx9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNzAgYmctc2xhdGUtMjAwLzUwIHB4LTIgcHktMC41IHJvdW5kZWQtbWQgbXQtMVwiPnt2b2ljZS5nZW5kZXJ9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGhhbmRsZVBsYXlQcmV2aWV3KHZvaWNlLmlkLCBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMTAgaC0xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYmctc2xhdGUtMTAwIGhvdmVyOmJnLWJsdWUtMjAwIHRyYW5zaXRpb24tY29sb3JzICR7cHJldmlld2luZ1ZvaWNlID09PSB2b2ljZS5pZCA/ICd0ZXh0LWtpZC1vcmFuZ2UgYW5pbWF0ZS1wdWxzZSBiZy1ibHVlLTEwMCcgOiAndGV4dC1zbGF0ZS01MDAnfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIteU16nXnteiINeT15XXktee15RcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIHtwcmV2aWV3aW5nVm9pY2UgPT09IHZvaWNlLmlkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIEljb24gLyBTcGlubmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj7ij7k8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGF5IEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bFwiPuKWtjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogUGFnZSBDb3VudCBTZWxlY3Rpb24gKi99XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtbGcgZm9udC1ib2xkIHRleHQtc2xhdGUtNzAwXCI+XHJcbiAgICAgICAgICAgICAgICBTdG9yeSBMZW5ndGhcclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJnLWtpZC1ibHVlLzEwIHRleHQta2lkLWJsdWUgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCBmb250LWJvbGQgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAge3BhZ2VDb3VudH0ge3BhZ2VDb3VudCA9PT0gMSA/ICdQYWdlJyA6ICdQYWdlcyd9XHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXHJcbiAgICAgICAgICAgICAgbWluPVwiMVwiXHJcbiAgICAgICAgICAgICAgbWF4PVwiMjBcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXtwYWdlQ291bnR9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYWdlQ291bnQocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0zIGJnLXNsYXRlLTIwMCByb3VuZGVkLWxnIGFwcGVhcmFuY2Utbm9uZSBjdXJzb3ItcG9pbnRlciBhY2NlbnQta2lkLWJsdWUgaG92ZXI6Ymctc2xhdGUtMzAwIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIHRleHQtc2xhdGUtNDAwIG10LTIgZm9udC1tZWRpdW0gcHgtMVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPlNob3J0ICgxKTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3Bhbj5Mb25nICgyMCk8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIFRvcGljIElucHV0ICovfVxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1lbmQgbWItM1wiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwidG9waWNcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTcwMFwiPlxyXG4gICAgICAgICAgICAgICAgV2hhdCBpcyB0aGUgc3RvcnkgYWJvdXQ/XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICB7LyogR2VuZXJhdGUgSWRlYSBCdXR0b24gLSBPbmx5IGZvciBORVcgbW9kZSAqL31cclxuICAgICAgICAgICAgICB7bW9kZSA9PT0gJ05FVycgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VnZ2VzdElkZWF9XHJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0dlbmVyYXRpbmdJZGVhfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIHRleHQtd2hpdGUgcHgtMyBweS0xLjUgcm91bmRlZC1mdWxsIGZvbnQtYm9sZCBzaGFkb3ctbWQgaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tdHJhbnNmb3JtIHRyYW5zZm9ybSBob3ZlcjotdHJhbnNsYXRlLXktMC41IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGRpc2FibGVkOm9wYWNpdHktNTBcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7aXNHZW5lcmF0aW5nSWRlYSA/IChcclxuICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICDXl9eV16nXkS4uLlxyXG4gICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7inKg8L3NwYW4+INeU157XpteQINec15kg16jXoteZ15XXn1xyXG4gICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgIGlkPVwidG9waWNcIlxyXG4gICAgICAgICAgICAgIHJvd3M9ezR9XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3RvcGljfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VG9waWMoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgQSBicmF2ZSB0dXJ0bGUgd2hvIHdhbnRzIHRvIGZseS4uLiBPUiBsZWF2ZSBibGFuayBmb3IgYSBzdXJwcmlzZSFcIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1zbGF0ZS01MCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwIHJvdW5kZWQtMnhsIHAtNCB0ZXh0LWxnIGZvY3VzOmJvcmRlci1raWQtYmx1ZSBmb2N1czpyaW5nLTAgb3V0bGluZS1ub25lIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBtdC0yIHRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICDXmNeZ16Q6INeU16nXqtee16kg15HXm9ek16rXldeoINeU16fXodedINec157Xotec15Qg15vXk9eZINec16fXkdecINeo16LXmdeV158sINep150g15PXnteV16og15XXotec15nXnNeUIVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQ29zdCBFc3RpbWF0b3IgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCB0ZXh0LXdoaXRlIHAtNSByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTcwMFwiPlxyXG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgbWItMyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPvCfkrA8L3NwYW4+INei15zXldeqINee16nXldei16jXqlxyXG4gICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LXNtIHRleHQtc2xhdGUtMzAwXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+16rXnteV16DXldeqICh7cGFnZUNvdW50fSDXotee15XXk9eZ150pPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+JHtjb3N0RXN0aW1hdGUuaW1hZ2VzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB7YXVkaW9FbmFibGVkICYmIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+15DXldeT15nXlSAoVFRTKTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+JHtjb3N0RXN0aW1hdGUuYXVkaW99PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj7XmNen16HXmCDXldei15nXkdeV15M8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj4ke2Nvc3RFc3RpbWF0ZS5iYXNlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtcHggYmctc2xhdGUtNjAwIG15LTJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQteGwgZm9udC1ib2xkIHRleHQta2lkLXllbGxvd1wiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+16HXlFwi15s8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj4ke2Nvc3RFc3RpbWF0ZS50b3RhbH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXNsYXRlLTUwMCBtdC0zIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgKiDXlNee15fXmdeoINee15XXoteo15og15zXpNeZINeq16LXqNeZ16TXmSBHZW1pbmkgQVBJINeU16jXqdee15nXmdedLiDXlNeX15nXldeRINeR16TXldei15wg157XqteR16bXoiDXkdeX16nXkdeV158g15QtR29vZ2xlIENsb3VkINep15zXmi5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgZGlzYWJsZWQ9e21vZGUgPT09ICdTRVFVRUwnICYmICFzZXF1ZWxDb250ZXh0fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcta2lkLXllbGxvdyBob3ZlcjpiZy15ZWxsb3ctNDAwIHRleHQta2lkLXRleHQgdGV4dC14bCBmb250LWJvbGQgcHktNSByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgdHJhbnNmb3JtIHRyYW5zaXRpb24gaG92ZXI6LXRyYW5zbGF0ZS15LTEgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7bW9kZSA9PT0gJ1NFUVVFTCcgPyAnQ3JlYXRlIFNlcXVlbCEg8J+UhCcgOiAodG9waWMudHJpbSgpID8gJ0NyZWF0ZSBNeSBCb29rISDwn5qAJyA6ICdTdXJwcmlzZSBNZSEg8J+OsicpfVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDcmVhdGlvbkZvcm07XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsImFuYWx5emVCb29rUGRmIiwiZ2VuZXJhdGVQYWdlQXVkaW8iLCJnZW5lcmF0ZVN0b3J5SWRlYSIsIkFSVF9TVFlMRVMiLCJpZCIsImxhYmVsIiwidmFsdWUiLCJWT0lDRV9PUFRJT05TIiwiZ2VuZGVyIiwiQ09TVFMiLCJJTUFHRSIsIkFVRElPX1BBR0UiLCJURVhUX0JBU0UiLCJyZWFkRmlsZUFzQmFzZTY0IiwiZmlsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsImJhc2U2NCIsInNwbGl0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJDcmVhdGlvbkZvcm0iLCJvblN1Ym1pdCIsImlzTG9hZGluZyIsIm1vZGUiLCJzZXRNb2RlIiwiYWdlUmFuZ2UiLCJzZXRBZ2VSYW5nZSIsInRvcGljIiwic2V0VG9waWMiLCJwYWdlQ291bnQiLCJzZXRQYWdlQ291bnQiLCJzZWxlY3RlZFN0eWxlIiwic2V0U2VsZWN0ZWRTdHlsZSIsImlzR2VuZXJhdGluZ0lkZWEiLCJzZXRJc0dlbmVyYXRpbmdJZGVhIiwiYXVkaW9FbmFibGVkIiwic2V0QXVkaW9FbmFibGVkIiwic2VsZWN0ZWRWb2ljZSIsInNldFNlbGVjdGVkVm9pY2UiLCJwcmV2aWV3aW5nVm9pY2UiLCJzZXRQcmV2aWV3aW5nVm9pY2UiLCJhdWRpb0NvbnRleHRSZWYiLCJhY3RpdmVTb3VyY2VSZWYiLCJzZXF1ZWxDb250ZXh0Iiwic2V0U2VxdWVsQ29udGV4dCIsImlzQW5hbHl6aW5nUGRmIiwic2V0SXNBbmFseXppbmdQZGYiLCJjdXJyZW50Iiwic3RvcCIsImNsb3NlIiwiY29zdEVzdGltYXRlIiwiaW1hZ2VzQ29zdCIsImF1ZGlvQ29zdCIsInRvdGFsIiwiaW1hZ2VzIiwidG9GaXhlZCIsImF1ZGlvIiwiYmFzZSIsImhhbmRsZVBsYXlQcmV2aWV3Iiwidm9pY2VJZCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJlcnIiLCJ3aW5kb3ciLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJzYW1wbGVSYXRlIiwic3RhdGUiLCJyZXN1bWUiLCJidWZmZXIiLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJvbmVuZGVkIiwic3RhcnQiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVGaWxlVXBsb2FkIiwidGFyZ2V0IiwiZmlsZXMiLCJ0eXBlIiwiZXZlbnQiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwibWV0YWRhdGEiLCJwYWdlcyIsImZ1bGxTdG9yeSIsIm1hcCIsInAiLCJoZWJyZXdUZXh0Iiwiam9pbiIsInRpdGxlIiwic3VtbWFyeSIsImNoYXJhY3RlckRlc2NyaXB0aW9uIiwibWFpbkNoYXJhY3RlckRlc2NyaXB0aW9uIiwiYXJ0U3R5bGUiLCJiYXNlQ2hhcmFjdGVySW1hZ2UiLCJiYXNlQ2hhcmFjdGVySW1hZ2VVcmwiLCJ0YXJnZXRBZ2UiLCJhbGVydCIsInJlYWRBc1RleHQiLCJjb250ZXh0IiwiaGFuZGxlU3VnZ2VzdElkZWEiLCJpZGVhIiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJmaW5hbEFydFN0eWxlIiwic3R5bGVPYmoiLCJmaW5kIiwicyIsImZpbmFsVG9waWMiLCJ0cmltIiwicHJldmlvdXNDb250ZXh0IiwidW5kZWZpbmVkIiwidm9pY2VOYW1lIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiZm9ybSIsInNwYW4iLCJoMyIsImlucHV0IiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJhZ2UiLCJzdHlsZSIsInZvaWNlIiwibWluIiwibWF4IiwicGFyc2VJbnQiLCJodG1sRm9yIiwiZGlzYWJsZWQiLCJ0ZXh0YXJlYSIsInJvd3MiLCJwbGFjZWhvbGRlciIsImg0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/CreationForm.tsx\n");

/***/ }),

/***/ "(ssr)/./components/DriveConnectButton.tsx":
/*!*******************************************!*\
  !*** ./components/DriveConnectButton.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_oauth_google__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-oauth/google */ \"(ssr)/./node_modules/@react-oauth/google/dist/index.esm.js\");\n/* harmony import */ var _services_googleDrive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/googleDrive */ \"(ssr)/./services/googleDrive.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nconst GOOGLE_CLIENT_ID = \"your_google_client_id_here\" || 0;\nconst DriveConnectButtonInner = ({ onConnect, onDisconnect })=>{\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DriveConnectButtonInner.useEffect\": ()=>{\n            setIsConnected((0,_services_googleDrive__WEBPACK_IMPORTED_MODULE_3__.hasDriveAccess)());\n        }\n    }[\"DriveConnectButtonInner.useEffect\"], []);\n    const login = (0,_react_oauth_google__WEBPACK_IMPORTED_MODULE_2__.useGoogleLogin)({\n        onSuccess: {\n            \"DriveConnectButtonInner.useGoogleLogin[login]\": (response)=>{\n                (0,_services_googleDrive__WEBPACK_IMPORTED_MODULE_3__.setDriveAccessToken)(response.access_token);\n                setIsConnected(true);\n                setIsLoading(false);\n                onConnect?.();\n            }\n        }[\"DriveConnectButtonInner.useGoogleLogin[login]\"],\n        onError: {\n            \"DriveConnectButtonInner.useGoogleLogin[login]\": (error)=>{\n                console.error('Google login error:', error);\n                setIsLoading(false);\n                alert(' .    Google Cloud Console .');\n            }\n        }[\"DriveConnectButtonInner.useGoogleLogin[login]\"],\n        scope: 'https://www.googleapis.com/auth/drive.file',\n        flow: 'implicit'\n    });\n    const handleConnect = ()=>{\n        setIsLoading(true);\n        login();\n    };\n    const handleDisconnect = ()=>{\n        (0,_services_googleDrive__WEBPACK_IMPORTED_MODULE_3__.clearDriveAccess)();\n        setIsConnected(false);\n        onDisconnect?.();\n    };\n    if (isConnected) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: handleDisconnect,\n            className: \"flex items-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-bold hover:bg-green-200 transition-colors\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: \"\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                    lineNumber: 55,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"hidden sm:inline\",\n                    children: \" -Drive\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                    lineNumber: 56,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs opacity-60\",\n                    children: \"|\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                    lineNumber: 57,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-green-600 hover:text-red-500\",\n                    children: \"\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                    lineNumber: 58,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n            lineNumber: 51,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: handleConnect,\n        disabled: isLoading,\n        className: \"flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 rounded-lg text-sm font-bold text-slate-700 hover:border-blue-400 hover:bg-blue-50 transition-all disabled:opacity-50\",\n        children: [\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                lineNumber: 70,\n                columnNumber: 17\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                className: \"w-5 h-5\",\n                viewBox: \"0 0 87.3 78\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"m6.6 66.85 3.85 6.65c.8 1.4 1.95 2.5 3.3 3.3l13.75-23.8h-27.5c0 1.55.4 3.1 1.2 4.5z\",\n                        fill: \"#0066da\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                        lineNumber: 73,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"m43.65 25-13.75-23.8c-1.35.8-2.5 1.9-3.3 3.3l-25.4 44a9.06 9.06 0 0 0 -1.2 4.5h27.5z\",\n                        fill: \"#00ac47\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"m73.55 76.8c1.35-.8 2.5-1.9 3.3-3.3l1.6-2.75 7.65-13.25c.8-1.4 1.2-2.95 1.2-4.5h-27.502l5.852 11.5z\",\n                        fill: \"#ea4335\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"m43.65 25 13.75-23.8c-1.35-.8-2.9-1.2-4.5-1.2h-18.5c-1.6 0-3.15.45-4.5 1.2z\",\n                        fill: \"#00832d\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                        lineNumber: 76,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"m59.8 53h-32.3l-13.75 23.8c1.35.8 2.9 1.2 4.5 1.2h50.8c1.6 0 3.15-.45 4.5-1.2z\",\n                        fill: \"#2684fc\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                        lineNumber: 77,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"m73.4 26.5-12.7-22c-.8-1.4-1.95-2.5-3.3-3.3l-13.75 23.8 16.15 28h27.45c0-1.55-.4-3.1-1.2-4.5z\",\n                        fill: \"#ffba00\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                        lineNumber: 78,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                lineNumber: 72,\n                columnNumber: 17\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: \" -Drive\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                lineNumber: 81,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n        lineNumber: 64,\n        columnNumber: 9\n    }, undefined);\n};\n// Wrapper with OAuth Provider\nconst DriveConnectButton = (props)=>{\n    if (!GOOGLE_CLIENT_ID) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center gap-2 px-3 py-2 bg-yellow-50 border border-yellow-200 rounded-lg text-xs text-yellow-800\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: \"\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                    lineNumber: 91,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"font-bold\",\n                            children: \"Google Drive  \"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                            lineNumber: 93,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[10px] text-yellow-600 mt-0.5\",\n                            children: \"  NEXT_PUBLIC_GOOGLE_CLIENT_ID  .env.local\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                            lineNumber: 94,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n                    lineNumber: 92,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n            lineNumber: 90,\n            columnNumber: 13\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_oauth_google__WEBPACK_IMPORTED_MODULE_2__.GoogleOAuthProvider, {\n        clientId: GOOGLE_CLIENT_ID,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DriveConnectButtonInner, {\n            ...props\n        }, void 0, false, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n            lineNumber: 104,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\DriveConnectButton.tsx\",\n        lineNumber: 103,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DriveConnectButton);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0RyaXZlQ29ubmVjdEJ1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFa0Q7QUFDdUI7QUFDcUI7QUFFOUYsTUFBTVEsbUJBQW1CQyw0QkFBd0MsSUFBSSxDQUFFO0FBT3ZFLE1BQU1HLDBCQUE2RCxDQUFDLEVBQUVDLFNBQVMsRUFBRUMsWUFBWSxFQUFFO0lBQzNGLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHZiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNnQixXQUFXQyxhQUFhLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUUzQ0MsZ0RBQVNBOzZDQUFDO1lBQ05jLGVBQWVWLHFFQUFjQTtRQUNqQzs0Q0FBRyxFQUFFO0lBRUwsTUFBTWEsUUFBUWYsbUVBQWNBLENBQUM7UUFDekJnQixTQUFTOzZEQUFFLENBQUNDO2dCQUNSaEIsMEVBQW1CQSxDQUFDZ0IsU0FBU0MsWUFBWTtnQkFDekNOLGVBQWU7Z0JBQ2ZFLGFBQWE7Z0JBQ2JMO1lBQ0o7O1FBQ0FVLE9BQU87NkRBQUUsQ0FBQ0M7Z0JBQ05DLFFBQVFELEtBQUssQ0FBQyx1QkFBdUJBO2dCQUNyQ04sYUFBYTtnQkFDYlEsTUFBTTtZQUNWOztRQUNBQyxPQUFPO1FBQ1BDLE1BQU07SUFDVjtJQUVBLE1BQU1DLGdCQUFnQjtRQUNsQlgsYUFBYTtRQUNiQztJQUNKO0lBRUEsTUFBTVcsbUJBQW1CO1FBQ3JCdkIsdUVBQWdCQTtRQUNoQlMsZUFBZTtRQUNmRjtJQUNKO0lBRUEsSUFBSUMsYUFBYTtRQUNiLHFCQUNJLDhEQUFDZ0I7WUFDR0MsU0FBU0Y7WUFDVEcsV0FBVTs7OEJBRVYsOERBQUNDOzhCQUFLOzs7Ozs7OEJBQ04sOERBQUNBO29CQUFLRCxXQUFVOzhCQUFtQjs7Ozs7OzhCQUNuQyw4REFBQ0M7b0JBQUtELFdBQVU7OEJBQXFCOzs7Ozs7OEJBQ3JDLDhEQUFDQztvQkFBS0QsV0FBVTs4QkFBNEM7Ozs7Ozs7Ozs7OztJQUd4RTtJQUVBLHFCQUNJLDhEQUFDRjtRQUNHQyxTQUFTSDtRQUNUTSxVQUFVbEI7UUFDVmdCLFdBQVU7O1lBRVRoQiwwQkFDRyw4REFBQ2lCO2dCQUFLRCxXQUFVOzs7OzswQ0FFaEIsOERBQUNHO2dCQUFJSCxXQUFVO2dCQUFVSSxTQUFRO2dCQUFjQyxPQUFNOztrQ0FDakQsOERBQUNDO3dCQUFLQyxHQUFFO3dCQUFzRkMsTUFBSzs7Ozs7O2tDQUNuRyw4REFBQ0Y7d0JBQUtDLEdBQUU7d0JBQXVGQyxNQUFLOzs7Ozs7a0NBQ3BHLDhEQUFDRjt3QkFBS0MsR0FBRTt3QkFBc0dDLE1BQUs7Ozs7OztrQ0FDbkgsOERBQUNGO3dCQUFLQyxHQUFFO3dCQUE4RUMsTUFBSzs7Ozs7O2tDQUMzRiw4REFBQ0Y7d0JBQUtDLEdBQUU7d0JBQWlGQyxNQUFLOzs7Ozs7a0NBQzlGLDhEQUFDRjt3QkFBS0MsR0FBRTt3QkFBZ0dDLE1BQUs7Ozs7Ozs7Ozs7OzswQkFHckgsOERBQUNQOzBCQUFLOzs7Ozs7Ozs7Ozs7QUFHbEI7QUFFQSw4QkFBOEI7QUFDOUIsTUFBTVEscUJBQXdELENBQUNDO0lBQzNELElBQUksQ0FBQ25DLGtCQUFrQjtRQUNuQixxQkFDSSw4REFBQ29DO1lBQUlYLFdBQVU7OzhCQUNYLDhEQUFDQzs4QkFBSzs7Ozs7OzhCQUNOLDhEQUFDVTtvQkFBSVgsV0FBVTs7c0NBQ1gsOERBQUNDOzRCQUFLRCxXQUFVO3NDQUFZOzs7Ozs7c0NBQzVCLDhEQUFDQzs0QkFBS0QsV0FBVTtzQ0FBcUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQU1yRTtJQUVBLHFCQUNJLDhEQUFDOUIsb0VBQW1CQTtRQUFDMEMsVUFBVXJDO2tCQUMzQiw0RUFBQ0k7WUFBeUIsR0FBRytCLEtBQUs7Ozs7Ozs7Ozs7O0FBRzlDO0FBRUEsaUVBQWVELGtCQUFrQkEsRUFBQSIsInNvdXJjZXMiOlsiQzpcXEN1cnNvclxca2lkaS1ib29haVxcY29tcG9uZW50c1xcRHJpdmVDb25uZWN0QnV0dG9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEdvb2dsZU9BdXRoUHJvdmlkZXIsIHVzZUdvb2dsZUxvZ2luIH0gZnJvbSAnQHJlYWN0LW9hdXRoL2dvb2dsZSdcclxuaW1wb3J0IHsgc2V0RHJpdmVBY2Nlc3NUb2tlbiwgaGFzRHJpdmVBY2Nlc3MsIGNsZWFyRHJpdmVBY2Nlc3MgfSBmcm9tICdAL3NlcnZpY2VzL2dvb2dsZURyaXZlJ1xyXG5cclxuY29uc3QgR09PR0xFX0NMSUVOVF9JRCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9DTElFTlRfSUQgfHwgJydcclxuXHJcbmludGVyZmFjZSBEcml2ZUNvbm5lY3RCdXR0b25Qcm9wcyB7XHJcbiAgICBvbkNvbm5lY3Q/OiAoKSA9PiB2b2lkXHJcbiAgICBvbkRpc2Nvbm5lY3Q/OiAoKSA9PiB2b2lkXHJcbn1cclxuXHJcbmNvbnN0IERyaXZlQ29ubmVjdEJ1dHRvbklubmVyOiBSZWFjdC5GQzxEcml2ZUNvbm5lY3RCdXR0b25Qcm9wcz4gPSAoeyBvbkNvbm5lY3QsIG9uRGlzY29ubmVjdCB9KSA9PiB7XHJcbiAgICBjb25zdCBbaXNDb25uZWN0ZWQsIHNldElzQ29ubmVjdGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQoaGFzRHJpdmVBY2Nlc3MoKSlcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IGxvZ2luID0gdXNlR29vZ2xlTG9naW4oe1xyXG4gICAgICAgIG9uU3VjY2VzczogKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIHNldERyaXZlQWNjZXNzVG9rZW4ocmVzcG9uc2UuYWNjZXNzX3Rva2VuKVxyXG4gICAgICAgICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKVxyXG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXHJcbiAgICAgICAgICAgIG9uQ29ubmVjdD8uKClcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRXJyb3I6IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdHb29nbGUgbG9naW4gZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcclxuICAgICAgICAgICAgYWxlcnQoJ9eU15TXqteX15HXqNeV16og16DXm9ep15zXlC4g15XXldeT15Ag16nXlNeS15PXqNeqINeQ16ogR29vZ2xlIENsb3VkIENvbnNvbGUg16DXm9eV158uJylcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjb3BlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZS5maWxlJyxcclxuICAgICAgICBmbG93OiAnaW1wbGljaXQnLCAgLy8gVXNlIGltcGxpY2l0IGZsb3cgLSBubyByZWRpcmVjdCBuZWVkZWRcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgaGFuZGxlQ29ubmVjdCA9ICgpID0+IHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcclxuICAgICAgICBsb2dpbigpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGFuZGxlRGlzY29ubmVjdCA9ICgpID0+IHtcclxuICAgICAgICBjbGVhckRyaXZlQWNjZXNzKClcclxuICAgICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSlcclxuICAgICAgICBvbkRpc2Nvbm5lY3Q/LigpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGlzY29ubmVjdH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAgcm91bmRlZC1sZyB0ZXh0LXNtIGZvbnQtYm9sZCBob3ZlcjpiZy1ncmVlbi0yMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj7inJM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+157Xl9eV15HXqCDXnC1Ecml2ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgb3BhY2l0eS02MFwiPnw8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JlZW4tNjAwIGhvdmVyOnRleHQtcmVkLTUwMFwiPteg16rXpzwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25uZWN0fVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctd2hpdGUgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTIwMCByb3VuZGVkLWxnIHRleHQtc20gZm9udC1ib2xkIHRleHQtc2xhdGUtNzAwIGhvdmVyOmJvcmRlci1ibHVlLTQwMCBob3ZlcjpiZy1ibHVlLTUwIHRyYW5zaXRpb24tYWxsIGRpc2FibGVkOm9wYWNpdHktNTBcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgICAge2lzTG9hZGluZyA/IChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTQwMCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgdmlld0JveD1cIjAgMCA4Ny4zIDc4XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJtNi42IDY2Ljg1IDMuODUgNi42NWMuOCAxLjQgMS45NSAyLjUgMy4zIDMuM2wxMy43NS0yMy44aC0yNy41YzAgMS41NS40IDMuMSAxLjIgNC41elwiIGZpbGw9XCIjMDA2NmRhXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwibTQzLjY1IDI1LTEzLjc1LTIzLjhjLTEuMzUuOC0yLjUgMS45LTMuMyAzLjNsLTI1LjQgNDRhOS4wNiA5LjA2IDAgMCAwIC0xLjIgNC41aDI3LjV6XCIgZmlsbD1cIiMwMGFjNDdcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJtNzMuNTUgNzYuOGMxLjM1LS44IDIuNS0xLjkgMy4zLTMuM2wxLjYtMi43NSA3LjY1LTEzLjI1Yy44LTEuNCAxLjItMi45NSAxLjItNC41aC0yNy41MDJsNS44NTIgMTEuNXpcIiBmaWxsPVwiI2VhNDMzNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIm00My42NSAyNSAxMy43NS0yMy44Yy0xLjM1LS44LTIuOS0xLjItNC41LTEuMmgtMTguNWMtMS42IDAtMy4xNS40NS00LjUgMS4yelwiIGZpbGw9XCIjMDA4MzJkXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwibTU5LjggNTNoLTMyLjNsLTEzLjc1IDIzLjhjMS4zNS44IDIuOSAxLjIgNC41IDEuMmg1MC44YzEuNiAwIDMuMTUtLjQ1IDQuNS0xLjJ6XCIgZmlsbD1cIiMyNjg0ZmNcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJtNzMuNCAyNi41LTEyLjctMjJjLS44LTEuNC0xLjk1LTIuNS0zLjMtMy4zbC0xMy43NSAyMy44IDE2LjE1IDI4aDI3LjQ1YzAtMS41NS0uNC0zLjEtMS4yLTQuNXpcIiBmaWxsPVwiI2ZmYmEwMFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPHNwYW4+15TXqteX15HXqCDXnC1Ecml2ZTwvc3Bhbj5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgIClcclxufVxyXG5cclxuLy8gV3JhcHBlciB3aXRoIE9BdXRoIFByb3ZpZGVyXHJcbmNvbnN0IERyaXZlQ29ubmVjdEJ1dHRvbjogUmVhY3QuRkM8RHJpdmVDb25uZWN0QnV0dG9uUHJvcHM+ID0gKHByb3BzKSA9PiB7XHJcbiAgICBpZiAoIUdPT0dMRV9DTElFTlRfSUQpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiBiZy15ZWxsb3ctNTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctMjAwIHJvdW5kZWQtbGcgdGV4dC14cyB0ZXh0LXllbGxvdy04MDBcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPuKaoO+4jzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPkdvb2dsZSBEcml2ZSDXnNeQINee15XXkteT16g8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC15ZWxsb3ctNjAwIG10LTAuNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICDXmdepINec15TXkteT15nXqCBORVhUX1BVQkxJQ19HT09HTEVfQ0xJRU5UX0lEINeR16fXldeR16UgLmVudi5sb2NhbFxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8R29vZ2xlT0F1dGhQcm92aWRlciBjbGllbnRJZD17R09PR0xFX0NMSUVOVF9JRH0+XHJcbiAgICAgICAgICAgIDxEcml2ZUNvbm5lY3RCdXR0b25Jbm5lciB7Li4ucHJvcHN9IC8+XHJcbiAgICAgICAgPC9Hb29nbGVPQXV0aFByb3ZpZGVyPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcml2ZUNvbm5lY3RCdXR0b25cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJHb29nbGVPQXV0aFByb3ZpZGVyIiwidXNlR29vZ2xlTG9naW4iLCJzZXREcml2ZUFjY2Vzc1Rva2VuIiwiaGFzRHJpdmVBY2Nlc3MiLCJjbGVhckRyaXZlQWNjZXNzIiwiR09PR0xFX0NMSUVOVF9JRCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19HT09HTEVfQ0xJRU5UX0lEIiwiRHJpdmVDb25uZWN0QnV0dG9uSW5uZXIiLCJvbkNvbm5lY3QiLCJvbkRpc2Nvbm5lY3QiLCJpc0Nvbm5lY3RlZCIsInNldElzQ29ubmVjdGVkIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwibG9naW4iLCJvblN1Y2Nlc3MiLCJyZXNwb25zZSIsImFjY2Vzc190b2tlbiIsIm9uRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJhbGVydCIsInNjb3BlIiwiZmxvdyIsImhhbmRsZUNvbm5lY3QiLCJoYW5kbGVEaXNjb25uZWN0IiwiYnV0dG9uIiwib25DbGljayIsImNsYXNzTmFtZSIsInNwYW4iLCJkaXNhYmxlZCIsInN2ZyIsInZpZXdCb3giLCJ4bWxucyIsInBhdGgiLCJkIiwiZmlsbCIsIkRyaXZlQ29ubmVjdEJ1dHRvbiIsInByb3BzIiwiZGl2IiwiY2xpZW50SWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/DriveConnectButton.tsx\n");

/***/ }),

/***/ "(ssr)/./components/Header.tsx":
/*!*******************************!*\
  !*** ./components/Header.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types */ \"(ssr)/./types.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst Header = ({ onNavigate, onChangeKey, onShowGallery })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n        className: \"w-full bg-white shadow-sm sticky top-0 z-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center h-16\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center cursor-pointer\",\n                        onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.AppView.HOME),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-3xl mr-2\",\n                                children: \"\\uD83D\\uDE80\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                lineNumber: 21,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-extrabold text-kid-blue tracking-tight\",\n                                children: [\n                                    \"KidCraft \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-kid-orange\",\n                                        children: \"AI\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                        lineNumber: 23,\n                                        columnNumber: 24\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                lineNumber: 22,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                        lineNumber: 17,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            onShowGallery && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onShowGallery,\n                                className: \"text-kid-blue hover:text-teal-600 px-3 py-1 rounded-full text-sm font-bold border border-kid-blue/30 hover:border-kid-blue transition-colors flex items-center gap-1\",\n                                title: \" \",\n                                children: [\n                                    \"\\uD83D\\uDCDA \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"hidden sm:inline\",\n                                        children: \" \"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                        lineNumber: 33,\n                                        columnNumber: 20\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                lineNumber: 28,\n                                columnNumber: 15\n                            }, undefined),\n                            onChangeKey && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onChangeKey,\n                                className: \"text-slate-400 hover:text-slate-600 px-3 py-1 rounded-full text-xs font-bold border border-slate-200 hover:border-slate-300 transition-colors flex items-center gap-1\",\n                                title: \"  API\",\n                                children: [\n                                    \"\\uD83D\\uDD11 \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"hidden sm:inline\",\n                                        children: \"API\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                        lineNumber: 42,\n                                        columnNumber: 20\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                lineNumber: 37,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>onNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.AppView.CREATE),\n                                className: \"bg-kid-yellow hover:bg-yellow-400 text-kid-text font-bold py-2 px-6 rounded-full transition-transform transform hover:scale-105 shadow-md\",\n                                children: \"Start Creating\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                                lineNumber: 45,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n                lineNumber: 16,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n            lineNumber: 15,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Header.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Header);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0hlYWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUV5QjtBQUNRO0FBUWpDLE1BQU1FLFNBQWdDLENBQUMsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUVDLGFBQWEsRUFBRTtJQUMvRSxxQkFDRSw4REFBQ0M7UUFBT0MsV0FBVTtrQkFDaEIsNEVBQUNDO1lBQUlELFdBQVU7c0JBQ2IsNEVBQUNDO2dCQUFJRCxXQUFVOztrQ0FDYiw4REFBQ0M7d0JBQ0NELFdBQVU7d0JBQ1ZFLFNBQVMsSUFBTU4sV0FBV0YsMkNBQU9BLENBQUNTLElBQUk7OzBDQUV0Qyw4REFBQ0M7Z0NBQUtKLFdBQVU7MENBQWdCOzs7Ozs7MENBQ2hDLDhEQUFDSztnQ0FBR0wsV0FBVTs7b0NBQXVEO2tEQUMxRCw4REFBQ0k7d0NBQUtKLFdBQVU7a0RBQWtCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBRy9DLDhEQUFDTTt3QkFBSU4sV0FBVTs7NEJBQ1pGLCtCQUNDLDhEQUFDUztnQ0FDQ0wsU0FBU0o7Z0NBQ1RFLFdBQVU7Z0NBQ1ZRLE9BQU07O29DQUNQO2tEQUNJLDhEQUFDSjt3Q0FBS0osV0FBVTtrREFBbUI7Ozs7Ozs7Ozs7Ozs0QkFHekNILDZCQUNDLDhEQUFDVTtnQ0FDQ0wsU0FBU0w7Z0NBQ1RHLFdBQVU7Z0NBQ1ZRLE9BQU07O29DQUNQO2tEQUNJLDhEQUFDSjt3Q0FBS0osV0FBVTtrREFBbUI7Ozs7Ozs7Ozs7OzswQ0FHMUMsOERBQUNPO2dDQUNDTCxTQUFTLElBQU1OLFdBQVdGLDJDQUFPQSxDQUFDZSxNQUFNO2dDQUN4Q1QsV0FBVTswQ0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFiO0FBRUEsaUVBQWVMLE1BQU1BLEVBQUEiLCJzb3VyY2VzIjpbIkM6XFxDdXJzb3JcXGtpZGktYm9vYWlcXGNvbXBvbmVudHNcXEhlYWRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEFwcFZpZXcgfSBmcm9tICdAL3R5cGVzJ1xyXG5cclxuaW50ZXJmYWNlIEhlYWRlclByb3BzIHtcclxuICBvbk5hdmlnYXRlOiAodmlldzogQXBwVmlldykgPT4gdm9pZFxyXG4gIG9uQ2hhbmdlS2V5PzogKCkgPT4gdm9pZFxyXG4gIG9uU2hvd0dhbGxlcnk/OiAoKSA9PiB2b2lkXHJcbn1cclxuXHJcbmNvbnN0IEhlYWRlcjogUmVhY3QuRkM8SGVhZGVyUHJvcHM+ID0gKHsgb25OYXZpZ2F0ZSwgb25DaGFuZ2VLZXksIG9uU2hvd0dhbGxlcnkgfSkgPT4ge1xyXG4gIHJldHVybiAoXHJcbiAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInctZnVsbCBiZy13aGl0ZSBzaGFkb3ctc20gc3RpY2t5IHRvcC0wIHotNTBcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGgtMTZcIj5cclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKEFwcFZpZXcuSE9NRSl9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtM3hsIG1yLTJcIj7wn5qAPC9zcGFuPlxyXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1leHRyYWJvbGQgdGV4dC1raWQtYmx1ZSB0cmFja2luZy10aWdodFwiPlxyXG4gICAgICAgICAgICAgIEtpZENyYWZ0IDxzcGFuIGNsYXNzTmFtZT1cInRleHQta2lkLW9yYW5nZVwiPkFJPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2gxPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICAgIHtvblNob3dHYWxsZXJ5ICYmIChcclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblNob3dHYWxsZXJ5fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1raWQtYmx1ZSBob3Zlcjp0ZXh0LXRlYWwtNjAwIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgdGV4dC1zbSBmb250LWJvbGQgYm9yZGVyIGJvcmRlci1raWQtYmx1ZS8zMCBob3Zlcjpib3JkZXIta2lkLWJsdWUgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxyXG4gICAgICAgICAgICAgICAgdGl0bGU9XCLXlNeh16TXqNeZ150g16nXnNeZXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICDwn5OaIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj7XlNeh16TXqNeZ150g16nXnNeZPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICB7b25DaGFuZ2VLZXkgJiYgKFxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2hhbmdlS2V5fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtYm9sZCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBob3Zlcjpib3JkZXItc2xhdGUtMzAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcclxuICAgICAgICAgICAgICAgIHRpdGxlPVwi15TXl9ec16Mg157XpNeq15cgQVBJXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICDwn5SRIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5BUEk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk5hdmlnYXRlKEFwcFZpZXcuQ1JFQVRFKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1raWQteWVsbG93IGhvdmVyOmJnLXllbGxvdy00MDAgdGV4dC1raWQtdGV4dCBmb250LWJvbGQgcHktMiBweC02IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLXRyYW5zZm9ybSB0cmFuc2Zvcm0gaG92ZXI6c2NhbGUtMTA1IHNoYWRvdy1tZFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBTdGFydCBDcmVhdGluZ1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvbmF2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvaGVhZGVyPlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkFwcFZpZXciLCJIZWFkZXIiLCJvbk5hdmlnYXRlIiwib25DaGFuZ2VLZXkiLCJvblNob3dHYWxsZXJ5IiwiaGVhZGVyIiwiY2xhc3NOYW1lIiwiZGl2Iiwib25DbGljayIsIkhPTUUiLCJzcGFuIiwiaDEiLCJuYXYiLCJidXR0b24iLCJ0aXRsZSIsIkNSRUFURSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/Header.tsx\n");

/***/ }),

/***/ "(ssr)/./components/Hero.tsx":
/*!*****************************!*\
  !*** ./components/Hero.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst Hero = ({ onStart })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative overflow-hidden bg-sky-50 py-16 sm:py-24\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center text-center\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-sm font-bold text-kid-blue uppercase tracking-wide mb-2\",\n                    children: \"The Magic of AI for Kids\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                    lineNumber: 13,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-4xl sm:text-6xl font-extrabold text-slate-800 mb-6 leading-tight\",\n                    children: [\n                        \"Create Magical Stories \",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                            lineNumber: 17,\n                            columnNumber: 34\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-kid-orange\",\n                            children: \"In Seconds.\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                            lineNumber: 18,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                    lineNumber: 16,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-4 text-xl text-slate-600 max-w-2xl mx-auto mb-10\",\n                    children: \"Turn any idea into a fully illustrated children's book, complete with educational values, Hebrew translations, and beautiful characters.\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col sm:flex-row gap-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onStart,\n                        className: \"bg-kid-blue text-white text-xl font-bold py-4 px-10 rounded-full shadow-lg hover:bg-teal-400 hover:shadow-xl transition-all transform hover:-translate-y-1\",\n                        children: \"Create a Book Now \"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                    lineNumber: 25,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-3 gap-8 mt-20 text-left\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white p-8 rounded-3xl shadow-sm border border-slate-100\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-4xl mb-4\",\n                                    children: \"\\uD83C\\uDFA8\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 37,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-bold text-slate-800 mb-2\",\n                                    children: \"Instant Illustrations\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 38,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-slate-600\",\n                                    children: \"Magical 3D Pixar-style visuals generated automatically for your story.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 39,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                            lineNumber: 36,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white p-8 rounded-3xl shadow-sm border border-slate-100\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-4xl mb-4\",\n                                    children: \"\\uD83E\\uDDE0\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 42,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-bold text-slate-800 mb-2\",\n                                    children: \"Educational Value\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 43,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-slate-600\",\n                                    children: \"Every story comes with a tailored moral, learning goals, and age-appropriate language.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 44,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                            lineNumber: 41,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white p-8 rounded-3xl shadow-sm border border-slate-100\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-4xl mb-4\",\n                                    children: \"\\uD83C\\uDF0D\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 47,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-bold text-slate-800 mb-2\",\n                                    children: \"Bilingual\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 48,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-slate-600\",\n                                    children: \"Automatic translation between English and Hebrew to support language learning.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                                    lineNumber: 49,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                            lineNumber: 46,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n                    lineNumber: 35,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Cursor\\\\kidi-booai\\\\components\\\\Hero.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Hero);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0hlcm8udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUV5QjtBQU16QixNQUFNQyxPQUE0QixDQUFDLEVBQUVDLE9BQU8sRUFBRTtJQUM1QyxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNDO29CQUFHRCxXQUFVOzhCQUErRDs7Ozs7OzhCQUc3RSw4REFBQ0U7b0JBQUdGLFdBQVU7O3dCQUF3RTtzQ0FDN0QsOERBQUNHOzs7OztzQ0FDeEIsOERBQUNDOzRCQUFLSixXQUFVO3NDQUFrQjs7Ozs7Ozs7Ozs7OzhCQUVwQyw4REFBQ0s7b0JBQUVMLFdBQVU7OEJBQXNEOzs7Ozs7OEJBS25FLDhEQUFDRDtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ007d0JBQ0NDLFNBQVNUO3dCQUNURSxXQUFVO2tDQUNYOzs7Ozs7Ozs7Ozs4QkFNSCw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNEO29DQUFJQyxXQUFVOzhDQUFnQjs7Ozs7OzhDQUMvQiw4REFBQ1E7b0NBQUdSLFdBQVU7OENBQXdDOzs7Ozs7OENBQ3RELDhEQUFDSztvQ0FBRUwsV0FBVTs4Q0FBaUI7Ozs7Ozs7Ozs7OztzQ0FFaEMsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0Q7b0NBQUlDLFdBQVU7OENBQWdCOzs7Ozs7OENBQy9CLDhEQUFDUTtvQ0FBR1IsV0FBVTs4Q0FBd0M7Ozs7Ozs4Q0FDdEQsOERBQUNLO29DQUFFTCxXQUFVOzhDQUFpQjs7Ozs7Ozs7Ozs7O3NDQUVoQyw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRDtvQ0FBSUMsV0FBVTs4Q0FBZ0I7Ozs7Ozs4Q0FDL0IsOERBQUNRO29DQUFHUixXQUFVOzhDQUF3Qzs7Ozs7OzhDQUN0RCw4REFBQ0s7b0NBQUVMLFdBQVU7OENBQWlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU0xQztBQUVBLGlFQUFlSCxJQUFJQSxFQUFBIiwic291cmNlcyI6WyJDOlxcQ3Vyc29yXFxraWRpLWJvb2FpXFxjb21wb25lbnRzXFxIZXJvLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuXHJcbmludGVyZmFjZSBIZXJvUHJvcHMge1xyXG4gIG9uU3RhcnQ6ICgpID0+IHZvaWRcclxufVxyXG5cclxuY29uc3QgSGVybzogUmVhY3QuRkM8SGVyb1Byb3BzPiA9ICh7IG9uU3RhcnQgfSkgPT4ge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiBiZy1za3ktNTAgcHktMTYgc206cHktMjRcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LWtpZC1ibHVlIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1iLTJcIj5cclxuICAgICAgICAgIFRoZSBNYWdpYyBvZiBBSSBmb3IgS2lkc1xyXG4gICAgICAgIDwvaDI+XHJcbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtNHhsIHNtOnRleHQtNnhsIGZvbnQtZXh0cmFib2xkIHRleHQtc2xhdGUtODAwIG1iLTYgbGVhZGluZy10aWdodFwiPlxyXG4gICAgICAgICAgQ3JlYXRlIE1hZ2ljYWwgU3RvcmllcyA8YnIgLz5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQta2lkLW9yYW5nZVwiPkluIFNlY29uZHMuPC9zcGFuPlxyXG4gICAgICAgIDwvaDE+XHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LXhsIHRleHQtc2xhdGUtNjAwIG1heC13LTJ4bCBteC1hdXRvIG1iLTEwXCI+XHJcbiAgICAgICAgICBUdXJuIGFueSBpZGVhIGludG8gYSBmdWxseSBpbGx1c3RyYXRlZCBjaGlsZHJlbiZhcG9zO3MgYm9vaywgY29tcGxldGUgd2l0aCBlZHVjYXRpb25hbCB2YWx1ZXMsXHJcbiAgICAgICAgICBIZWJyZXcgdHJhbnNsYXRpb25zLCBhbmQgYmVhdXRpZnVsIGNoYXJhY3RlcnMuXHJcbiAgICAgICAgPC9wPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgZ2FwLTRcIj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17b25TdGFydH1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmcta2lkLWJsdWUgdGV4dC13aGl0ZSB0ZXh0LXhsIGZvbnQtYm9sZCBweS00IHB4LTEwIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgaG92ZXI6YmctdGVhbC00MDAgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIHRyYW5zZm9ybSBob3ZlcjotdHJhbnNsYXRlLXktMVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIENyZWF0ZSBhIEJvb2sgTm93IOKcqFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHsvKiBGZWF0dXJlIEdyaWQgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0zIGdhcC04IG10LTIwIHRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTggcm91bmRlZC0zeGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItc2xhdGUtMTAwXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC00eGwgbWItNFwiPvCfjqg8L2Rpdj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIG1iLTJcIj5JbnN0YW50IElsbHVzdHJhdGlvbnM8L2gzPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTYwMFwiPk1hZ2ljYWwgM0QgUGl4YXItc3R5bGUgdmlzdWFscyBnZW5lcmF0ZWQgYXV0b21hdGljYWxseSBmb3IgeW91ciBzdG9yeS48L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC04IHJvdW5kZWQtM3hsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtNHhsIG1iLTRcIj7wn6egPC9kaXY+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMCBtYi0yXCI+RWR1Y2F0aW9uYWwgVmFsdWU8L2gzPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTYwMFwiPkV2ZXJ5IHN0b3J5IGNvbWVzIHdpdGggYSB0YWlsb3JlZCBtb3JhbCwgbGVhcm5pbmcgZ29hbHMsIGFuZCBhZ2UtYXBwcm9wcmlhdGUgbGFuZ3VhZ2UuPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtOCByb3VuZGVkLTN4bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDBcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+8J+MjTwvZGl2PlxyXG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1zbGF0ZS04MDAgbWItMlwiPkJpbGluZ3VhbDwvaDM+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNjAwXCI+QXV0b21hdGljIHRyYW5zbGF0aW9uIGJldHdlZW4gRW5nbGlzaCBhbmQgSGVicmV3IHRvIHN1cHBvcnQgbGFuZ3VhZ2UgbGVhcm5pbmcuPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBIZXJvXHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkhlcm8iLCJvblN0YXJ0IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJoMSIsImJyIiwic3BhbiIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwiaDMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/Hero.tsx\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(ssr)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDYXBwJTVDJTVDcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHdJQUEwRSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcYXBwXFxcXHBhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cframework%5C%5Cboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cframework%5C%5Cboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(ssr)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-segment.js */ \"(ssr)/./node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(ssr)/./node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/framework/boundary-components.js */ \"(ssr)/./node_modules/next/dist/lib/framework/boundary-components.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/metadata/generate/icon-mark.js */ \"(ssr)/./node_modules/next/dist/lib/metadata/generate/icon-mark.js\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js */ \"(ssr)/./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDYnVpbHRpbiU1QyU1Q2dsb2JhbC1lcnJvci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDQ3Vyc29yJTVDJTVDa2lkaS1ib29haSU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2NsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q0N1cnNvciU1QyU1Q2tpZGktYm9vYWklNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNodHRwLWFjY2Vzcy1mYWxsYmFjayU1QyU1Q2Vycm9yLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDQ3Vyc29yJTVDJTVDa2lkaS1ib29haSU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q21ldGFkYXRhJTVDJTVDYXN5bmMtbWV0YWRhdGEuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q0N1cnNvciU1QyU1Q2tpZGktYm9vYWklNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNsaWIlNUMlNUNmcmFtZXdvcmslNUMlNUNib3VuZGFyeS1jb21wb25lbnRzLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNsaWIlNUMlNUNtZXRhZGF0YSU1QyU1Q2dlbmVyYXRlJTVDJTVDaWNvbi1tYXJrLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNDdXJzb3IlNUMlNUNraWRpLWJvb2FpJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNuZXh0LWRldnRvb2xzJTVDJTVDdXNlcnNwYWNlJTVDJTVDYXBwJTVDJTVDc2VnbWVudC1leHBsb3Jlci1ub2RlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxzUEFBbUk7QUFDbkk7QUFDQSxvT0FBeUg7QUFDekg7QUFDQSwwT0FBNEg7QUFDNUg7QUFDQSxvUkFBa0o7QUFDbEo7QUFDQSx3T0FBMkg7QUFDM0g7QUFDQSw0UEFBc0k7QUFDdEk7QUFDQSxzUUFBMEk7QUFDMUk7QUFDQSw0T0FBNkg7QUFDN0g7QUFDQSxrT0FBNEg7QUFDNUg7QUFDQSw0UUFBOEkiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcYnVpbHRpblxcXFxnbG9iYWwtZXJyb3IuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcY2xpZW50LXNlZ21lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcaHR0cC1hY2Nlc3MtZmFsbGJhY2tcXFxcZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXEN1cnNvclxcXFxraWRpLWJvb2FpXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxtZXRhZGF0YVxcXFxhc3luYy1tZXRhZGF0YS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxDdXJzb3JcXFxca2lkaS1ib29haVxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGxpYlxcXFxmcmFtZXdvcmtcXFxcYm91bmRhcnktY29tcG9uZW50cy5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcQ3Vyc29yXFxcXGtpZGktYm9vYWlcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxsaWJcXFxcbWV0YWRhdGFcXFxcZ2VuZXJhdGVcXFxcaWNvbi1tYXJrLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxDdXJzb3JcXFxca2lkaS1ib29haVxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXG5leHQtZGV2dG9vbHNcXFxcdXNlcnNwYWNlXFxcXGFwcFxcXFxzZWdtZW50LWV4cGxvcmVyLW5vZGUuanNcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cframework%5C%5Cboundary-components.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Nunito%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-nunito%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22nunito%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Fredoka%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-fredoka%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22fredoka%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Rubik%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%2C%5C%22hebrew%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-rubik%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22rubik%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Nunito%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-nunito%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22nunito%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Fredoka%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-fredoka%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22fredoka%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Rubik%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%2C%5C%22hebrew%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-rubik%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22rubik%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CCursor%5C%5Ckidi-booai%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./services/apiKeyManager.ts":
/*!***********************************!*\
  !*** ./services/apiKeyManager.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiKeyManager: () => (/* binding */ apiKeyManager)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ apiKeyManager auto */ const API_KEY_STORAGE_KEY = 'kidcraft_gemini_api_key';\nconst apiKeyManager = {\n    getKey: ()=>{\n        if (true) return null;\n        return localStorage.getItem(API_KEY_STORAGE_KEY);\n    },\n    setKey: (key)=>{\n        if (true) return;\n        localStorage.setItem(API_KEY_STORAGE_KEY, key);\n    },\n    removeKey: ()=>{\n        if (true) return;\n        localStorage.removeItem(API_KEY_STORAGE_KEY);\n    },\n    hasKey: ()=>{\n        return !!apiKeyManager.getKey();\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zZXJ2aWNlcy9hcGlLZXlNYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7bUVBRUEsTUFBTUEsc0JBQXNCO0FBRXJCLE1BQU1DLGdCQUFnQjtJQUN6QkMsUUFBUTtRQUNKLElBQUksSUFBNkIsRUFBRSxPQUFPO1FBQzFDLE9BQU9DLGFBQWFDLE9BQU8sQ0FBQ0o7SUFDaEM7SUFFQUssUUFBUSxDQUFDQztRQUNMLElBQUksSUFBNkIsRUFBRTtRQUNuQ0gsYUFBYUksT0FBTyxDQUFDUCxxQkFBcUJNO0lBQzlDO0lBRUFFLFdBQVc7UUFDUCxJQUFJLElBQTZCLEVBQUU7UUFDbkNMLGFBQWFNLFVBQVUsQ0FBQ1Q7SUFDNUI7SUFFQVUsUUFBUTtRQUNKLE9BQU8sQ0FBQyxDQUFDVCxjQUFjQyxNQUFNO0lBQ2pDO0FBQ0osRUFBQyIsInNvdXJjZXMiOlsiQzpcXEN1cnNvclxca2lkaS1ib29haVxcc2VydmljZXNcXGFwaUtleU1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXHJcblxyXG5jb25zdCBBUElfS0VZX1NUT1JBR0VfS0VZID0gJ2tpZGNyYWZ0X2dlbWluaV9hcGlfa2V5J1xyXG5cclxuZXhwb3J0IGNvbnN0IGFwaUtleU1hbmFnZXIgPSB7XHJcbiAgICBnZXRLZXk6ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsXHJcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKEFQSV9LRVlfU1RPUkFHRV9LRVkpXHJcbiAgICB9LFxyXG5cclxuICAgIHNldEtleTogKGtleTogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShBUElfS0VZX1NUT1JBR0VfS0VZLCBrZXkpXHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZUtleTogKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oQVBJX0tFWV9TVE9SQUdFX0tFWSlcclxuICAgIH0sXHJcblxyXG4gICAgaGFzS2V5OiAoKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgcmV0dXJuICEhYXBpS2V5TWFuYWdlci5nZXRLZXkoKVxyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJBUElfS0VZX1NUT1JBR0VfS0VZIiwiYXBpS2V5TWFuYWdlciIsImdldEtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRLZXkiLCJrZXkiLCJzZXRJdGVtIiwicmVtb3ZlS2V5IiwicmVtb3ZlSXRlbSIsImhhc0tleSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./services/apiKeyManager.ts\n");

/***/ }),

/***/ "(ssr)/./services/firebase.ts":
/*!******************************!*\
  !*** ./services/firebase.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkSimilarPrompts: () => (/* binding */ checkSimilarPrompts),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   getSavedBooks: () => (/* binding */ getSavedBooks),\n/* harmony export */   saveBookPrompts: () => (/* binding */ saveBookPrompts),\n/* harmony export */   saveBookRecord: () => (/* binding */ saveBookRecord),\n/* harmony export */   storage: () => (/* binding */ storage),\n/* harmony export */   uploadAudio: () => (/* binding */ uploadAudio),\n/* harmony export */   uploadPdf: () => (/* binding */ uploadPdf),\n/* harmony export */   uploadThumbnail: () => (/* binding */ uploadThumbnail)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(ssr)/./node_modules/firebase/app/dist/index.mjs\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/storage */ \"(ssr)/./node_modules/firebase/storage/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ saveBookPrompts,uploadPdf,uploadAudio,uploadThumbnail,saveBookRecord,getSavedBooks,checkSimilarPrompts,db,storage auto */ \n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyApO7AYdRZJwORAdoRnB1vjPGtFMcP0j4E\",\n    authDomain: \"kidi-books.firebaseapp.com\",\n    projectId: \"kidi-books\",\n    storageBucket: \"kidi-books.firebasestorage.app\",\n    messagingSenderId: \"346803654720\",\n    appId: \"1:346803654720:web:361e1abea9c8c42e6c0fa5\",\n    measurementId: \"G-XP7XC41LPY\"\n};\n// Initialize Firebase only once\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getStorage)(app);\n// Save a book's prompts to Firebase\nconst saveBookPrompts = async (record)=>{\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'prompts'), {\n            ...record,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.Timestamp.now()\n        });\n        console.log('Saved prompts to Firebase:', docRef.id);\n        return docRef.id;\n    } catch (error) {\n        console.error('Error saving to Firebase:', error);\n        throw error;\n    }\n};\n// Upload PDF to Firebase Storage\nconst uploadPdf = async (pdfBlob, bookTitle)=>{\n    try {\n        const safeTitle = bookTitle.replace(/[\\\\/:*?\"<>|]/g, '_');\n        const timestamp = Date.now();\n        const fileName = `books/${timestamp}_${safeTitle}.pdf`;\n        const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(storage, fileName);\n        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.uploadBytes)(storageRef, pdfBlob, {\n            contentType: 'application/pdf'\n        });\n        const downloadUrl = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getDownloadURL)(storageRef);\n        console.log('PDF uploaded to Firebase:', downloadUrl);\n        return downloadUrl;\n    } catch (error) {\n        console.error('Error uploading PDF:', error);\n        throw error;\n    }\n};\n// Upload Audio file to Firebase Storage\nconst uploadAudio = async (audioBlob, bookTitle, pageNumber)=>{\n    try {\n        const safeTitle = bookTitle.replace(/[\\\\/:*?\"<>|]/g, '_');\n        const timestamp = Date.now();\n        const fileName = `audio/${timestamp}_${safeTitle}_page_${pageNumber}.wav`;\n        const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(storage, fileName);\n        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.uploadBytes)(storageRef, audioBlob, {\n            contentType: 'audio/wav'\n        });\n        const downloadUrl = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getDownloadURL)(storageRef);\n        console.log('Audio uploaded to Firebase:', downloadUrl);\n        return downloadUrl;\n    } catch (error) {\n        console.error('Error uploading audio:', error);\n        throw error;\n    }\n};\n// Upload cover image as thumbnail\nconst uploadThumbnail = async (imageDataUrl, bookTitle)=>{\n    try {\n        // Convert data URL to blob\n        const response = await fetch(imageDataUrl);\n        const blob = await response.blob();\n        const safeTitle = bookTitle.replace(/[\\\\/:*?\"<>|]/g, '_');\n        const timestamp = Date.now();\n        const fileName = `thumbnails/${timestamp}_${safeTitle}.jpg`;\n        const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.ref)(storage, fileName);\n        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.uploadBytes)(storageRef, blob, {\n            contentType: 'image/jpeg'\n        });\n        const downloadUrl = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getDownloadURL)(storageRef);\n        console.log('Thumbnail uploaded to Firebase:', downloadUrl);\n        return downloadUrl;\n    } catch (error) {\n        console.error('Error uploading thumbnail:', error);\n        throw error;\n    }\n};\n// Save complete book record to Firestore\nconst saveBookRecord = async (bookTitle, pdfUrl, thumbnailUrl, audioUrls)=>{\n    try {\n        const bookData = {\n            title: bookTitle,\n            pdfUrl,\n            thumbnailUrl,\n            audioUrls,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.Timestamp.now()\n        };\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'books'), bookData);\n        console.log('Book saved to Firebase:', docRef.id);\n        return docRef.id;\n    } catch (error) {\n        console.error('Error saving book:', error);\n        throw error;\n    }\n};\n// Get all saved books (from prompts collection)\nconst getSavedBooks = async ()=>{\n    try {\n        // Read from prompts collection since that's where we save\n        const promptsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'prompts'));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(promptsQuery);\n        return snapshot.docs.map((doc)=>{\n            const data = doc.data();\n            return {\n                id: doc.id,\n                title: data.bookTitle || ' ',\n                pdfUrl: data.drivePdfUrl || '',\n                driveZipUrl: data.driveZipUrl,\n                drivePdfUrl: data.drivePdfUrl,\n                thumbnailUrl: undefined,\n                createdAt: data.createdAt\n            };\n        });\n    } catch (error) {\n        console.error('Error getting saved books:', error);\n        return [];\n    }\n};\n// Check if a similar character/book already exists\nconst checkSimilarPrompts = async (mainCharacter, bookTitle)=>{\n    try {\n        const titleQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'prompts'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)('bookTitle', '==', bookTitle));\n        const titleSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(titleQuery);\n        if (!titleSnapshot.empty) {\n            return {\n                exists: true,\n                similarTo: '   '\n            };\n        }\n        const charQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(db, 'prompts'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)('mainCharacter', '==', mainCharacter));\n        const charSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(charQuery);\n        if (!charSnapshot.empty) {\n            return {\n                exists: true,\n                similarTo: '    '\n            };\n        }\n        return {\n            exists: false\n        };\n    } catch (error) {\n        console.error('Error checking Firebase:', error);\n        return {\n            exists: false\n        };\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XFxmaXJlYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMgfSBmcm9tICdmaXJlYmFzZS9hcHAnXHJcbmltcG9ydCB7IGdldEZpcmVzdG9yZSwgY29sbGVjdGlvbiwgYWRkRG9jLCBxdWVyeSwgd2hlcmUsIGdldERvY3MsIFRpbWVzdGFtcCwgZG9jLCBzZXREb2MgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnXHJcbmltcG9ydCB7IGdldFN0b3JhZ2UsIHJlZiwgdXBsb2FkQnl0ZXMsIGdldERvd25sb2FkVVJMIH0gZnJvbSAnZmlyZWJhc2Uvc3RvcmFnZSdcclxuXHJcbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeUFwTzdBWWRSWkp3T1JBZG9SbkIxdmpQR3RGTWNQMGo0RVwiLFxyXG4gICAgYXV0aERvbWFpbjogXCJraWRpLWJvb2tzLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgcHJvamVjdElkOiBcImtpZGktYm9va3NcIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwia2lkaS1ib29rcy5maXJlYmFzZXN0b3JhZ2UuYXBwXCIsXHJcbiAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCIzNDY4MDM2NTQ3MjBcIixcclxuICAgIGFwcElkOiBcIjE6MzQ2ODAzNjU0NzIwOndlYjozNjFlMWFiZWE5YzhjNDJlNmMwZmE1XCIsXHJcbiAgICBtZWFzdXJlbWVudElkOiBcIkctWFA3WEM0MUxQWVwiXHJcbn1cclxuXHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2Ugb25seSBvbmNlXHJcbmNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKSA6IGdldEFwcHMoKVswXVxyXG5jb25zdCBkYiA9IGdldEZpcmVzdG9yZShhcHApXHJcbmNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKGFwcClcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0UmVjb3JkIHtcclxuICAgIGJvb2tUaXRsZTogc3RyaW5nXHJcbiAgICBtYWluQ2hhcmFjdGVyOiBzdHJpbmdcclxuICAgIHNlY29uZGFyeUNoYXJhY3Rlcj86IHN0cmluZ1xyXG4gICAgYXJ0U3R5bGU6IHN0cmluZ1xyXG4gICAgdG9waWM6IHN0cmluZ1xyXG4gICAgY3JlYXRlZEF0OiBUaW1lc3RhbXBcclxuICAgIGltYWdlUHJvbXB0czogc3RyaW5nW11cclxuICAgIGRyaXZlWmlwVXJsPzogc3RyaW5nXHJcbiAgICBkcml2ZVBkZlVybD86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNhdmVkQm9vayB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICB0aXRsZTogc3RyaW5nXHJcbiAgICBwZGZVcmw6IHN0cmluZ1xyXG4gICAgZHJpdmVaaXBVcmw/OiBzdHJpbmdcclxuICAgIGRyaXZlUGRmVXJsPzogc3RyaW5nXHJcbiAgICBhdWRpb1VybHM/OiBzdHJpbmdbXVxyXG4gICAgdGh1bWJuYWlsVXJsPzogc3RyaW5nXHJcbiAgICBjcmVhdGVkQXQ6IFRpbWVzdGFtcFxyXG59XHJcblxyXG4vLyBTYXZlIGEgYm9vaydzIHByb21wdHMgdG8gRmlyZWJhc2VcclxuZXhwb3J0IGNvbnN0IHNhdmVCb29rUHJvbXB0cyA9IGFzeW5jIChyZWNvcmQ6IE9taXQ8UHJvbXB0UmVjb3JkLCAnY3JlYXRlZEF0Jz4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgJ3Byb21wdHMnKSwge1xyXG4gICAgICAgICAgICAuLi5yZWNvcmQsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zb2xlLmxvZygnU2F2ZWQgcHJvbXB0cyB0byBGaXJlYmFzZTonLCBkb2NSZWYuaWQpXHJcbiAgICAgICAgcmV0dXJuIGRvY1JlZi5pZFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdG8gRmlyZWJhc2U6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufVxyXG5cclxuLy8gVXBsb2FkIFBERiB0byBGaXJlYmFzZSBTdG9yYWdlXHJcbmV4cG9ydCBjb25zdCB1cGxvYWRQZGYgPSBhc3luYyAoXHJcbiAgICBwZGZCbG9iOiBCbG9iLFxyXG4gICAgYm9va1RpdGxlOiBzdHJpbmdcclxuKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qgc2FmZVRpdGxlID0gYm9va1RpdGxlLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnXycpXHJcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKVxyXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYGJvb2tzLyR7dGltZXN0YW1wfV8ke3NhZmVUaXRsZX0ucGRmYFxyXG5cclxuICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKHN0b3JhZ2UsIGZpbGVOYW1lKVxyXG4gICAgICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIHBkZkJsb2IsIHtcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9wZGYnXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgZG93bmxvYWRVcmwgPSBhd2FpdCBnZXREb3dubG9hZFVSTChzdG9yYWdlUmVmKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQREYgdXBsb2FkZWQgdG8gRmlyZWJhc2U6JywgZG93bmxvYWRVcmwpXHJcbiAgICAgICAgcmV0dXJuIGRvd25sb2FkVXJsXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBQREY6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufVxyXG5cclxuLy8gVXBsb2FkIEF1ZGlvIGZpbGUgdG8gRmlyZWJhc2UgU3RvcmFnZVxyXG5leHBvcnQgY29uc3QgdXBsb2FkQXVkaW8gPSBhc3luYyAoXHJcbiAgICBhdWRpb0Jsb2I6IEJsb2IsXHJcbiAgICBib29rVGl0bGU6IHN0cmluZyxcclxuICAgIHBhZ2VOdW1iZXI6IG51bWJlclxyXG4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzYWZlVGl0bGUgPSBib29rVGl0bGUucmVwbGFjZSgvW1xcXFwvOio/XCI8PnxdL2csICdfJylcclxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpXHJcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgYXVkaW8vJHt0aW1lc3RhbXB9XyR7c2FmZVRpdGxlfV9wYWdlXyR7cGFnZU51bWJlcn0ud2F2YFxyXG5cclxuICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKHN0b3JhZ2UsIGZpbGVOYW1lKVxyXG4gICAgICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIGF1ZGlvQmxvYiwge1xyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2F1ZGlvL3dhdidcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjb25zdCBkb3dubG9hZFVybCA9IGF3YWl0IGdldERvd25sb2FkVVJMKHN0b3JhZ2VSZWYpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0F1ZGlvIHVwbG9hZGVkIHRvIEZpcmViYXNlOicsIGRvd25sb2FkVXJsKVxyXG4gICAgICAgIHJldHVybiBkb3dubG9hZFVybFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgYXVkaW86JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxufVxyXG5cclxuLy8gVXBsb2FkIGNvdmVyIGltYWdlIGFzIHRodW1ibmFpbFxyXG5leHBvcnQgY29uc3QgdXBsb2FkVGh1bWJuYWlsID0gYXN5bmMgKFxyXG4gICAgaW1hZ2VEYXRhVXJsOiBzdHJpbmcsXHJcbiAgICBib29rVGl0bGU6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBDb252ZXJ0IGRhdGEgVVJMIHRvIGJsb2JcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGltYWdlRGF0YVVybClcclxuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpXHJcblxyXG4gICAgICAgIGNvbnN0IHNhZmVUaXRsZSA9IGJvb2tUaXRsZS5yZXBsYWNlKC9bXFxcXC86Kj9cIjw+fF0vZywgJ18nKVxyXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KClcclxuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGB0aHVtYm5haWxzLyR7dGltZXN0YW1wfV8ke3NhZmVUaXRsZX0uanBnYFxyXG5cclxuICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKHN0b3JhZ2UsIGZpbGVOYW1lKVxyXG4gICAgICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIGJsb2IsIHtcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdpbWFnZS9qcGVnJ1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IGRvd25sb2FkVXJsID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZilcclxuICAgICAgICBjb25zb2xlLmxvZygnVGh1bWJuYWlsIHVwbG9hZGVkIHRvIEZpcmViYXNlOicsIGRvd25sb2FkVXJsKVxyXG4gICAgICAgIHJldHVybiBkb3dubG9hZFVybFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgdGh1bWJuYWlsOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFNhdmUgY29tcGxldGUgYm9vayByZWNvcmQgdG8gRmlyZXN0b3JlXHJcbmV4cG9ydCBjb25zdCBzYXZlQm9va1JlY29yZCA9IGFzeW5jIChcclxuICAgIGJvb2tUaXRsZTogc3RyaW5nLFxyXG4gICAgcGRmVXJsOiBzdHJpbmcsXHJcbiAgICB0aHVtYm5haWxVcmw/OiBzdHJpbmcsXHJcbiAgICBhdWRpb1VybHM/OiBzdHJpbmdbXVxyXG4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBib29rRGF0YTogT21pdDxTYXZlZEJvb2ssICdpZCc+ID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogYm9va1RpdGxlLFxyXG4gICAgICAgICAgICBwZGZVcmwsXHJcbiAgICAgICAgICAgIHRodW1ibmFpbFVybCxcclxuICAgICAgICAgICAgYXVkaW9VcmxzLFxyXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZGIsICdib29rcycpLCBib29rRGF0YSlcclxuICAgICAgICBjb25zb2xlLmxvZygnQm9vayBzYXZlZCB0byBGaXJlYmFzZTonLCBkb2NSZWYuaWQpXHJcbiAgICAgICAgcmV0dXJuIGRvY1JlZi5pZFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYm9vazonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBHZXQgYWxsIHNhdmVkIGJvb2tzIChmcm9tIHByb21wdHMgY29sbGVjdGlvbilcclxuZXhwb3J0IGNvbnN0IGdldFNhdmVkQm9va3MgPSBhc3luYyAoKTogUHJvbWlzZTxTYXZlZEJvb2tbXT4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBSZWFkIGZyb20gcHJvbXB0cyBjb2xsZWN0aW9uIHNpbmNlIHRoYXQncyB3aGVyZSB3ZSBzYXZlXHJcbiAgICAgICAgY29uc3QgcHJvbXB0c1F1ZXJ5ID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ3Byb21wdHMnKSlcclxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocHJvbXB0c1F1ZXJ5KVxyXG5cclxuICAgICAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKClcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS5ib29rVGl0bGUgfHwgJ9ec15zXkCDXm9eV16rXqNeqJyxcclxuICAgICAgICAgICAgICAgIHBkZlVybDogZGF0YS5kcml2ZVBkZlVybCB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGRyaXZlWmlwVXJsOiBkYXRhLmRyaXZlWmlwVXJsLFxyXG4gICAgICAgICAgICAgICAgZHJpdmVQZGZVcmw6IGRhdGEuZHJpdmVQZGZVcmwsXHJcbiAgICAgICAgICAgICAgICB0aHVtYm5haWxVcmw6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogZGF0YS5jcmVhdGVkQXRcclxuICAgICAgICAgICAgfSBhcyBTYXZlZEJvb2tcclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHNhdmVkIGJvb2tzOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDaGVjayBpZiBhIHNpbWlsYXIgY2hhcmFjdGVyL2Jvb2sgYWxyZWFkeSBleGlzdHNcclxuZXhwb3J0IGNvbnN0IGNoZWNrU2ltaWxhclByb21wdHMgPSBhc3luYyAoXHJcbiAgICBtYWluQ2hhcmFjdGVyOiBzdHJpbmcsXHJcbiAgICBib29rVGl0bGU6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHsgZXhpc3RzOiBib29sZWFuOyBzaW1pbGFyVG8/OiBzdHJpbmcgfT4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB0aXRsZVF1ZXJ5ID0gcXVlcnkoXHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdwcm9tcHRzJyksXHJcbiAgICAgICAgICAgIHdoZXJlKCdib29rVGl0bGUnLCAnPT0nLCBib29rVGl0bGUpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNvbnN0IHRpdGxlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHRpdGxlUXVlcnkpXHJcblxyXG4gICAgICAgIGlmICghdGl0bGVTbmFwc2hvdC5lbXB0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBleGlzdHM6IHRydWUsIHNpbWlsYXJUbzogJ9eb15XXqteo16og15PXldee15Qg15vXkdeoINen15nXmdee16onIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYXJRdWVyeSA9IHF1ZXJ5KFxyXG4gICAgICAgICAgICBjb2xsZWN0aW9uKGRiLCAncHJvbXB0cycpLFxyXG4gICAgICAgICAgICB3aGVyZSgnbWFpbkNoYXJhY3RlcicsICc9PScsIG1haW5DaGFyYWN0ZXIpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNvbnN0IGNoYXJTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY2hhclF1ZXJ5KVxyXG5cclxuICAgICAgICBpZiAoIWNoYXJTbmFwc2hvdC5lbXB0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBleGlzdHM6IHRydWUsIHNpbWlsYXJUbzogJ9eT157XldeqINeo15DXqdeZ16og15PXldee15Qg15vXkdeoINen15nXmdee16onIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7IGV4aXN0czogZmFsc2UgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBGaXJlYmFzZTonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4geyBleGlzdHM6IGZhbHNlIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgZGIsIHN0b3JhZ2UgfVxyXG4iXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJnZXRGaXJlc3RvcmUiLCJjb2xsZWN0aW9uIiwiYWRkRG9jIiwicXVlcnkiLCJ3aGVyZSIsImdldERvY3MiLCJUaW1lc3RhbXAiLCJnZXRTdG9yYWdlIiwicmVmIiwidXBsb2FkQnl0ZXMiLCJnZXREb3dubG9hZFVSTCIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwibWVhc3VyZW1lbnRJZCIsImFwcCIsImxlbmd0aCIsImRiIiwic3RvcmFnZSIsInNhdmVCb29rUHJvbXB0cyIsInJlY29yZCIsImRvY1JlZiIsImNyZWF0ZWRBdCIsIm5vdyIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImVycm9yIiwidXBsb2FkUGRmIiwicGRmQmxvYiIsImJvb2tUaXRsZSIsInNhZmVUaXRsZSIsInJlcGxhY2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwiZmlsZU5hbWUiLCJzdG9yYWdlUmVmIiwiY29udGVudFR5cGUiLCJkb3dubG9hZFVybCIsInVwbG9hZEF1ZGlvIiwiYXVkaW9CbG9iIiwicGFnZU51bWJlciIsInVwbG9hZFRodW1ibmFpbCIsImltYWdlRGF0YVVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJibG9iIiwic2F2ZUJvb2tSZWNvcmQiLCJwZGZVcmwiLCJ0aHVtYm5haWxVcmwiLCJhdWRpb1VybHMiLCJib29rRGF0YSIsInRpdGxlIiwiZ2V0U2F2ZWRCb29rcyIsInByb21wdHNRdWVyeSIsInNuYXBzaG90IiwiZG9jcyIsIm1hcCIsImRvYyIsImRhdGEiLCJkcml2ZVBkZlVybCIsImRyaXZlWmlwVXJsIiwidW5kZWZpbmVkIiwiY2hlY2tTaW1pbGFyUHJvbXB0cyIsIm1haW5DaGFyYWN0ZXIiLCJ0aXRsZVF1ZXJ5IiwidGl0bGVTbmFwc2hvdCIsImVtcHR5IiwiZXhpc3RzIiwic2ltaWxhclRvIiwiY2hhclF1ZXJ5IiwiY2hhclNuYXBzaG90Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./services/firebase.ts\n");

/***/ }),

/***/ "(ssr)/./services/geminiService.ts":
/*!***********************************!*\
  !*** ./services/geminiService.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeBookPdf: () => (/* binding */ analyzeBookPdf),\n/* harmony export */   generateBookContent: () => (/* binding */ generateBookContent),\n/* harmony export */   generatePageAudio: () => (/* binding */ generatePageAudio),\n/* harmony export */   generatePageImage: () => (/* binding */ generatePageImage),\n/* harmony export */   generateStoryIdea: () => (/* binding */ generateStoryIdea)\n/* harmony export */ });\n/* harmony import */ var _google_genai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/genai */ \"(ssr)/./node_modules/@google/genai/dist/node/index.mjs\");\n/* harmony import */ var _apiKeyManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./apiKeyManager */ \"(ssr)/./services/apiKeyManager.ts\");\n\n\n// Helper to get API key\nconst getApiKey = ()=>{\n    const key = _apiKeyManager__WEBPACK_IMPORTED_MODULE_1__.apiKeyManager.getKey();\n    if (!key) {\n        throw new Error('API key not configured');\n    }\n    return key;\n};\n// Helper to check for fatal auth/quota errors\nconst handleFatalError = (err)=>{\n    // Inspect if the error is wrapped in an 'error' property (common in Google JSON responses)\n    const errorObj = err?.error || err;\n    const msg = (errorObj?.message || JSON.stringify(err)).toLowerCase();\n    const status = errorObj?.status || errorObj?.code;\n    // Check for Quota issues\n    const isQuota = status === 429 || status === 'RESOURCE_EXHAUSTED' || msg.includes(\"quota\") || msg.includes(\"resource_exhausted\") || // Specific check for \"limit: 0\" which often means model not available in plan or exhausted\n    msg.includes(\"limit: 0\");\n    // Check for Auth issues (Invalid Key, Expired Key, Project not found)\n    const isAuth = status === 403 || // Status 400 is normally Invalid Argument, but if message says \"API key expired\", it's auth.\n    status === 400 && (msg.includes(\"api key\") || msg.includes(\"expired\")) || msg.includes(\"api key\") || msg.includes(\"unauthenticated\") || msg.includes(\"permission denied\") || msg.includes(\"requested entity was not found\") || msg.includes(\"expired\");\n    if (isQuota || isAuth) {\n        console.warn(`Fatal API Error (${isQuota ? 'Quota' : 'Auth'}). Triggering Re-auth.`, err);\n        window.dispatchEvent(new CustomEvent('reselect-api-key'));\n        return true;\n    }\n    return false;\n};\n// Helper for retry logic with exponential backoff\nasync function retryWithBackoff(fn, retries = 3, baseDelay = 1000) {\n    try {\n        return await fn();\n    } catch (error) {\n        // Check for fatal errors first. If fatal, do not retry.\n        if (handleFatalError(error)) {\n            throw error;\n        }\n        const status = error.status || error.code;\n        const message = (error.message || '').toLowerCase();\n        // Check if error is retryable (Transient 5xx server errors)\n        // Note: We handled 429/Quota above as fatal because usually in this context implies Daily Limit, not just QPM.\n        const isRetryable = status && [\n            500,\n            503\n        ].includes(status) || message.includes('internal') || message.includes('overloaded') || message.includes('timeout');\n        if (retries > 0 && isRetryable) {\n            console.warn(`Retrying operation due to error: ${message}. Attempts left: ${retries}. Waiting ${baseDelay}ms.`);\n            await new Promise((resolve)=>setTimeout(resolve, baseDelay));\n            return retryWithBackoff(fn, retries - 1, baseDelay * 2);\n        }\n        throw error;\n    }\n}\n// Define the response schema for the book using the Type enum\nconst bookSchema = {\n    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n    properties: {\n        metadata: {\n            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n            properties: {\n                title: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    description: \"The title of the book in Hebrew ONLY. Do NOT include English translation.\"\n                },\n                targetAge: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                },\n                mainTheme: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                },\n                educationalMessage: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                },\n                artStyle: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    description: \"Detailed description of the art style.\"\n                },\n                mainCharacterDescription: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    description: \"Comprehensive physical description of the MAIN character (clothing, hair, accessories). Be very specific about colors.\"\n                },\n                mainCharacterDistinctiveMark: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    description: \"A specific, unique visual feature for the main character that acts as a visual anchor (e.g., 'big red glasses', 'a star patch on the overalls', 'a glowing blue pendant', 'a purple feather in hat'). This MUST be included in every single image description.\"\n                },\n                secondaryCharacterDescription: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    description: \"If there is a constant companion (animal, friend, sibling) that appears in multiple pages, describe them here with EXTREME DETAIL. Include: Species, Color (specific shade), Size, Accessories, and Distinctive Marks. e.g. 'A rotund bright-yellow chick with large anime-style blue eyes, a tiny orange beak, and wearing a miniature red wool scarf'. This description MUST be unique and unchanging.\"\n                },\n                secondaryCharacterDistinctiveMark: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    description: \"A specific, unique visual feature for the secondary character (if present) that acts as a visual anchor.\"\n                },\n                keyObjectDescription: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    description: \"Description of any recurring magical or key object.\"\n                },\n                titlePrimaryColor: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                },\n                titleSecondaryColor: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                },\n                titleEffectTheme: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                    enum: [\n                        'magical',\n                        'natural',\n                        'tech',\n                        'classic',\n                        'playful',\n                        'elegant'\n                    ]\n                },\n                visualConsistencyGuide: {\n                    type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                    properties: {\n                        characterTraits: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                            items: {\n                                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                            }\n                        },\n                        objectTraits: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n                            items: {\n                                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                            }\n                        },\n                        backgroundStyle: {\n                            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                        }\n                    },\n                    required: [\n                        \"characterTraits\",\n                        \"objectTraits\",\n                        \"backgroundStyle\"\n                    ]\n                }\n            },\n            required: [\n                \"title\",\n                \"targetAge\",\n                \"mainTheme\",\n                \"educationalMessage\",\n                \"mainCharacterDescription\",\n                \"mainCharacterDistinctiveMark\",\n                \"artStyle\",\n                \"keyObjectDescription\",\n                \"titlePrimaryColor\",\n                \"titleSecondaryColor\",\n                \"titleEffectTheme\",\n                \"visualConsistencyGuide\"\n            ]\n        },\n        pages: {\n            type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.ARRAY,\n            items: {\n                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n                properties: {\n                    pageNumber: {\n                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.INTEGER\n                    },\n                    hebrewText: {\n                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n                    },\n                    imagePrompt: {\n                        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING,\n                        description: \"Detailed ENGLISH visual scene description. IMPORTANT: Describe a SPECIFIC CAMERA ANGLE (e.g., 'Close-up on face', 'Wide shot from above', 'Low angle looking up') and SPECIFIC BACKGROUND DETAILS relevant to the action. Do NOT just say 'in the forest'. Say 'next to a giant oak tree with sunlight filtering through'.\"\n                    }\n                },\n                required: [\n                    \"pageNumber\",\n                    \"hebrewText\",\n                    \"imagePrompt\"\n                ]\n            }\n        }\n    },\n    required: [\n        \"metadata\",\n        \"pages\"\n    ]\n};\nconst generateStoryIdea = async (ageRange, currentTopic)=>{\n    const ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n        apiKey: getApiKey()\n    });\n    const prompt = `You are a creative children's book editor. \n  The user wants an idea for a book.\n  Target Age: ${ageRange}\n  User's rough idea (optional): \"${currentTopic}\"\n\n  Please generate a short, structured concept in HEBREW ().\n  Structure:\n  1.   (Title)\n  2.   (Main Character - Name + A unique visual trait/mark)\n  3.   (Short Plot Summary)\n  \n  Make it engaging, magical, and suitable for the age group. \n  Do not include markdown formatting like ** or ##. Just clean text.`;\n    try {\n        // Using flash for speed\n        const response = await retryWithBackoff(()=>ai.models.generateContent({\n                model: 'gemini-3-flash-preview',\n                contents: {\n                    parts: [\n                        {\n                            text: prompt\n                        }\n                    ]\n                },\n                config: {\n                    maxOutputTokens: 300\n                }\n            }));\n        return response.text || \"\";\n    } catch (error) {\n        console.error(\"Error generating idea:\", error);\n        // If handleFatalError returns true, it's a critical auth/quota error and we let the UI redirect.\n        // If it returns false, we throw so the component can show a specific alert.\n        if (!handleFatalError(error)) {\n            throw error;\n        }\n        return \"\";\n    }\n};\nconst generateBookContent = async (request)=>{\n    // Copyright check before generation\n    const { validateBookRequest, logGeneratedBook } = await __webpack_require__.e(/*! import() */ \"_ssr_services_promptGuard_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./promptGuard */ \"(ssr)/./services/promptGuard.ts\"));\n    const copyrightCheck = await validateBookRequest(request.topic);\n    if (!copyrightCheck.allowed) {\n        throw new Error(copyrightCheck.reason || 'Content blocked');\n    }\n    const ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n        apiKey: getApiKey()\n    });\n    const systemInstruction = `You are a world-class children's book author and art director.\n  \n  TASK: Create a magical children's book in Hebrew with detailed English art direction.\n  \n  STRICT PAGE COUNT: EXACTLY ${request.pageCount} pages.\n  \n  GUIDELINES:\n  1. STORY (Hebrew): Engaging, age-appropriate, perfect grammar.\n     - CRITICAL: The 'title' in metadata MUST be in Hebrew ONLY. Do not include an English translation.\n  2. ART DIRECTION (English):\n     - 'mainCharacterDescription': A precise, unchanging visual definition.\n     - 'mainCharacterDistinctiveMark': CREATE A UNIQUE IDENTIFIER (e.g., \"Rainbow Scarf\", \"Golden Goggles\"). This is CRITICAL for consistency.\n     - 'visualConsistencyGuide': List specific items/colors that MUST appear in every image.\n     - 'imagePrompt' (for each page): A FULL SCENE DESCRIPTION. \n  3. VISUAL VARIETY (CRITICAL):\n     - **VARY CAMERA ANGLES**: Do NOT use the same \"medium shot\" for every page. Use Close-ups, Wide shots, Bird's-eye view, Low angles.\n     - **VARY BACKGROUNDS**: Even if the setting is the same (e.g., a forest), focus on DIFFERENT parts of it (e.g., \"next to a stream\", \"inside a hollow log\", \"looking up at the canopy\").\n     - **DYNAMIC ACTION**: Characters should be doing different things, not just standing.\n  4. COMPOSITION AWARENESS:\n     - The images must be FULL BLEED, filling the entire square 1:1 canvas.\n     - Center the action.\n     - Do NOT leave empty space for text. Text will be added externally.\n  `;\n    let prompt = `Create a children's book.\n  Target Age: ${request.ageRange}\n  Topic: ${request.topic}\n  REQUIRED LENGTH: EXACTLY ${request.pageCount} pages. Start with page 1 as the cover and end with page ${request.pageCount}.\n  Art Style Selection: ${request.artStyle}`;\n    if (request.previousContext) {\n        prompt += `\n    SEQUEL MODE: Maintain character consistency with the previous story: \"${request.previousContext.title}\".\n    Previous Main Character: ${request.previousContext.characterDescription}.\n    ${request.previousContext.secondaryCharacterDescription ? `Previous Secondary Character: ${request.previousContext.secondaryCharacterDescription}` : ''}\n    `;\n    }\n    try {\n        const response = await retryWithBackoff(()=>ai.models.generateContent({\n                model: 'gemini-3-pro-preview',\n                contents: prompt,\n                config: {\n                    responseMimeType: 'application/json',\n                    responseSchema: bookSchema,\n                    systemInstruction: systemInstruction\n                }\n            }));\n        if (!response.text) {\n            throw new Error(\"Failed to generate book content\");\n        }\n        const book = JSON.parse(response.text);\n        // Safety check for page count\n        console.log(`Requested ${request.pageCount} pages, received ${book.pages.length} pages.`);\n        // Inject Audio Configuration from Request\n        book.metadata.audioConfig = {\n            enabled: request.audioEnabled,\n            voiceName: request.voiceName\n        };\n        if (request.previousContext?.baseCharacterImage) {\n            book.metadata.baseCharacterImageUrl = request.previousContext.baseCharacterImage;\n        }\n        // Refine all image prompts to include the consistency guide for BOTH characters\n        const traits = book.metadata.visualConsistencyGuide.characterTraits.join(\", \");\n        const objTraits = book.metadata.visualConsistencyGuide.objectTraits.join(\", \");\n        const mainMark = book.metadata.mainCharacterDistinctiveMark || \"Distinctive feature\";\n        const secMark = book.metadata.secondaryCharacterDistinctiveMark;\n        book.pages = book.pages.map((page, idx)=>{\n            // 1. Establish the visual anchor (Characters & Style)\n            let refinedPrompt = `[MAIN CHARACTER]: ${book.metadata.mainCharacterDescription}. DISTINCTIVE FEATURE: ${mainMark}. Key Features: ${traits}. `;\n            if (book.metadata.secondaryCharacterDescription) {\n                refinedPrompt += `[SECONDARY CHARACTER]: ${book.metadata.secondaryCharacterDescription}. DISTINCTIVE FEATURE: ${secMark || 'None'}. `;\n            }\n            // 2. Set the Environment/Atmosphere \n            // NOTE: We label this \"General Context\" so it doesn't override the specific scene action\n            refinedPrompt += `[GENERAL CONTEXT]: ${book.metadata.visualConsistencyGuide.backgroundStyle}. `;\n            if (objTraits) refinedPrompt += `[PROPS]: ${objTraits}. `;\n            // 3. Define the specific scene action - THIS IS PRIORITY\n            refinedPrompt += `[SPECIFIC SCENE ACTION & ANGLE]: ${page.imagePrompt}. `;\n            return {\n                ...page,\n                imagePrompt: refinedPrompt\n            };\n        });\n        // Don't save here - saved during export instead\n        return book;\n    } catch (error) {\n        console.error(\"Error generating book content:\", error);\n        // Extra catch just in case retryWithBackoff didn't catch it\n        handleFatalError(error);\n        throw error;\n    }\n};\nconst generatePageImage = async (actionPrompt, characterDescription, artStyle, baseCharacterImageUrl, isCover = false, textToRender)=>{\n    const ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n        apiKey: getApiKey()\n    });\n    let finalPrompt = \"\";\n    let modelName = \"\";\n    let imageConfig = {};\n    if (isCover) {\n        // COVER STRATEGY: Use Pro model, bake text.\n        modelName = 'gemini-3-pro-image-preview';\n        imageConfig = {\n            aspectRatio: \"1:1\",\n            imageSize: \"1K\"\n        };\n        finalPrompt = `\n      [ROLE]: Expert Children's Book Cover Designer.\n      [ART STYLE]: ${artStyle}.\n      \n      [CAST DEFINITIONS]: \n      ${characterDescription}\n      \n      [SCENE DESCRIPTION]: ${actionPrompt}\n      \n      [TITLE TEXT - ABSOLUTE REQUIREMENT]:\n      The ONLY text in this entire image is: \"${textToRender}\"\n      \n      CRITICAL - TEXT RULES:\n      1. ONLY display the exact title above - NO other text whatsoever\n      2. ABSOLUTELY NO: subtitle, author, age range, page count, tagline, description\n      3. ABSOLUTELY NO: \"\", \"\", \"\", numbers, credits, watermarks\n      4. ABSOLUTELY NO: English text, Latin letters, any text not in the title\n      5. The title should be in the TOP THIRD of the image\n      6. Use artistic Hebrew font matching ${artStyle} style\n      7. Add glow/shadow behind text for readability\n      \n      [CHARACTER]:\n      1. Main character must match Reference Image (if provided)\n      2. Character in dynamic, inviting pose\n      \n      [TECHNICAL]: 8k resolution, cinematic lighting, vivid colors.\n      [NEGATIVE PROMPT]: subtitle, author name, page count, age range, English text, extra text, watermark, tagline, credits, , , , numbers at bottom, description text, any text besides title.\n    `;\n    } else {\n        // INNER PAGE STRATEGY: Use Flash model, NO text.\n        modelName = 'gemini-2.5-flash-image';\n        // Enhanced prompt with stronger character consistency\n        finalPrompt = `\n      [ROLE]: Professional Children's Book Illustrator specializing in character consistency.\n      [ART STYLE]: ${artStyle}.\n      \n      [CAST DEFINITIONS - CRITICAL FOR CONSISTENCY]: \n      ${characterDescription}\n      \n      [SCENE TO ILLUSTRATE]: \n      ${actionPrompt}\n      \n      [CHARACTER CONSISTENCY - MANDATORY]:\n      1. SAME CHARACTER = IDENTICAL APPEARANCE in every illustration\n      2. Main character MUST have the EXACT same:\n         - Face shape and features\n         - Hair color and style\n         - Clothing and accessories\n         - Any distinctive marks mentioned in CAST DEFINITIONS\n      3. If a Reference Image is provided, the character MUST match it EXACTLY\n      4. Secondary character (if present) must also be consistent\n      5. DO NOT change character appearance between pages\n      \n      [ILLUSTRATION RULES]:\n      1. **ABSOLUTELY NO TEXT**: No text, captions, speech bubbles, or words\n      2. **FULL BLEED**: Use entire canvas, no borders or margins\n      3. **DYNAMIC COMPOSITION**: Use the camera angle specified in the scene description\n      \n      [BACKGROUND INSTRUCTION]: \n      Match background to the specific scene action described above.\n      Use varied camera angles (Close-up, Wide shot, Low angle) for visual variety.\n      \n      [TECHNICAL SPECS]: 8k resolution, cinematic lighting, vivid saturated colors.\n      [NEGATIVE]: text, writing, letters, words, watermark, logo, blurry, low quality, inconsistent character, different outfit, changed appearance.\n    `;\n    }\n    const parts = [\n        {\n            text: finalPrompt\n        }\n    ];\n    // If we have a base character image, we MUST send it as a reference for EVERY page\n    if (baseCharacterImageUrl && baseCharacterImageUrl.startsWith('data:image/')) {\n        const matches = baseCharacterImageUrl.match(/^data:(.+);base64,(.+)$/);\n        if (matches) {\n            parts.unshift({\n                inlineData: {\n                    mimeType: matches[1],\n                    data: matches[2]\n                }\n            });\n            parts.push({\n                text: \"REFERENCE IMAGE INSTRUCTION: The image above is the MAIN character reference. Match this character exactly.\"\n            });\n        }\n    }\n    try {\n        const response = await retryWithBackoff(()=>ai.models.generateContent({\n                model: modelName,\n                contents: {\n                    parts\n                },\n                config: isCover ? {\n                    imageConfig\n                } : undefined\n            }));\n        for (const candidate of response.candidates || []){\n            for (const part of candidate.content.parts){\n                if (part.inlineData && part.inlineData.data) {\n                    return `data:${part.inlineData.mimeType};base64,${part.inlineData.data}`;\n                }\n            }\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error generating image:\", error);\n        handleFatalError(error);\n        return null;\n    }\n};\nconst analyzeBookPdf = async (pdfBase64)=>{\n    const ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n        apiKey: getApiKey()\n    });\n    const prompt = `\n    Analyze this PDF children's book. \n    Extract the following information to create a sequel context:\n    1. Title of the book.\n    2. A summary of the plot.\n    3. A detailed visual description of the MAIN character (appearance, clothes, hair, colors).\n    4. A detailed visual description of any SECONDARY character (sidekick) if present.\n    5. The art style used.\n    \n    Return the result as a JSON object.\n  `;\n    const extractionSchema = {\n        type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.OBJECT,\n        properties: {\n            title: {\n                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n            },\n            summary: {\n                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n            },\n            characterDescription: {\n                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n            },\n            secondaryCharacterDescription: {\n                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n            },\n            artStyle: {\n                type: _google_genai__WEBPACK_IMPORTED_MODULE_0__.Type.STRING\n            }\n        },\n        required: [\n            \"title\",\n            \"summary\",\n            \"characterDescription\",\n            \"artStyle\"\n        ]\n    };\n    try {\n        const response = await retryWithBackoff(()=>ai.models.generateContent({\n                model: 'gemini-3-flash-preview',\n                contents: {\n                    parts: [\n                        {\n                            inlineData: {\n                                mimeType: 'application/pdf',\n                                data: pdfBase64\n                            }\n                        },\n                        {\n                            text: prompt\n                        }\n                    ]\n                },\n                config: {\n                    responseMimeType: 'application/json',\n                    responseSchema: extractionSchema\n                }\n            }));\n        if (!response.text) throw new Error(\"Failed to analyze PDF\");\n        return JSON.parse(response.text);\n    } catch (error) {\n        console.error(\"Error analyzing PDF:\", error);\n        handleFatalError(error);\n        throw error;\n    }\n};\n// AUDIO GENERATION UTILS\n// Decode base64 to binary string to Uint8Array to Int16Array\nfunction decodeAudio(base64) {\n    const binaryString = atob(base64);\n    const len = binaryString.length;\n    const bytes = new Uint8Array(len);\n    for(let i = 0; i < len; i++){\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return new Int16Array(bytes.buffer);\n}\nconst generatePageAudio = async (text, audioContext, voiceName = 'Puck')=>{\n    const ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n        apiKey: getApiKey()\n    });\n    // Validate and Truncate Text\n    if (!text || !text.trim()) return null;\n    // Truncate to ~500 chars to avoid 500 Internal Error from TTS model which has input limits\n    const safeText = text.trim().slice(0, 500);\n    const prompt = `Read the following Hebrew text clearly, slowly, and warmly, suitable for a children's book storytelling:\n    \n    ${safeText}`;\n    try {\n        const response = await retryWithBackoff(()=>ai.models.generateContent({\n                model: \"gemini-2.5-flash-preview-tts\",\n                contents: [\n                    {\n                        parts: [\n                            {\n                                text: prompt\n                            }\n                        ]\n                    }\n                ],\n                config: {\n                    responseModalities: [\n                        _google_genai__WEBPACK_IMPORTED_MODULE_0__.Modality.AUDIO\n                    ],\n                    speechConfig: {\n                        voiceConfig: {\n                            prebuiltVoiceConfig: {\n                                voiceName: voiceName\n                            }\n                        }\n                    }\n                }\n            }));\n        const base64Audio = response.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;\n        if (!base64Audio) return null;\n        // Decode PCM data\n        const pcmData = decodeAudio(base64Audio);\n        // Convert Int16 PCM to Float32 for AudioContext (-1.0 to 1.0)\n        const float32Data = new Float32Array(pcmData.length);\n        for(let i = 0; i < pcmData.length; i++){\n            float32Data[i] = pcmData[i] / 32768.0;\n        }\n        // Create Audio Buffer (Mono, 24kHz as per standard GenAI output usually, but context sample rate matters)\n        // Note: The raw output is usually 24000Hz.\n        const audioBuffer = audioContext.createBuffer(1, float32Data.length, 24000);\n        audioBuffer.getChannelData(0).set(float32Data);\n        return audioBuffer;\n    } catch (error) {\n        console.error(\"Error generating audio:\", error);\n        // Propagate fatal errors to prompt key change\n        handleFatalError(error);\n        return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHO1FBQ2hDO1FBRUEsMEdBQTBHO1FBQzFHLDJDQUEyQztRQUMzQyxNQUFNa0IsY0FBY2IsYUFBYWMsWUFBWSxDQUFDLEdBQUdILFlBQVlqRSxNQUFNLEVBQUU7UUFDckVtRSxZQUFZRSxjQUFjLENBQUMsR0FBR0MsR0FBRyxDQUFDTDtRQUVsQyxPQUFPRTtJQUVULEVBQUUsT0FBTzVKLE9BQVk7UUFDbkJXLFFBQVFYLEtBQUssQ0FBQywyQkFBMkJBO1FBRXpDLDhDQUE4QztRQUM5Q0gsaUJBQWlCRztRQUVqQixPQUFPO0lBQ1Q7QUFDRixFQUFDIiwic291cmNlcyI6WyJDOlxcQ3Vyc29yXFxraWRpLWJvb2FpXFxzZXJ2aWNlc1xcZ2VtaW5pU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgR29vZ2xlR2VuQUksIFR5cGUsIE1vZGFsaXR5LCBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSB9IGZyb20gXCJAZ29vZ2xlL2dlbmFpXCI7XHJcbmltcG9ydCB7IEJvb2ssIEJvb2tSZXF1ZXN0LCBQcmV2aW91c0Jvb2tDb250ZXh0IH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCB7IGFwaUtleU1hbmFnZXIgfSBmcm9tIFwiLi9hcGlLZXlNYW5hZ2VyXCI7XHJcblxyXG4vLyBIZWxwZXIgdG8gZ2V0IEFQSSBrZXlcclxuY29uc3QgZ2V0QXBpS2V5ID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgY29uc3Qga2V5ID0gYXBpS2V5TWFuYWdlci5nZXRLZXkoKTtcclxuICBpZiAoIWtleSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBUEkga2V5IG5vdCBjb25maWd1cmVkJyk7XHJcbiAgfVxyXG4gIHJldHVybiBrZXk7XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgdG8gY2hlY2sgZm9yIGZhdGFsIGF1dGgvcXVvdGEgZXJyb3JzXHJcbmNvbnN0IGhhbmRsZUZhdGFsRXJyb3IgPSAoZXJyOiBhbnkpID0+IHtcclxuICAvLyBJbnNwZWN0IGlmIHRoZSBlcnJvciBpcyB3cmFwcGVkIGluIGFuICdlcnJvcicgcHJvcGVydHkgKGNvbW1vbiBpbiBHb29nbGUgSlNPTiByZXNwb25zZXMpXHJcbiAgY29uc3QgZXJyb3JPYmogPSBlcnI/LmVycm9yIHx8IGVycjtcclxuXHJcbiAgY29uc3QgbXNnID0gKGVycm9yT2JqPy5tZXNzYWdlIHx8IEpTT04uc3RyaW5naWZ5KGVycikpLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3Qgc3RhdHVzID0gZXJyb3JPYmo/LnN0YXR1cyB8fCBlcnJvck9iaj8uY29kZTtcclxuXHJcbiAgLy8gQ2hlY2sgZm9yIFF1b3RhIGlzc3Vlc1xyXG4gIGNvbnN0IGlzUXVvdGEgPVxyXG4gICAgc3RhdHVzID09PSA0MjkgfHxcclxuICAgIHN0YXR1cyA9PT0gJ1JFU09VUkNFX0VYSEFVU1RFRCcgfHxcclxuICAgIG1zZy5pbmNsdWRlcyhcInF1b3RhXCIpIHx8XHJcbiAgICBtc2cuaW5jbHVkZXMoXCJyZXNvdXJjZV9leGhhdXN0ZWRcIikgfHxcclxuICAgIC8vIFNwZWNpZmljIGNoZWNrIGZvciBcImxpbWl0OiAwXCIgd2hpY2ggb2Z0ZW4gbWVhbnMgbW9kZWwgbm90IGF2YWlsYWJsZSBpbiBwbGFuIG9yIGV4aGF1c3RlZFxyXG4gICAgbXNnLmluY2x1ZGVzKFwibGltaXQ6IDBcIik7XHJcblxyXG4gIC8vIENoZWNrIGZvciBBdXRoIGlzc3VlcyAoSW52YWxpZCBLZXksIEV4cGlyZWQgS2V5LCBQcm9qZWN0IG5vdCBmb3VuZClcclxuICBjb25zdCBpc0F1dGggPVxyXG4gICAgc3RhdHVzID09PSA0MDMgfHxcclxuICAgIC8vIFN0YXR1cyA0MDAgaXMgbm9ybWFsbHkgSW52YWxpZCBBcmd1bWVudCwgYnV0IGlmIG1lc3NhZ2Ugc2F5cyBcIkFQSSBrZXkgZXhwaXJlZFwiLCBpdCdzIGF1dGguXHJcbiAgICAoc3RhdHVzID09PSA0MDAgJiYgKG1zZy5pbmNsdWRlcyhcImFwaSBrZXlcIikgfHwgbXNnLmluY2x1ZGVzKFwiZXhwaXJlZFwiKSkpIHx8XHJcbiAgICBtc2cuaW5jbHVkZXMoXCJhcGkga2V5XCIpIHx8XHJcbiAgICBtc2cuaW5jbHVkZXMoXCJ1bmF1dGhlbnRpY2F0ZWRcIikgfHxcclxuICAgIG1zZy5pbmNsdWRlcyhcInBlcm1pc3Npb24gZGVuaWVkXCIpIHx8XHJcbiAgICBtc2cuaW5jbHVkZXMoXCJyZXF1ZXN0ZWQgZW50aXR5IHdhcyBub3QgZm91bmRcIikgfHxcclxuICAgIG1zZy5pbmNsdWRlcyhcImV4cGlyZWRcIik7XHJcblxyXG4gIGlmIChpc1F1b3RhIHx8IGlzQXV0aCkge1xyXG4gICAgY29uc29sZS53YXJuKGBGYXRhbCBBUEkgRXJyb3IgKCR7aXNRdW90YSA/ICdRdW90YScgOiAnQXV0aCd9KS4gVHJpZ2dlcmluZyBSZS1hdXRoLmAsIGVycik7XHJcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Jlc2VsZWN0LWFwaS1rZXknKSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuLy8gSGVscGVyIGZvciByZXRyeSBsb2dpYyB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmZcclxuYXN5bmMgZnVuY3Rpb24gcmV0cnlXaXRoQmFja29mZjxUPihcclxuICBmbjogKCkgPT4gUHJvbWlzZTxUPixcclxuICByZXRyaWVzID0gMyxcclxuICBiYXNlRGVsYXkgPSAxMDAwXHJcbik6IFByb21pc2U8VD4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgZm4oKTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAvLyBDaGVjayBmb3IgZmF0YWwgZXJyb3JzIGZpcnN0LiBJZiBmYXRhbCwgZG8gbm90IHJldHJ5LlxyXG4gICAgaWYgKGhhbmRsZUZhdGFsRXJyb3IoZXJyb3IpKSB7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0YXR1cyA9IGVycm9yLnN0YXR1cyB8fCBlcnJvci5jb2RlO1xyXG4gICAgY29uc3QgbWVzc2FnZSA9IChlcnJvci5tZXNzYWdlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGVycm9yIGlzIHJldHJ5YWJsZSAoVHJhbnNpZW50IDV4eCBzZXJ2ZXIgZXJyb3JzKVxyXG4gICAgLy8gTm90ZTogV2UgaGFuZGxlZCA0MjkvUXVvdGEgYWJvdmUgYXMgZmF0YWwgYmVjYXVzZSB1c3VhbGx5IGluIHRoaXMgY29udGV4dCBpbXBsaWVzIERhaWx5IExpbWl0LCBub3QganVzdCBRUE0uXHJcbiAgICBjb25zdCBpc1JldHJ5YWJsZSA9XHJcbiAgICAgIChzdGF0dXMgJiYgWzUwMCwgNTAzXS5pbmNsdWRlcyhzdGF0dXMpKSB8fFxyXG4gICAgICAobWVzc2FnZS5pbmNsdWRlcygnaW50ZXJuYWwnKSB8fFxyXG4gICAgICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ292ZXJsb2FkZWQnKSB8fFxyXG4gICAgICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ3RpbWVvdXQnKSk7XHJcblxyXG4gICAgaWYgKHJldHJpZXMgPiAwICYmIGlzUmV0cnlhYmxlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgUmV0cnlpbmcgb3BlcmF0aW9uIGR1ZSB0byBlcnJvcjogJHttZXNzYWdlfS4gQXR0ZW1wdHMgbGVmdDogJHtyZXRyaWVzfS4gV2FpdGluZyAke2Jhc2VEZWxheX1tcy5gKTtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGJhc2VEZWxheSkpO1xyXG4gICAgICByZXR1cm4gcmV0cnlXaXRoQmFja29mZihmbiwgcmV0cmllcyAtIDEsIGJhc2VEZWxheSAqIDIpO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBEZWZpbmUgdGhlIHJlc3BvbnNlIHNjaGVtYSBmb3IgdGhlIGJvb2sgdXNpbmcgdGhlIFR5cGUgZW51bVxyXG5jb25zdCBib29rU2NoZW1hID0ge1xyXG4gIHR5cGU6IFR5cGUuT0JKRUNULFxyXG4gIHByb3BlcnRpZXM6IHtcclxuICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgIHR5cGU6IFR5cGUuT0JKRUNULFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiVGhlIHRpdGxlIG9mIHRoZSBib29rIGluIEhlYnJldyBPTkxZLiBEbyBOT1QgaW5jbHVkZSBFbmdsaXNoIHRyYW5zbGF0aW9uLlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0YXJnZXRBZ2U6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgICAgICBtYWluVGhlbWU6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgICAgICBlZHVjYXRpb25hbE1lc3NhZ2U6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgICAgICBhcnRTdHlsZToge1xyXG4gICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJEZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGUgYXJ0IHN0eWxlLlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYWluQ2hhcmFjdGVyRGVzY3JpcHRpb246IHtcclxuICAgICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQ29tcHJlaGVuc2l2ZSBwaHlzaWNhbCBkZXNjcmlwdGlvbiBvZiB0aGUgTUFJTiBjaGFyYWN0ZXIgKGNsb3RoaW5nLCBoYWlyLCBhY2Nlc3NvcmllcykuIEJlIHZlcnkgc3BlY2lmaWMgYWJvdXQgY29sb3JzLlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYWluQ2hhcmFjdGVyRGlzdGluY3RpdmVNYXJrOiB7XHJcbiAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORyxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkEgc3BlY2lmaWMsIHVuaXF1ZSB2aXN1YWwgZmVhdHVyZSBmb3IgdGhlIG1haW4gY2hhcmFjdGVyIHRoYXQgYWN0cyBhcyBhIHZpc3VhbCBhbmNob3IgKGUuZy4sICdiaWcgcmVkIGdsYXNzZXMnLCAnYSBzdGFyIHBhdGNoIG9uIHRoZSBvdmVyYWxscycsICdhIGdsb3dpbmcgYmx1ZSBwZW5kYW50JywgJ2EgcHVycGxlIGZlYXRoZXIgaW4gaGF0JykuIFRoaXMgTVVTVCBiZSBpbmNsdWRlZCBpbiBldmVyeSBzaW5nbGUgaW1hZ2UgZGVzY3JpcHRpb24uXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlY29uZGFyeUNoYXJhY3RlckRlc2NyaXB0aW9uOiB7XHJcbiAgICAgICAgICB0eXBlOiBUeXBlLlNUUklORyxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIklmIHRoZXJlIGlzIGEgY29uc3RhbnQgY29tcGFuaW9uIChhbmltYWwsIGZyaWVuZCwgc2libGluZykgdGhhdCBhcHBlYXJzIGluIG11bHRpcGxlIHBhZ2VzLCBkZXNjcmliZSB0aGVtIGhlcmUgd2l0aCBFWFRSRU1FIERFVEFJTC4gSW5jbHVkZTogU3BlY2llcywgQ29sb3IgKHNwZWNpZmljIHNoYWRlKSwgU2l6ZSwgQWNjZXNzb3JpZXMsIGFuZCBEaXN0aW5jdGl2ZSBNYXJrcy4gZS5nLiAnQSByb3R1bmQgYnJpZ2h0LXllbGxvdyBjaGljayB3aXRoIGxhcmdlIGFuaW1lLXN0eWxlIGJsdWUgZXllcywgYSB0aW55IG9yYW5nZSBiZWFrLCBhbmQgd2VhcmluZyBhIG1pbmlhdHVyZSByZWQgd29vbCBzY2FyZicuIFRoaXMgZGVzY3JpcHRpb24gTVVTVCBiZSB1bmlxdWUgYW5kIHVuY2hhbmdpbmcuXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlY29uZGFyeUNoYXJhY3RlckRpc3RpbmN0aXZlTWFyazoge1xyXG4gICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBIHNwZWNpZmljLCB1bmlxdWUgdmlzdWFsIGZlYXR1cmUgZm9yIHRoZSBzZWNvbmRhcnkgY2hhcmFjdGVyIChpZiBwcmVzZW50KSB0aGF0IGFjdHMgYXMgYSB2aXN1YWwgYW5jaG9yLlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBrZXlPYmplY3REZXNjcmlwdGlvbjoge1xyXG4gICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJEZXNjcmlwdGlvbiBvZiBhbnkgcmVjdXJyaW5nIG1hZ2ljYWwgb3Iga2V5IG9iamVjdC5cIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGl0bGVQcmltYXJ5Q29sb3I6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgICAgICB0aXRsZVNlY29uZGFyeUNvbG9yOiB7IHR5cGU6IFR5cGUuU1RSSU5HIH0sXHJcbiAgICAgICAgdGl0bGVFZmZlY3RUaGVtZToge1xyXG4gICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsXHJcbiAgICAgICAgICBlbnVtOiBbJ21hZ2ljYWwnLCAnbmF0dXJhbCcsICd0ZWNoJywgJ2NsYXNzaWMnLCAncGxheWZ1bCcsICdlbGVnYW50J11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHZpc3VhbENvbnNpc3RlbmN5R3VpZGU6IHtcclxuICAgICAgICAgIHR5cGU6IFR5cGUuT0JKRUNULFxyXG4gICAgICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJUcmFpdHM6IHsgdHlwZTogVHlwZS5BUlJBWSwgaXRlbXM6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSB9LFxyXG4gICAgICAgICAgICBvYmplY3RUcmFpdHM6IHsgdHlwZTogVHlwZS5BUlJBWSwgaXRlbXM6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSB9LFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kU3R5bGU6IHsgdHlwZTogVHlwZS5TVFJJTkcgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlcXVpcmVkOiBbXCJjaGFyYWN0ZXJUcmFpdHNcIiwgXCJvYmplY3RUcmFpdHNcIiwgXCJiYWNrZ3JvdW5kU3R5bGVcIl1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlcXVpcmVkOiBbXCJ0aXRsZVwiLCBcInRhcmdldEFnZVwiLCBcIm1haW5UaGVtZVwiLCBcImVkdWNhdGlvbmFsTWVzc2FnZVwiLCBcIm1haW5DaGFyYWN0ZXJEZXNjcmlwdGlvblwiLCBcIm1haW5DaGFyYWN0ZXJEaXN0aW5jdGl2ZU1hcmtcIiwgXCJhcnRTdHlsZVwiLCBcImtleU9iamVjdERlc2NyaXB0aW9uXCIsIFwidGl0bGVQcmltYXJ5Q29sb3JcIiwgXCJ0aXRsZVNlY29uZGFyeUNvbG9yXCIsIFwidGl0bGVFZmZlY3RUaGVtZVwiLCBcInZpc3VhbENvbnNpc3RlbmN5R3VpZGVcIl0sXHJcbiAgICB9LFxyXG4gICAgcGFnZXM6IHtcclxuICAgICAgdHlwZTogVHlwZS5BUlJBWSxcclxuICAgICAgaXRlbXM6IHtcclxuICAgICAgICB0eXBlOiBUeXBlLk9CSkVDVCxcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICBwYWdlTnVtYmVyOiB7IHR5cGU6IFR5cGUuSU5URUdFUiB9LFxyXG4gICAgICAgICAgaGVicmV3VGV4dDogeyB0eXBlOiBUeXBlLlNUUklORyB9LFxyXG4gICAgICAgICAgaW1hZ2VQcm9tcHQ6IHtcclxuICAgICAgICAgICAgdHlwZTogVHlwZS5TVFJJTkcsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkRldGFpbGVkIEVOR0xJU0ggdmlzdWFsIHNjZW5lIGRlc2NyaXB0aW9uLiBJTVBPUlRBTlQ6IERlc2NyaWJlIGEgU1BFQ0lGSUMgQ0FNRVJBIEFOR0xFIChlLmcuLCAnQ2xvc2UtdXAgb24gZmFjZScsICdXaWRlIHNob3QgZnJvbSBhYm92ZScsICdMb3cgYW5nbGUgbG9va2luZyB1cCcpIGFuZCBTUEVDSUZJQyBCQUNLR1JPVU5EIERFVEFJTFMgcmVsZXZhbnQgdG8gdGhlIGFjdGlvbi4gRG8gTk9UIGp1c3Qgc2F5ICdpbiB0aGUgZm9yZXN0Jy4gU2F5ICduZXh0IHRvIGEgZ2lhbnQgb2FrIHRyZWUgd2l0aCBzdW5saWdodCBmaWx0ZXJpbmcgdGhyb3VnaCcuXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXF1aXJlZDogW1wicGFnZU51bWJlclwiLCBcImhlYnJld1RleHRcIiwgXCJpbWFnZVByb21wdFwiXSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSxcclxuICByZXF1aXJlZDogW1wibWV0YWRhdGFcIiwgXCJwYWdlc1wiXSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVN0b3J5SWRlYSA9IGFzeW5jIChhZ2VSYW5nZTogc3RyaW5nLCBjdXJyZW50VG9waWM6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XHJcbiAgY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoeyBhcGlLZXk6IGdldEFwaUtleSgpIH0pO1xyXG4gIGNvbnN0IHByb21wdCA9IGBZb3UgYXJlIGEgY3JlYXRpdmUgY2hpbGRyZW4ncyBib29rIGVkaXRvci4gXHJcbiAgVGhlIHVzZXIgd2FudHMgYW4gaWRlYSBmb3IgYSBib29rLlxyXG4gIFRhcmdldCBBZ2U6ICR7YWdlUmFuZ2V9XHJcbiAgVXNlcidzIHJvdWdoIGlkZWEgKG9wdGlvbmFsKTogXCIke2N1cnJlbnRUb3BpY31cIlxyXG5cclxuICBQbGVhc2UgZ2VuZXJhdGUgYSBzaG9ydCwgc3RydWN0dXJlZCBjb25jZXB0IGluIEhFQlJFVyAo16LXkdeo15nXqikuXHJcbiAgU3RydWN0dXJlOlxyXG4gIDEuINep150g15TXodek16ggKFRpdGxlKVxyXG4gIDIuINeT157XldeqINeo15DXqdeZ16ogKE1haW4gQ2hhcmFjdGVyIC0gTmFtZSArIEEgdW5pcXVlIHZpc3VhbCB0cmFpdC9tYXJrKVxyXG4gIDMuINeq16fXpteZ16gg15TXotec15nXnNeUIChTaG9ydCBQbG90IFN1bW1hcnkpXHJcbiAgXHJcbiAgTWFrZSBpdCBlbmdhZ2luZywgbWFnaWNhbCwgYW5kIHN1aXRhYmxlIGZvciB0aGUgYWdlIGdyb3VwLiBcclxuICBEbyBub3QgaW5jbHVkZSBtYXJrZG93biBmb3JtYXR0aW5nIGxpa2UgKiogb3IgIyMuIEp1c3QgY2xlYW4gdGV4dC5gO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gVXNpbmcgZmxhc2ggZm9yIHNwZWVkXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJldHJ5V2l0aEJhY2tvZmY8R2VuZXJhdGVDb250ZW50UmVzcG9uc2U+KCgpID0+IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xyXG4gICAgICBtb2RlbDogJ2dlbWluaS0zLWZsYXNoLXByZXZpZXcnLFxyXG4gICAgICBjb250ZW50czogeyBwYXJ0czogW3sgdGV4dDogcHJvbXB0IH1dIH0sXHJcbiAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgIG1heE91dHB1dFRva2VuczogMzAwLFxyXG4gICAgICB9XHJcbiAgICB9KSk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2UudGV4dCB8fCBcIlwiO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIGlkZWE6XCIsIGVycm9yKTtcclxuICAgIC8vIElmIGhhbmRsZUZhdGFsRXJyb3IgcmV0dXJucyB0cnVlLCBpdCdzIGEgY3JpdGljYWwgYXV0aC9xdW90YSBlcnJvciBhbmQgd2UgbGV0IHRoZSBVSSByZWRpcmVjdC5cclxuICAgIC8vIElmIGl0IHJldHVybnMgZmFsc2UsIHdlIHRocm93IHNvIHRoZSBjb21wb25lbnQgY2FuIHNob3cgYSBzcGVjaWZpYyBhbGVydC5cclxuICAgIGlmICghaGFuZGxlRmF0YWxFcnJvcihlcnJvcikpIHtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJcIjtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVCb29rQ29udGVudCA9IGFzeW5jIChyZXF1ZXN0OiBCb29rUmVxdWVzdCk6IFByb21pc2U8Qm9vaz4gPT4ge1xyXG4gIC8vIENvcHlyaWdodCBjaGVjayBiZWZvcmUgZ2VuZXJhdGlvblxyXG4gIGNvbnN0IHsgdmFsaWRhdGVCb29rUmVxdWVzdCwgbG9nR2VuZXJhdGVkQm9vayB9ID0gYXdhaXQgaW1wb3J0KCcuL3Byb21wdEd1YXJkJyk7XHJcbiAgY29uc3QgY29weXJpZ2h0Q2hlY2sgPSBhd2FpdCB2YWxpZGF0ZUJvb2tSZXF1ZXN0KHJlcXVlc3QudG9waWMpO1xyXG4gIGlmICghY29weXJpZ2h0Q2hlY2suYWxsb3dlZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGNvcHlyaWdodENoZWNrLnJlYXNvbiB8fCAnQ29udGVudCBibG9ja2VkJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhaSA9IG5ldyBHb29nbGVHZW5BSSh7IGFwaUtleTogZ2V0QXBpS2V5KCkgfSk7XHJcbiAgY29uc3Qgc3lzdGVtSW5zdHJ1Y3Rpb24gPSBgWW91IGFyZSBhIHdvcmxkLWNsYXNzIGNoaWxkcmVuJ3MgYm9vayBhdXRob3IgYW5kIGFydCBkaXJlY3Rvci5cclxuICBcclxuICBUQVNLOiBDcmVhdGUgYSBtYWdpY2FsIGNoaWxkcmVuJ3MgYm9vayBpbiBIZWJyZXcgd2l0aCBkZXRhaWxlZCBFbmdsaXNoIGFydCBkaXJlY3Rpb24uXHJcbiAgXHJcbiAgU1RSSUNUIFBBR0UgQ09VTlQ6IEVYQUNUTFkgJHtyZXF1ZXN0LnBhZ2VDb3VudH0gcGFnZXMuXHJcbiAgXHJcbiAgR1VJREVMSU5FUzpcclxuICAxLiBTVE9SWSAoSGVicmV3KTogRW5nYWdpbmcsIGFnZS1hcHByb3ByaWF0ZSwgcGVyZmVjdCBncmFtbWFyLlxyXG4gICAgIC0gQ1JJVElDQUw6IFRoZSAndGl0bGUnIGluIG1ldGFkYXRhIE1VU1QgYmUgaW4gSGVicmV3IE9OTFkuIERvIG5vdCBpbmNsdWRlIGFuIEVuZ2xpc2ggdHJhbnNsYXRpb24uXHJcbiAgMi4gQVJUIERJUkVDVElPTiAoRW5nbGlzaCk6XHJcbiAgICAgLSAnbWFpbkNoYXJhY3RlckRlc2NyaXB0aW9uJzogQSBwcmVjaXNlLCB1bmNoYW5naW5nIHZpc3VhbCBkZWZpbml0aW9uLlxyXG4gICAgIC0gJ21haW5DaGFyYWN0ZXJEaXN0aW5jdGl2ZU1hcmsnOiBDUkVBVEUgQSBVTklRVUUgSURFTlRJRklFUiAoZS5nLiwgXCJSYWluYm93IFNjYXJmXCIsIFwiR29sZGVuIEdvZ2dsZXNcIikuIFRoaXMgaXMgQ1JJVElDQUwgZm9yIGNvbnNpc3RlbmN5LlxyXG4gICAgIC0gJ3Zpc3VhbENvbnNpc3RlbmN5R3VpZGUnOiBMaXN0IHNwZWNpZmljIGl0ZW1zL2NvbG9ycyB0aGF0IE1VU1QgYXBwZWFyIGluIGV2ZXJ5IGltYWdlLlxyXG4gICAgIC0gJ2ltYWdlUHJvbXB0JyAoZm9yIGVhY2ggcGFnZSk6IEEgRlVMTCBTQ0VORSBERVNDUklQVElPTi4gXHJcbiAgMy4gVklTVUFMIFZBUklFVFkgKENSSVRJQ0FMKTpcclxuICAgICAtICoqVkFSWSBDQU1FUkEgQU5HTEVTKio6IERvIE5PVCB1c2UgdGhlIHNhbWUgXCJtZWRpdW0gc2hvdFwiIGZvciBldmVyeSBwYWdlLiBVc2UgQ2xvc2UtdXBzLCBXaWRlIHNob3RzLCBCaXJkJ3MtZXllIHZpZXcsIExvdyBhbmdsZXMuXHJcbiAgICAgLSAqKlZBUlkgQkFDS0dST1VORFMqKjogRXZlbiBpZiB0aGUgc2V0dGluZyBpcyB0aGUgc2FtZSAoZS5nLiwgYSBmb3Jlc3QpLCBmb2N1cyBvbiBESUZGRVJFTlQgcGFydHMgb2YgaXQgKGUuZy4sIFwibmV4dCB0byBhIHN0cmVhbVwiLCBcImluc2lkZSBhIGhvbGxvdyBsb2dcIiwgXCJsb29raW5nIHVwIGF0IHRoZSBjYW5vcHlcIikuXHJcbiAgICAgLSAqKkRZTkFNSUMgQUNUSU9OKio6IENoYXJhY3RlcnMgc2hvdWxkIGJlIGRvaW5nIGRpZmZlcmVudCB0aGluZ3MsIG5vdCBqdXN0IHN0YW5kaW5nLlxyXG4gIDQuIENPTVBPU0lUSU9OIEFXQVJFTkVTUzpcclxuICAgICAtIFRoZSBpbWFnZXMgbXVzdCBiZSBGVUxMIEJMRUVELCBmaWxsaW5nIHRoZSBlbnRpcmUgc3F1YXJlIDE6MSBjYW52YXMuXHJcbiAgICAgLSBDZW50ZXIgdGhlIGFjdGlvbi5cclxuICAgICAtIERvIE5PVCBsZWF2ZSBlbXB0eSBzcGFjZSBmb3IgdGV4dC4gVGV4dCB3aWxsIGJlIGFkZGVkIGV4dGVybmFsbHkuXHJcbiAgYDtcclxuXHJcbiAgbGV0IHByb21wdCA9IGBDcmVhdGUgYSBjaGlsZHJlbidzIGJvb2suXHJcbiAgVGFyZ2V0IEFnZTogJHtyZXF1ZXN0LmFnZVJhbmdlfVxyXG4gIFRvcGljOiAke3JlcXVlc3QudG9waWN9XHJcbiAgUkVRVUlSRUQgTEVOR1RIOiBFWEFDVExZICR7cmVxdWVzdC5wYWdlQ291bnR9IHBhZ2VzLiBTdGFydCB3aXRoIHBhZ2UgMSBhcyB0aGUgY292ZXIgYW5kIGVuZCB3aXRoIHBhZ2UgJHtyZXF1ZXN0LnBhZ2VDb3VudH0uXHJcbiAgQXJ0IFN0eWxlIFNlbGVjdGlvbjogJHtyZXF1ZXN0LmFydFN0eWxlfWA7XHJcblxyXG4gIGlmIChyZXF1ZXN0LnByZXZpb3VzQ29udGV4dCkge1xyXG4gICAgcHJvbXB0ICs9IGBcclxuICAgIFNFUVVFTCBNT0RFOiBNYWludGFpbiBjaGFyYWN0ZXIgY29uc2lzdGVuY3kgd2l0aCB0aGUgcHJldmlvdXMgc3Rvcnk6IFwiJHtyZXF1ZXN0LnByZXZpb3VzQ29udGV4dC50aXRsZX1cIi5cclxuICAgIFByZXZpb3VzIE1haW4gQ2hhcmFjdGVyOiAke3JlcXVlc3QucHJldmlvdXNDb250ZXh0LmNoYXJhY3RlckRlc2NyaXB0aW9ufS5cclxuICAgICR7cmVxdWVzdC5wcmV2aW91c0NvbnRleHQuc2Vjb25kYXJ5Q2hhcmFjdGVyRGVzY3JpcHRpb24gPyBgUHJldmlvdXMgU2Vjb25kYXJ5IENoYXJhY3RlcjogJHtyZXF1ZXN0LnByZXZpb3VzQ29udGV4dC5zZWNvbmRhcnlDaGFyYWN0ZXJEZXNjcmlwdGlvbn1gIDogJyd9XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmV0cnlXaXRoQmFja29mZjxHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4oKCkgPT4gYWkubW9kZWxzLmdlbmVyYXRlQ29udGVudCh7XHJcbiAgICAgIG1vZGVsOiAnZ2VtaW5pLTMtcHJvLXByZXZpZXcnLFxyXG4gICAgICBjb250ZW50czogcHJvbXB0LFxyXG4gICAgICBjb25maWc6IHtcclxuICAgICAgICByZXNwb25zZU1pbWVUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IGJvb2tTY2hlbWEsXHJcbiAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHN5c3RlbUluc3RydWN0aW9uLFxyXG4gICAgICB9XHJcbiAgICB9KSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS50ZXh0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBib29rIGNvbnRlbnRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9vayA9IEpTT04ucGFyc2UocmVzcG9uc2UudGV4dCkgYXMgQm9vaztcclxuXHJcbiAgICAvLyBTYWZldHkgY2hlY2sgZm9yIHBhZ2UgY291bnRcclxuICAgIGNvbnNvbGUubG9nKGBSZXF1ZXN0ZWQgJHtyZXF1ZXN0LnBhZ2VDb3VudH0gcGFnZXMsIHJlY2VpdmVkICR7Ym9vay5wYWdlcy5sZW5ndGh9IHBhZ2VzLmApO1xyXG5cclxuICAgIC8vIEluamVjdCBBdWRpbyBDb25maWd1cmF0aW9uIGZyb20gUmVxdWVzdFxyXG4gICAgYm9vay5tZXRhZGF0YS5hdWRpb0NvbmZpZyA9IHtcclxuICAgICAgZW5hYmxlZDogcmVxdWVzdC5hdWRpb0VuYWJsZWQsXHJcbiAgICAgIHZvaWNlTmFtZTogcmVxdWVzdC52b2ljZU5hbWVcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHJlcXVlc3QucHJldmlvdXNDb250ZXh0Py5iYXNlQ2hhcmFjdGVySW1hZ2UpIHtcclxuICAgICAgYm9vay5tZXRhZGF0YS5iYXNlQ2hhcmFjdGVySW1hZ2VVcmwgPSByZXF1ZXN0LnByZXZpb3VzQ29udGV4dC5iYXNlQ2hhcmFjdGVySW1hZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVmaW5lIGFsbCBpbWFnZSBwcm9tcHRzIHRvIGluY2x1ZGUgdGhlIGNvbnNpc3RlbmN5IGd1aWRlIGZvciBCT1RIIGNoYXJhY3RlcnNcclxuICAgIGNvbnN0IHRyYWl0cyA9IGJvb2subWV0YWRhdGEudmlzdWFsQ29uc2lzdGVuY3lHdWlkZS5jaGFyYWN0ZXJUcmFpdHMuam9pbihcIiwgXCIpO1xyXG4gICAgY29uc3Qgb2JqVHJhaXRzID0gYm9vay5tZXRhZGF0YS52aXN1YWxDb25zaXN0ZW5jeUd1aWRlLm9iamVjdFRyYWl0cy5qb2luKFwiLCBcIik7XHJcbiAgICBjb25zdCBtYWluTWFyayA9IGJvb2subWV0YWRhdGEubWFpbkNoYXJhY3RlckRpc3RpbmN0aXZlTWFyayB8fCBcIkRpc3RpbmN0aXZlIGZlYXR1cmVcIjtcclxuICAgIGNvbnN0IHNlY01hcmsgPSBib29rLm1ldGFkYXRhLnNlY29uZGFyeUNoYXJhY3RlckRpc3RpbmN0aXZlTWFyaztcclxuXHJcbiAgICBib29rLnBhZ2VzID0gYm9vay5wYWdlcy5tYXAoKHBhZ2UsIGlkeCkgPT4ge1xyXG4gICAgICAvLyAxLiBFc3RhYmxpc2ggdGhlIHZpc3VhbCBhbmNob3IgKENoYXJhY3RlcnMgJiBTdHlsZSlcclxuICAgICAgbGV0IHJlZmluZWRQcm9tcHQgPSBgW01BSU4gQ0hBUkFDVEVSXTogJHtib29rLm1ldGFkYXRhLm1haW5DaGFyYWN0ZXJEZXNjcmlwdGlvbn0uIERJU1RJTkNUSVZFIEZFQVRVUkU6ICR7bWFpbk1hcmt9LiBLZXkgRmVhdHVyZXM6ICR7dHJhaXRzfS4gYDtcclxuXHJcbiAgICAgIGlmIChib29rLm1ldGFkYXRhLnNlY29uZGFyeUNoYXJhY3RlckRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgcmVmaW5lZFByb21wdCArPSBgW1NFQ09OREFSWSBDSEFSQUNURVJdOiAke2Jvb2subWV0YWRhdGEuc2Vjb25kYXJ5Q2hhcmFjdGVyRGVzY3JpcHRpb259LiBESVNUSU5DVElWRSBGRUFUVVJFOiAke3NlY01hcmsgfHwgJ05vbmUnfS4gYDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gMi4gU2V0IHRoZSBFbnZpcm9ubWVudC9BdG1vc3BoZXJlIFxyXG4gICAgICAvLyBOT1RFOiBXZSBsYWJlbCB0aGlzIFwiR2VuZXJhbCBDb250ZXh0XCIgc28gaXQgZG9lc24ndCBvdmVycmlkZSB0aGUgc3BlY2lmaWMgc2NlbmUgYWN0aW9uXHJcbiAgICAgIHJlZmluZWRQcm9tcHQgKz0gYFtHRU5FUkFMIENPTlRFWFRdOiAke2Jvb2subWV0YWRhdGEudmlzdWFsQ29uc2lzdGVuY3lHdWlkZS5iYWNrZ3JvdW5kU3R5bGV9LiBgO1xyXG4gICAgICBpZiAob2JqVHJhaXRzKSByZWZpbmVkUHJvbXB0ICs9IGBbUFJPUFNdOiAke29ialRyYWl0c30uIGA7XHJcblxyXG4gICAgICAvLyAzLiBEZWZpbmUgdGhlIHNwZWNpZmljIHNjZW5lIGFjdGlvbiAtIFRISVMgSVMgUFJJT1JJVFlcclxuICAgICAgcmVmaW5lZFByb21wdCArPSBgW1NQRUNJRklDIFNDRU5FIEFDVElPTiAmIEFOR0xFXTogJHtwYWdlLmltYWdlUHJvbXB0fS4gYDtcclxuXHJcbiAgICAgIHJldHVybiB7IC4uLnBhZ2UsIGltYWdlUHJvbXB0OiByZWZpbmVkUHJvbXB0IH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBEb24ndCBzYXZlIGhlcmUgLSBzYXZlZCBkdXJpbmcgZXhwb3J0IGluc3RlYWRcclxuICAgIHJldHVybiBib29rO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIGJvb2sgY29udGVudDpcIiwgZXJyb3IpO1xyXG4gICAgLy8gRXh0cmEgY2F0Y2gganVzdCBpbiBjYXNlIHJldHJ5V2l0aEJhY2tvZmYgZGlkbid0IGNhdGNoIGl0XHJcbiAgICBoYW5kbGVGYXRhbEVycm9yKGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVBhZ2VJbWFnZSA9IGFzeW5jIChcclxuICBhY3Rpb25Qcm9tcHQ6IHN0cmluZyxcclxuICBjaGFyYWN0ZXJEZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gIGFydFN0eWxlOiBzdHJpbmcsXHJcbiAgYmFzZUNoYXJhY3RlckltYWdlVXJsPzogc3RyaW5nLFxyXG4gIGlzQ292ZXI6IGJvb2xlYW4gPSBmYWxzZSxcclxuICB0ZXh0VG9SZW5kZXI/OiBzdHJpbmdcclxuKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7XHJcbiAgY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoeyBhcGlLZXk6IGdldEFwaUtleSgpIH0pO1xyXG5cclxuICBsZXQgZmluYWxQcm9tcHQgPSBcIlwiO1xyXG4gIGxldCBtb2RlbE5hbWUgPSBcIlwiO1xyXG4gIGxldCBpbWFnZUNvbmZpZyA9IHt9O1xyXG5cclxuICBpZiAoaXNDb3Zlcikge1xyXG4gICAgLy8gQ09WRVIgU1RSQVRFR1k6IFVzZSBQcm8gbW9kZWwsIGJha2UgdGV4dC5cclxuICAgIG1vZGVsTmFtZSA9ICdnZW1pbmktMy1wcm8taW1hZ2UtcHJldmlldyc7XHJcbiAgICBpbWFnZUNvbmZpZyA9IHsgYXNwZWN0UmF0aW86IFwiMToxXCIsIGltYWdlU2l6ZTogXCIxS1wiIH07XHJcblxyXG4gICAgZmluYWxQcm9tcHQgPSBgXHJcbiAgICAgIFtST0xFXTogRXhwZXJ0IENoaWxkcmVuJ3MgQm9vayBDb3ZlciBEZXNpZ25lci5cclxuICAgICAgW0FSVCBTVFlMRV06ICR7YXJ0U3R5bGV9LlxyXG4gICAgICBcclxuICAgICAgW0NBU1QgREVGSU5JVElPTlNdOiBcclxuICAgICAgJHtjaGFyYWN0ZXJEZXNjcmlwdGlvbn1cclxuICAgICAgXHJcbiAgICAgIFtTQ0VORSBERVNDUklQVElPTl06ICR7YWN0aW9uUHJvbXB0fVxyXG4gICAgICBcclxuICAgICAgW1RJVExFIFRFWFQgLSBBQlNPTFVURSBSRVFVSVJFTUVOVF06XHJcbiAgICAgIFRoZSBPTkxZIHRleHQgaW4gdGhpcyBlbnRpcmUgaW1hZ2UgaXM6IFwiJHt0ZXh0VG9SZW5kZXJ9XCJcclxuICAgICAgXHJcbiAgICAgIENSSVRJQ0FMIC0gVEVYVCBSVUxFUzpcclxuICAgICAgMS4gT05MWSBkaXNwbGF5IHRoZSBleGFjdCB0aXRsZSBhYm92ZSAtIE5PIG90aGVyIHRleHQgd2hhdHNvZXZlclxyXG4gICAgICAyLiBBQlNPTFVURUxZIE5POiBzdWJ0aXRsZSwgYXV0aG9yLCBhZ2UgcmFuZ2UsIHBhZ2UgY291bnQsIHRhZ2xpbmUsIGRlc2NyaXB0aW9uXHJcbiAgICAgIDMuIEFCU09MVVRFTFkgTk86IFwi157Xl9eR16hcIiwgXCLXkteZ15xcIiwgXCLXotee15XXk9eZ151cIiwgbnVtYmVycywgY3JlZGl0cywgd2F0ZXJtYXJrc1xyXG4gICAgICA0LiBBQlNPTFVURUxZIE5POiBFbmdsaXNoIHRleHQsIExhdGluIGxldHRlcnMsIGFueSB0ZXh0IG5vdCBpbiB0aGUgdGl0bGVcclxuICAgICAgNS4gVGhlIHRpdGxlIHNob3VsZCBiZSBpbiB0aGUgVE9QIFRISVJEIG9mIHRoZSBpbWFnZVxyXG4gICAgICA2LiBVc2UgYXJ0aXN0aWMgSGVicmV3IGZvbnQgbWF0Y2hpbmcgJHthcnRTdHlsZX0gc3R5bGVcclxuICAgICAgNy4gQWRkIGdsb3cvc2hhZG93IGJlaGluZCB0ZXh0IGZvciByZWFkYWJpbGl0eVxyXG4gICAgICBcclxuICAgICAgW0NIQVJBQ1RFUl06XHJcbiAgICAgIDEuIE1haW4gY2hhcmFjdGVyIG11c3QgbWF0Y2ggUmVmZXJlbmNlIEltYWdlIChpZiBwcm92aWRlZClcclxuICAgICAgMi4gQ2hhcmFjdGVyIGluIGR5bmFtaWMsIGludml0aW5nIHBvc2VcclxuICAgICAgXHJcbiAgICAgIFtURUNITklDQUxdOiA4ayByZXNvbHV0aW9uLCBjaW5lbWF0aWMgbGlnaHRpbmcsIHZpdmlkIGNvbG9ycy5cclxuICAgICAgW05FR0FUSVZFIFBST01QVF06IHN1YnRpdGxlLCBhdXRob3IgbmFtZSwgcGFnZSBjb3VudCwgYWdlIHJhbmdlLCBFbmdsaXNoIHRleHQsIGV4dHJhIHRleHQsIHdhdGVybWFyaywgdGFnbGluZSwgY3JlZGl0cywg157Xl9eR16gsINeS15nXnCwg16LXnteV15PXmdedLCBudW1iZXJzIGF0IGJvdHRvbSwgZGVzY3JpcHRpb24gdGV4dCwgYW55IHRleHQgYmVzaWRlcyB0aXRsZS5cclxuICAgIGA7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIElOTkVSIFBBR0UgU1RSQVRFR1k6IFVzZSBGbGFzaCBtb2RlbCwgTk8gdGV4dC5cclxuICAgIG1vZGVsTmFtZSA9ICdnZW1pbmktMi41LWZsYXNoLWltYWdlJztcclxuXHJcbiAgICAvLyBFbmhhbmNlZCBwcm9tcHQgd2l0aCBzdHJvbmdlciBjaGFyYWN0ZXIgY29uc2lzdGVuY3lcclxuICAgIGZpbmFsUHJvbXB0ID0gYFxyXG4gICAgICBbUk9MRV06IFByb2Zlc3Npb25hbCBDaGlsZHJlbidzIEJvb2sgSWxsdXN0cmF0b3Igc3BlY2lhbGl6aW5nIGluIGNoYXJhY3RlciBjb25zaXN0ZW5jeS5cclxuICAgICAgW0FSVCBTVFlMRV06ICR7YXJ0U3R5bGV9LlxyXG4gICAgICBcclxuICAgICAgW0NBU1QgREVGSU5JVElPTlMgLSBDUklUSUNBTCBGT1IgQ09OU0lTVEVOQ1ldOiBcclxuICAgICAgJHtjaGFyYWN0ZXJEZXNjcmlwdGlvbn1cclxuICAgICAgXHJcbiAgICAgIFtTQ0VORSBUTyBJTExVU1RSQVRFXTogXHJcbiAgICAgICR7YWN0aW9uUHJvbXB0fVxyXG4gICAgICBcclxuICAgICAgW0NIQVJBQ1RFUiBDT05TSVNURU5DWSAtIE1BTkRBVE9SWV06XHJcbiAgICAgIDEuIFNBTUUgQ0hBUkFDVEVSID0gSURFTlRJQ0FMIEFQUEVBUkFOQ0UgaW4gZXZlcnkgaWxsdXN0cmF0aW9uXHJcbiAgICAgIDIuIE1haW4gY2hhcmFjdGVyIE1VU1QgaGF2ZSB0aGUgRVhBQ1Qgc2FtZTpcclxuICAgICAgICAgLSBGYWNlIHNoYXBlIGFuZCBmZWF0dXJlc1xyXG4gICAgICAgICAtIEhhaXIgY29sb3IgYW5kIHN0eWxlXHJcbiAgICAgICAgIC0gQ2xvdGhpbmcgYW5kIGFjY2Vzc29yaWVzXHJcbiAgICAgICAgIC0gQW55IGRpc3RpbmN0aXZlIG1hcmtzIG1lbnRpb25lZCBpbiBDQVNUIERFRklOSVRJT05TXHJcbiAgICAgIDMuIElmIGEgUmVmZXJlbmNlIEltYWdlIGlzIHByb3ZpZGVkLCB0aGUgY2hhcmFjdGVyIE1VU1QgbWF0Y2ggaXQgRVhBQ1RMWVxyXG4gICAgICA0LiBTZWNvbmRhcnkgY2hhcmFjdGVyIChpZiBwcmVzZW50KSBtdXN0IGFsc28gYmUgY29uc2lzdGVudFxyXG4gICAgICA1LiBETyBOT1QgY2hhbmdlIGNoYXJhY3RlciBhcHBlYXJhbmNlIGJldHdlZW4gcGFnZXNcclxuICAgICAgXHJcbiAgICAgIFtJTExVU1RSQVRJT04gUlVMRVNdOlxyXG4gICAgICAxLiAqKkFCU09MVVRFTFkgTk8gVEVYVCoqOiBObyB0ZXh0LCBjYXB0aW9ucywgc3BlZWNoIGJ1YmJsZXMsIG9yIHdvcmRzXHJcbiAgICAgIDIuICoqRlVMTCBCTEVFRCoqOiBVc2UgZW50aXJlIGNhbnZhcywgbm8gYm9yZGVycyBvciBtYXJnaW5zXHJcbiAgICAgIDMuICoqRFlOQU1JQyBDT01QT1NJVElPTioqOiBVc2UgdGhlIGNhbWVyYSBhbmdsZSBzcGVjaWZpZWQgaW4gdGhlIHNjZW5lIGRlc2NyaXB0aW9uXHJcbiAgICAgIFxyXG4gICAgICBbQkFDS0dST1VORCBJTlNUUlVDVElPTl06IFxyXG4gICAgICBNYXRjaCBiYWNrZ3JvdW5kIHRvIHRoZSBzcGVjaWZpYyBzY2VuZSBhY3Rpb24gZGVzY3JpYmVkIGFib3ZlLlxyXG4gICAgICBVc2UgdmFyaWVkIGNhbWVyYSBhbmdsZXMgKENsb3NlLXVwLCBXaWRlIHNob3QsIExvdyBhbmdsZSkgZm9yIHZpc3VhbCB2YXJpZXR5LlxyXG4gICAgICBcclxuICAgICAgW1RFQ0hOSUNBTCBTUEVDU106IDhrIHJlc29sdXRpb24sIGNpbmVtYXRpYyBsaWdodGluZywgdml2aWQgc2F0dXJhdGVkIGNvbG9ycy5cclxuICAgICAgW05FR0FUSVZFXTogdGV4dCwgd3JpdGluZywgbGV0dGVycywgd29yZHMsIHdhdGVybWFyaywgbG9nbywgYmx1cnJ5LCBsb3cgcXVhbGl0eSwgaW5jb25zaXN0ZW50IGNoYXJhY3RlciwgZGlmZmVyZW50IG91dGZpdCwgY2hhbmdlZCBhcHBlYXJhbmNlLlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHBhcnRzOiBhbnlbXSA9IFt7IHRleHQ6IGZpbmFsUHJvbXB0IH1dO1xyXG5cclxuICAvLyBJZiB3ZSBoYXZlIGEgYmFzZSBjaGFyYWN0ZXIgaW1hZ2UsIHdlIE1VU1Qgc2VuZCBpdCBhcyBhIHJlZmVyZW5jZSBmb3IgRVZFUlkgcGFnZVxyXG4gIGlmIChiYXNlQ2hhcmFjdGVySW1hZ2VVcmwgJiYgYmFzZUNoYXJhY3RlckltYWdlVXJsLnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UvJykpIHtcclxuICAgIGNvbnN0IG1hdGNoZXMgPSBiYXNlQ2hhcmFjdGVySW1hZ2VVcmwubWF0Y2goL15kYXRhOiguKyk7YmFzZTY0LCguKykkLyk7XHJcbiAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICBwYXJ0cy51bnNoaWZ0KHtcclxuICAgICAgICBpbmxpbmVEYXRhOiB7XHJcbiAgICAgICAgICBtaW1lVHlwZTogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgIGRhdGE6IG1hdGNoZXNbMl1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBwYXJ0cy5wdXNoKHsgdGV4dDogXCJSRUZFUkVOQ0UgSU1BR0UgSU5TVFJVQ1RJT046IFRoZSBpbWFnZSBhYm92ZSBpcyB0aGUgTUFJTiBjaGFyYWN0ZXIgcmVmZXJlbmNlLiBNYXRjaCB0aGlzIGNoYXJhY3RlciBleGFjdGx5LlwiIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmV0cnlXaXRoQmFja29mZjxHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4oKCkgPT4gYWkubW9kZWxzLmdlbmVyYXRlQ29udGVudCh7XHJcbiAgICAgIG1vZGVsOiBtb2RlbE5hbWUsXHJcbiAgICAgIGNvbnRlbnRzOiB7IHBhcnRzIH0sXHJcbiAgICAgIGNvbmZpZzogaXNDb3ZlciA/IHsgaW1hZ2VDb25maWcgfSA6IHVuZGVmaW5lZFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIHJlc3BvbnNlLmNhbmRpZGF0ZXMgfHwgW10pIHtcclxuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGNhbmRpZGF0ZS5jb250ZW50LnBhcnRzKSB7XHJcbiAgICAgICAgaWYgKHBhcnQuaW5saW5lRGF0YSAmJiBwYXJ0LmlubGluZURhdGEuZGF0YSkge1xyXG4gICAgICAgICAgcmV0dXJuIGBkYXRhOiR7cGFydC5pbmxpbmVEYXRhLm1pbWVUeXBlfTtiYXNlNjQsJHtwYXJ0LmlubGluZURhdGEuZGF0YX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdlbmVyYXRpbmcgaW1hZ2U6XCIsIGVycm9yKTtcclxuICAgIGhhbmRsZUZhdGFsRXJyb3IoZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFuYWx5emVCb29rUGRmID0gYXN5bmMgKHBkZkJhc2U2NDogc3RyaW5nKTogUHJvbWlzZTxQcmV2aW91c0Jvb2tDb250ZXh0PiA9PiB7XHJcbiAgY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoeyBhcGlLZXk6IGdldEFwaUtleSgpIH0pO1xyXG5cclxuICBjb25zdCBwcm9tcHQgPSBgXHJcbiAgICBBbmFseXplIHRoaXMgUERGIGNoaWxkcmVuJ3MgYm9vay4gXHJcbiAgICBFeHRyYWN0IHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb24gdG8gY3JlYXRlIGEgc2VxdWVsIGNvbnRleHQ6XHJcbiAgICAxLiBUaXRsZSBvZiB0aGUgYm9vay5cclxuICAgIDIuIEEgc3VtbWFyeSBvZiB0aGUgcGxvdC5cclxuICAgIDMuIEEgZGV0YWlsZWQgdmlzdWFsIGRlc2NyaXB0aW9uIG9mIHRoZSBNQUlOIGNoYXJhY3RlciAoYXBwZWFyYW5jZSwgY2xvdGhlcywgaGFpciwgY29sb3JzKS5cclxuICAgIDQuIEEgZGV0YWlsZWQgdmlzdWFsIGRlc2NyaXB0aW9uIG9mIGFueSBTRUNPTkRBUlkgY2hhcmFjdGVyIChzaWRla2ljaykgaWYgcHJlc2VudC5cclxuICAgIDUuIFRoZSBhcnQgc3R5bGUgdXNlZC5cclxuICAgIFxyXG4gICAgUmV0dXJuIHRoZSByZXN1bHQgYXMgYSBKU09OIG9iamVjdC5cclxuICBgO1xyXG5cclxuICBjb25zdCBleHRyYWN0aW9uU2NoZW1hID0ge1xyXG4gICAgdHlwZTogVHlwZS5PQkpFQ1QsXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgIHRpdGxlOiB7IHR5cGU6IFR5cGUuU1RSSU5HIH0sXHJcbiAgICAgIHN1bW1hcnk6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgICAgY2hhcmFjdGVyRGVzY3JpcHRpb246IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgICAgc2Vjb25kYXJ5Q2hhcmFjdGVyRGVzY3JpcHRpb246IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgICAgYXJ0U3R5bGU6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSxcclxuICAgIH0sXHJcbiAgICByZXF1aXJlZDogW1widGl0bGVcIiwgXCJzdW1tYXJ5XCIsIFwiY2hhcmFjdGVyRGVzY3JpcHRpb25cIiwgXCJhcnRTdHlsZVwiXSxcclxuICB9O1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXRyeVdpdGhCYWNrb2ZmPEdlbmVyYXRlQ29udGVudFJlc3BvbnNlPigoKSA9PiBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcclxuICAgICAgbW9kZWw6ICdnZW1pbmktMy1mbGFzaC1wcmV2aWV3JyxcclxuICAgICAgY29udGVudHM6IHtcclxuICAgICAgICBwYXJ0czogW1xyXG4gICAgICAgICAgeyBpbmxpbmVEYXRhOiB7IG1pbWVUeXBlOiAnYXBwbGljYXRpb24vcGRmJywgZGF0YTogcGRmQmFzZTY0IH0gfSxcclxuICAgICAgICAgIHsgdGV4dDogcHJvbXB0IH1cclxuICAgICAgICBdXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgIHJlc3BvbnNlTWltZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICByZXNwb25zZVNjaGVtYTogZXh0cmFjdGlvblNjaGVtYVxyXG4gICAgICB9XHJcbiAgICB9KSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS50ZXh0KSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gYW5hbHl6ZSBQREZcIik7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwb25zZS50ZXh0KSBhcyBQcmV2aW91c0Jvb2tDb250ZXh0O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbmFseXppbmcgUERGOlwiLCBlcnJvcik7XHJcbiAgICBoYW5kbGVGYXRhbEVycm9yKGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEFVRElPIEdFTkVSQVRJT04gVVRJTFNcclxuXHJcbi8vIERlY29kZSBiYXNlNjQgdG8gYmluYXJ5IHN0cmluZyB0byBVaW50OEFycmF5IHRvIEludDE2QXJyYXlcclxuZnVuY3Rpb24gZGVjb2RlQXVkaW8oYmFzZTY0OiBzdHJpbmcpOiBJbnQxNkFycmF5IHtcclxuICBjb25zdCBiaW5hcnlTdHJpbmcgPSBhdG9iKGJhc2U2NCk7XHJcbiAgY29uc3QgbGVuID0gYmluYXJ5U3RyaW5nLmxlbmd0aDtcclxuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbik7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICB9XHJcbiAgcmV0dXJuIG5ldyBJbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVBhZ2VBdWRpbyA9IGFzeW5jICh0ZXh0OiBzdHJpbmcsIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LCB2b2ljZU5hbWU6IHN0cmluZyA9ICdQdWNrJyk6IFByb21pc2U8QXVkaW9CdWZmZXIgfCBudWxsPiA9PiB7XHJcbiAgY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoeyBhcGlLZXk6IGdldEFwaUtleSgpIH0pO1xyXG5cclxuICAvLyBWYWxpZGF0ZSBhbmQgVHJ1bmNhdGUgVGV4dFxyXG4gIGlmICghdGV4dCB8fCAhdGV4dC50cmltKCkpIHJldHVybiBudWxsO1xyXG5cclxuICAvLyBUcnVuY2F0ZSB0byB+NTAwIGNoYXJzIHRvIGF2b2lkIDUwMCBJbnRlcm5hbCBFcnJvciBmcm9tIFRUUyBtb2RlbCB3aGljaCBoYXMgaW5wdXQgbGltaXRzXHJcbiAgY29uc3Qgc2FmZVRleHQgPSB0ZXh0LnRyaW0oKS5zbGljZSgwLCA1MDApO1xyXG5cclxuICBjb25zdCBwcm9tcHQgPSBgUmVhZCB0aGUgZm9sbG93aW5nIEhlYnJldyB0ZXh0IGNsZWFybHksIHNsb3dseSwgYW5kIHdhcm1seSwgc3VpdGFibGUgZm9yIGEgY2hpbGRyZW4ncyBib29rIHN0b3J5dGVsbGluZzpcclxuICAgIFxyXG4gICAgJHtzYWZlVGV4dH1gO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXRyeVdpdGhCYWNrb2ZmPEdlbmVyYXRlQ29udGVudFJlc3BvbnNlPigoKSA9PiBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcclxuICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1mbGFzaC1wcmV2aWV3LXR0c1wiLFxyXG4gICAgICBjb250ZW50czogW3sgcGFydHM6IFt7IHRleHQ6IHByb21wdCB9XSB9XSxcclxuICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgcmVzcG9uc2VNb2RhbGl0aWVzOiBbTW9kYWxpdHkuQVVESU9dLFxyXG4gICAgICAgIHNwZWVjaENvbmZpZzoge1xyXG4gICAgICAgICAgdm9pY2VDb25maWc6IHtcclxuICAgICAgICAgICAgcHJlYnVpbHRWb2ljZUNvbmZpZzogeyB2b2ljZU5hbWU6IHZvaWNlTmFtZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KSk7XHJcblxyXG4gICAgY29uc3QgYmFzZTY0QXVkaW8gPSByZXNwb25zZS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5bMF0/LmlubGluZURhdGE/LmRhdGE7XHJcblxyXG4gICAgaWYgKCFiYXNlNjRBdWRpbykgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgLy8gRGVjb2RlIFBDTSBkYXRhXHJcbiAgICBjb25zdCBwY21EYXRhID0gZGVjb2RlQXVkaW8oYmFzZTY0QXVkaW8pO1xyXG5cclxuICAgIC8vIENvbnZlcnQgSW50MTYgUENNIHRvIEZsb2F0MzIgZm9yIEF1ZGlvQ29udGV4dCAoLTEuMCB0byAxLjApXHJcbiAgICBjb25zdCBmbG9hdDMyRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocGNtRGF0YS5sZW5ndGgpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwY21EYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGZsb2F0MzJEYXRhW2ldID0gcGNtRGF0YVtpXSAvIDMyNzY4LjA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIEF1ZGlvIEJ1ZmZlciAoTW9ubywgMjRrSHogYXMgcGVyIHN0YW5kYXJkIEdlbkFJIG91dHB1dCB1c3VhbGx5LCBidXQgY29udGV4dCBzYW1wbGUgcmF0ZSBtYXR0ZXJzKVxyXG4gICAgLy8gTm90ZTogVGhlIHJhdyBvdXRwdXQgaXMgdXN1YWxseSAyNDAwMEh6LlxyXG4gICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKDEsIGZsb2F0MzJEYXRhLmxlbmd0aCwgMjQwMDApO1xyXG4gICAgYXVkaW9CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCkuc2V0KGZsb2F0MzJEYXRhKTtcclxuXHJcbiAgICByZXR1cm4gYXVkaW9CdWZmZXI7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIGF1ZGlvOlwiLCBlcnJvcik7XHJcblxyXG4gICAgLy8gUHJvcGFnYXRlIGZhdGFsIGVycm9ycyB0byBwcm9tcHQga2V5IGNoYW5nZVxyXG4gICAgaGFuZGxlRmF0YWxFcnJvcihlcnJvcik7XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5BSSIsIlR5cGUiLCJNb2RhbGl0eSIsImFwaUtleU1hbmFnZXIiLCJnZXRBcGlLZXkiLCJrZXkiLCJnZXRLZXkiLCJFcnJvciIsImhhbmRsZUZhdGFsRXJyb3IiLCJlcnIiLCJlcnJvck9iaiIsImVycm9yIiwibXNnIiwibWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0xvd2VyQ2FzZSIsInN0YXR1cyIsImNvZGUiLCJpc1F1b3RhIiwiaW5jbHVkZXMiLCJpc0F1dGgiLCJjb25zb2xlIiwid2FybiIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsInJldHJ5V2l0aEJhY2tvZmYiLCJmbiIsInJldHJpZXMiLCJiYXNlRGVsYXkiLCJpc1JldHJ5YWJsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImJvb2tTY2hlbWEiLCJ0eXBlIiwiT0JKRUNUIiwicHJvcGVydGllcyIsIm1ldGFkYXRhIiwidGl0bGUiLCJTVFJJTkciLCJkZXNjcmlwdGlvbiIsInRhcmdldEFnZSIsIm1haW5UaGVtZSIsImVkdWNhdGlvbmFsTWVzc2FnZSIsImFydFN0eWxlIiwibWFpbkNoYXJhY3RlckRlc2NyaXB0aW9uIiwibWFpbkNoYXJhY3RlckRpc3RpbmN0aXZlTWFyayIsInNlY29uZGFyeUNoYXJhY3RlckRlc2NyaXB0aW9uIiwic2Vjb25kYXJ5Q2hhcmFjdGVyRGlzdGluY3RpdmVNYXJrIiwia2V5T2JqZWN0RGVzY3JpcHRpb24iLCJ0aXRsZVByaW1hcnlDb2xvciIsInRpdGxlU2Vjb25kYXJ5Q29sb3IiLCJ0aXRsZUVmZmVjdFRoZW1lIiwiZW51bSIsInZpc3VhbENvbnNpc3RlbmN5R3VpZGUiLCJjaGFyYWN0ZXJUcmFpdHMiLCJBUlJBWSIsIml0ZW1zIiwib2JqZWN0VHJhaXRzIiwiYmFja2dyb3VuZFN0eWxlIiwicmVxdWlyZWQiLCJwYWdlcyIsInBhZ2VOdW1iZXIiLCJJTlRFR0VSIiwiaGVicmV3VGV4dCIsImltYWdlUHJvbXB0IiwiZ2VuZXJhdGVTdG9yeUlkZWEiLCJhZ2VSYW5nZSIsImN1cnJlbnRUb3BpYyIsImFpIiwiYXBpS2V5IiwicHJvbXB0IiwicmVzcG9uc2UiLCJtb2RlbHMiLCJnZW5lcmF0ZUNvbnRlbnQiLCJtb2RlbCIsImNvbnRlbnRzIiwicGFydHMiLCJ0ZXh0IiwiY29uZmlnIiwibWF4T3V0cHV0VG9rZW5zIiwiZ2VuZXJhdGVCb29rQ29udGVudCIsInJlcXVlc3QiLCJ2YWxpZGF0ZUJvb2tSZXF1ZXN0IiwibG9nR2VuZXJhdGVkQm9vayIsImNvcHlyaWdodENoZWNrIiwidG9waWMiLCJhbGxvd2VkIiwicmVhc29uIiwic3lzdGVtSW5zdHJ1Y3Rpb24iLCJwYWdlQ291bnQiLCJwcmV2aW91c0NvbnRleHQiLCJjaGFyYWN0ZXJEZXNjcmlwdGlvbiIsInJlc3BvbnNlTWltZVR5cGUiLCJyZXNwb25zZVNjaGVtYSIsImJvb2siLCJwYXJzZSIsImxvZyIsImxlbmd0aCIsImF1ZGlvQ29uZmlnIiwiZW5hYmxlZCIsImF1ZGlvRW5hYmxlZCIsInZvaWNlTmFtZSIsImJhc2VDaGFyYWN0ZXJJbWFnZSIsImJhc2VDaGFyYWN0ZXJJbWFnZVVybCIsInRyYWl0cyIsImpvaW4iLCJvYmpUcmFpdHMiLCJtYWluTWFyayIsInNlY01hcmsiLCJtYXAiLCJwYWdlIiwiaWR4IiwicmVmaW5lZFByb21wdCIsImdlbmVyYXRlUGFnZUltYWdlIiwiYWN0aW9uUHJvbXB0IiwiaXNDb3ZlciIsInRleHRUb1JlbmRlciIsImZpbmFsUHJvbXB0IiwibW9kZWxOYW1lIiwiaW1hZ2VDb25maWciLCJhc3BlY3RSYXRpbyIsImltYWdlU2l6ZSIsInN0YXJ0c1dpdGgiLCJtYXRjaGVzIiwibWF0Y2giLCJ1bnNoaWZ0IiwiaW5saW5lRGF0YSIsIm1pbWVUeXBlIiwiZGF0YSIsInB1c2giLCJ1bmRlZmluZWQiLCJjYW5kaWRhdGUiLCJjYW5kaWRhdGVzIiwicGFydCIsImNvbnRlbnQiLCJhbmFseXplQm9va1BkZiIsInBkZkJhc2U2NCIsImV4dHJhY3Rpb25TY2hlbWEiLCJzdW1tYXJ5IiwiZGVjb2RlQXVkaW8iLCJiYXNlNjQiLCJiaW5hcnlTdHJpbmciLCJhdG9iIiwibGVuIiwiYnl0ZXMiLCJVaW50OEFycmF5IiwiaSIsImNoYXJDb2RlQXQiLCJJbnQxNkFycmF5IiwiYnVmZmVyIiwiZ2VuZXJhdGVQYWdlQXVkaW8iLCJhdWRpb0NvbnRleHQiLCJ0cmltIiwic2FmZVRleHQiLCJzbGljZSIsInJlc3BvbnNlTW9kYWxpdGllcyIsIkFVRElPIiwic3BlZWNoQ29uZmlnIiwidm9pY2VDb25maWciLCJwcmVidWlsdFZvaWNlQ29uZmlnIiwiYmFzZTY0QXVkaW8iLCJwY21EYXRhIiwiZmxvYXQzMkRhdGEiLCJGbG9hdDMyQXJyYXkiLCJhdWRpb0J1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImdldENoYW5uZWxEYXRhIiwic2V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./services/geminiService.ts\n");

/***/ }),

/***/ "(ssr)/./services/googleDrive.ts":
/*!*********************************!*\
  !*** ./services/googleDrive.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GOOGLE_CLIENT_ID: () => (/* binding */ GOOGLE_CLIENT_ID),\n/* harmony export */   clearDriveAccess: () => (/* binding */ clearDriveAccess),\n/* harmony export */   getDriveAccessToken: () => (/* binding */ getDriveAccessToken),\n/* harmony export */   hasDriveAccess: () => (/* binding */ hasDriveAccess),\n/* harmony export */   setDriveAccessToken: () => (/* binding */ setDriveAccessToken),\n/* harmony export */   uploadBookToDrive: () => (/* binding */ uploadBookToDrive),\n/* harmony export */   uploadToDrive: () => (/* binding */ uploadToDrive)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ setDriveAccessToken,getDriveAccessToken,hasDriveAccess,clearDriveAccess,uploadToDrive,uploadBookToDrive,GOOGLE_CLIENT_ID auto */ // Google Drive service for uploading files\n// Uses OAuth2 to authenticate and upload files\nconst GOOGLE_CLIENT_ID = \"your_google_client_id_here\" || 0;\n// Store access token\nlet accessToken = null;\nconst setDriveAccessToken = (token)=>{\n    accessToken = token;\n    // Also store in sessionStorage for persistence\n    if (false) {}\n};\nconst getDriveAccessToken = ()=>{\n    if (accessToken) return accessToken;\n    if (false) {}\n    return null;\n};\nconst hasDriveAccess = ()=>{\n    return !!getDriveAccessToken();\n};\nconst clearDriveAccess = ()=>{\n    accessToken = null;\n    if (false) {}\n};\n// Create or get the KidCraft folder in Drive\nconst getOrCreateFolder = async (token)=>{\n    const folderName = 'KidCraft AI Books';\n    // Search for existing folder\n    const searchResponse = await fetch(`https://www.googleapis.com/drive/v3/files?q=name='${folderName}' and mimeType='application/vnd.google-apps.folder' and trashed=false`, {\n        headers: {\n            Authorization: `Bearer ${token}`\n        }\n    });\n    const searchResult = await searchResponse.json();\n    if (searchResult.files && searchResult.files.length > 0) {\n        return searchResult.files[0].id;\n    }\n    // Create new folder\n    const createResponse = await fetch('https://www.googleapis.com/drive/v3/files', {\n        method: 'POST',\n        headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            name: folderName,\n            mimeType: 'application/vnd.google-apps.folder'\n        })\n    });\n    const folder = await createResponse.json();\n    return folder.id;\n};\n// Upload file to Google Drive\nconst uploadToDrive = async (file, fileName, mimeType)=>{\n    const token = getDriveAccessToken();\n    if (!token) {\n        throw new Error('  -Google Drive');\n    }\n    try {\n        // Get or create the KidCraft folder\n        const folderId = await getOrCreateFolder(token);\n        // Create multipart upload body\n        const metadata = {\n            name: fileName,\n            parents: [\n                folderId\n            ]\n        };\n        const form = new FormData();\n        form.append('metadata', new Blob([\n            JSON.stringify(metadata)\n        ], {\n            type: 'application/json'\n        }));\n        form.append('file', file);\n        // Upload file\n        const uploadResponse = await fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,webViewLink,webContentLink', {\n            method: 'POST',\n            headers: {\n                Authorization: `Bearer ${token}`\n            },\n            body: form\n        });\n        if (!uploadResponse.ok) {\n            const error = await uploadResponse.json();\n            throw new Error(error.error?.message || 'Upload failed');\n        }\n        const result = await uploadResponse.json();\n        // Make file publicly accessible\n        await fetch(`https://www.googleapis.com/drive/v3/files/${result.id}/permissions`, {\n            method: 'POST',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                role: 'reader',\n                type: 'anyone'\n            })\n        });\n        return {\n            fileId: result.id,\n            webViewLink: result.webViewLink || `https://drive.google.com/file/d/${result.id}/view`,\n            webContentLink: result.webContentLink || `https://drive.google.com/uc?id=${result.id}&export=download`\n        };\n    } catch (error) {\n        console.error('Drive upload error:', error);\n        throw error;\n    }\n};\n// Upload ZIP and PDF to Drive and return links\nconst uploadBookToDrive = async (zipBlob, pdfBlob, bookTitle)=>{\n    const safeTitle = bookTitle.replace(/[\\\\/:*?\"<>|]/g, '_');\n    const timestamp = new Date().toISOString().split('T')[0];\n    const [zipResult, pdfResult] = await Promise.all([\n        uploadToDrive(zipBlob, `${safeTitle}_${timestamp}.zip`, 'application/zip'),\n        uploadToDrive(pdfBlob, `${safeTitle}_${timestamp}.pdf`, 'application/pdf')\n    ]);\n    return {\n        zipLink: zipResult.webViewLink,\n        pdfLink: pdfResult.webViewLink\n    };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zZXJ2aWNlcy9nb29nbGVEcml2ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OzhLQUVBLDJDQUEyQztBQUMzQywrQ0FBK0M7QUFFL0MsTUFBTUEsbUJBQW1CQyw0QkFBd0MsSUFBSSxDQUFFO0FBUXZFLHFCQUFxQjtBQUNyQixJQUFJRyxjQUE2QjtBQUUxQixNQUFNQyxzQkFBc0IsQ0FBQ0M7SUFDaENGLGNBQWNFO0lBQ2QsK0NBQStDO0lBQy9DLElBQUksS0FBNkIsRUFBRSxFQUVsQztBQUNMLEVBQUM7QUFFTSxNQUFNRyxzQkFBc0I7SUFDL0IsSUFBSUwsYUFBYSxPQUFPQTtJQUN4QixJQUFJLEtBQTZCLEVBQUUsRUFFbEM7SUFDRCxPQUFPO0FBQ1gsRUFBQztBQUVNLE1BQU1PLGlCQUFpQjtJQUMxQixPQUFPLENBQUMsQ0FBQ0Y7QUFDYixFQUFDO0FBRU0sTUFBTUcsbUJBQW1CO0lBQzVCUixjQUFjO0lBQ2QsSUFBSSxLQUE2QixFQUFFLEVBRWxDO0FBQ0wsRUFBQztBQUVELDZDQUE2QztBQUM3QyxNQUFNVSxvQkFBb0IsT0FBT1I7SUFDN0IsTUFBTVMsYUFBYTtJQUVuQiw2QkFBNkI7SUFDN0IsTUFBTUMsaUJBQWlCLE1BQU1DLE1BQ3pCLENBQUMsa0RBQWtELEVBQUVGLFdBQVcscUVBQXFFLENBQUMsRUFDdEk7UUFDSUcsU0FBUztZQUFFQyxlQUFlLENBQUMsT0FBTyxFQUFFYixPQUFPO1FBQUM7SUFDaEQ7SUFHSixNQUFNYyxlQUFlLE1BQU1KLGVBQWVLLElBQUk7SUFFOUMsSUFBSUQsYUFBYUUsS0FBSyxJQUFJRixhQUFhRSxLQUFLLENBQUNDLE1BQU0sR0FBRyxHQUFHO1FBQ3JELE9BQU9ILGFBQWFFLEtBQUssQ0FBQyxFQUFFLENBQUNFLEVBQUU7SUFDbkM7SUFFQSxvQkFBb0I7SUFDcEIsTUFBTUMsaUJBQWlCLE1BQU1SLE1BQ3pCLDZDQUNBO1FBQ0lTLFFBQVE7UUFDUlIsU0FBUztZQUNMQyxlQUFlLENBQUMsT0FBTyxFQUFFYixPQUFPO1lBQ2hDLGdCQUFnQjtRQUNwQjtRQUNBcUIsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO1lBQ2pCQyxNQUFNZjtZQUNOZ0IsVUFBVTtRQUNkO0lBQ0o7SUFHSixNQUFNQyxTQUFTLE1BQU1QLGVBQWVKLElBQUk7SUFDeEMsT0FBT1csT0FBT1IsRUFBRTtBQUNwQjtBQUVBLDhCQUE4QjtBQUN2QixNQUFNUyxnQkFBZ0IsT0FDekJDLE1BQ0FDLFVBQ0FKO0lBRUEsTUFBTXpCLFFBQVFHO0lBQ2QsSUFBSSxDQUFDSCxPQUFPO1FBQ1IsTUFBTSxJQUFJOEIsTUFBTTtJQUNwQjtJQUVBLElBQUk7UUFDQSxvQ0FBb0M7UUFDcEMsTUFBTUMsV0FBVyxNQUFNdkIsa0JBQWtCUjtRQUV6QywrQkFBK0I7UUFDL0IsTUFBTWdDLFdBQVc7WUFDYlIsTUFBTUs7WUFDTkksU0FBUztnQkFBQ0Y7YUFBUztRQUN2QjtRQUVBLE1BQU1HLE9BQU8sSUFBSUM7UUFDakJELEtBQUtFLE1BQU0sQ0FBQyxZQUFZLElBQUlDLEtBQUs7WUFBQ2YsS0FBS0MsU0FBUyxDQUFDUztTQUFVLEVBQUU7WUFBRU0sTUFBTTtRQUFtQjtRQUN4RkosS0FBS0UsTUFBTSxDQUFDLFFBQVFSO1FBRXBCLGNBQWM7UUFDZCxNQUFNVyxpQkFBaUIsTUFBTTVCLE1BQ3pCLDhHQUNBO1lBQ0lTLFFBQVE7WUFDUlIsU0FBUztnQkFDTEMsZUFBZSxDQUFDLE9BQU8sRUFBRWIsT0FBTztZQUNwQztZQUNBcUIsTUFBTWE7UUFDVjtRQUdKLElBQUksQ0FBQ0ssZUFBZUMsRUFBRSxFQUFFO1lBQ3BCLE1BQU1DLFFBQVEsTUFBTUYsZUFBZXhCLElBQUk7WUFDdkMsTUFBTSxJQUFJZSxNQUFNVyxNQUFNQSxLQUFLLEVBQUVDLFdBQVc7UUFDNUM7UUFFQSxNQUFNQyxTQUFTLE1BQU1KLGVBQWV4QixJQUFJO1FBRXhDLGdDQUFnQztRQUNoQyxNQUFNSixNQUNGLENBQUMsMENBQTBDLEVBQUVnQyxPQUFPekIsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUNwRTtZQUNJRSxRQUFRO1lBQ1JSLFNBQVM7Z0JBQ0xDLGVBQWUsQ0FBQyxPQUFPLEVBQUViLE9BQU87Z0JBQ2hDLGdCQUFnQjtZQUNwQjtZQUNBcUIsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNqQnFCLE1BQU07Z0JBQ05OLE1BQU07WUFDVjtRQUNKO1FBR0osT0FBTztZQUNITyxRQUFRRixPQUFPekIsRUFBRTtZQUNqQjRCLGFBQWFILE9BQU9HLFdBQVcsSUFBSSxDQUFDLGdDQUFnQyxFQUFFSCxPQUFPekIsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUN0RjZCLGdCQUFnQkosT0FBT0ksY0FBYyxJQUFJLENBQUMsK0JBQStCLEVBQUVKLE9BQU96QixFQUFFLENBQUMsZ0JBQWdCLENBQUM7UUFDMUc7SUFDSixFQUFFLE9BQU91QixPQUFZO1FBQ2pCTyxRQUFRUCxLQUFLLENBQUMsdUJBQXVCQTtRQUNyQyxNQUFNQTtJQUNWO0FBQ0osRUFBQztBQUVELCtDQUErQztBQUN4QyxNQUFNUSxvQkFBb0IsT0FDN0JDLFNBQ0FDLFNBQ0FDO0lBRUEsTUFBTUMsWUFBWUQsVUFBVUUsT0FBTyxDQUFDLGlCQUFpQjtJQUNyRCxNQUFNQyxZQUFZLElBQUlDLE9BQU9DLFdBQVcsR0FBR0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO0lBRXhELE1BQU0sQ0FBQ0MsV0FBV0MsVUFBVSxHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztRQUM3Q25DLGNBQWN1QixTQUFTLEdBQUdHLFVBQVUsQ0FBQyxFQUFFRSxVQUFVLElBQUksQ0FBQyxFQUFFO1FBQ3hENUIsY0FBY3dCLFNBQVMsR0FBR0UsVUFBVSxDQUFDLEVBQUVFLFVBQVUsSUFBSSxDQUFDLEVBQUU7S0FDM0Q7SUFFRCxPQUFPO1FBQ0hRLFNBQVNKLFVBQVViLFdBQVc7UUFDOUJrQixTQUFTSixVQUFVZCxXQUFXO0lBQ2xDO0FBQ0osRUFBQztBQUUwQiIsInNvdXJjZXMiOlsiQzpcXEN1cnNvclxca2lkaS1ib29haVxcc2VydmljZXNcXGdvb2dsZURyaXZlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xyXG5cclxuLy8gR29vZ2xlIERyaXZlIHNlcnZpY2UgZm9yIHVwbG9hZGluZyBmaWxlc1xyXG4vLyBVc2VzIE9BdXRoMiB0byBhdXRoZW50aWNhdGUgYW5kIHVwbG9hZCBmaWxlc1xyXG5cclxuY29uc3QgR09PR0xFX0NMSUVOVF9JRCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9DTElFTlRfSUQgfHwgJydcclxuXHJcbmludGVyZmFjZSBEcml2ZVVwbG9hZFJlc3VsdCB7XHJcbiAgICBmaWxlSWQ6IHN0cmluZ1xyXG4gICAgd2ViVmlld0xpbms6IHN0cmluZ1xyXG4gICAgd2ViQ29udGVudExpbms6IHN0cmluZ1xyXG59XHJcblxyXG4vLyBTdG9yZSBhY2Nlc3MgdG9rZW5cclxubGV0IGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbFxyXG5cclxuZXhwb3J0IGNvbnN0IHNldERyaXZlQWNjZXNzVG9rZW4gPSAodG9rZW46IHN0cmluZykgPT4ge1xyXG4gICAgYWNjZXNzVG9rZW4gPSB0b2tlblxyXG4gICAgLy8gQWxzbyBzdG9yZSBpbiBzZXNzaW9uU3RvcmFnZSBmb3IgcGVyc2lzdGVuY2VcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2RyaXZlX2FjY2Vzc190b2tlbicsIHRva2VuKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RHJpdmVBY2Nlc3NUb2tlbiA9ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcclxuICAgIGlmIChhY2Nlc3NUb2tlbikgcmV0dXJuIGFjY2Vzc1Rva2VuXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZHJpdmVfYWNjZXNzX3Rva2VuJylcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBoYXNEcml2ZUFjY2VzcyA9ICgpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiAhIWdldERyaXZlQWNjZXNzVG9rZW4oKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2xlYXJEcml2ZUFjY2VzcyA9ICgpID0+IHtcclxuICAgIGFjY2Vzc1Rva2VuID0gbnVsbFxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnZHJpdmVfYWNjZXNzX3Rva2VuJylcclxuICAgIH1cclxufVxyXG5cclxuLy8gQ3JlYXRlIG9yIGdldCB0aGUgS2lkQ3JhZnQgZm9sZGVyIGluIERyaXZlXHJcbmNvbnN0IGdldE9yQ3JlYXRlRm9sZGVyID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgY29uc3QgZm9sZGVyTmFtZSA9ICdLaWRDcmFmdCBBSSBCb29rcydcclxuXHJcbiAgICAvLyBTZWFyY2ggZm9yIGV4aXN0aW5nIGZvbGRlclxyXG4gICAgY29uc3Qgc2VhcmNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXM/cT1uYW1lPScke2ZvbGRlck5hbWV9JyBhbmQgbWltZVR5cGU9J2FwcGxpY2F0aW9uL3ZuZC5nb29nbGUtYXBwcy5mb2xkZXInIGFuZCB0cmFzaGVkPWZhbHNlYCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAgfVxyXG4gICAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSBhd2FpdCBzZWFyY2hSZXNwb25zZS5qc29uKClcclxuXHJcbiAgICBpZiAoc2VhcmNoUmVzdWx0LmZpbGVzICYmIHNlYXJjaFJlc3VsdC5maWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlYXJjaFJlc3VsdC5maWxlc1swXS5pZFxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgZm9sZGVyXHJcbiAgICBjb25zdCBjcmVhdGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9kcml2ZS92My9maWxlcycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGZvbGRlck5hbWUsXHJcbiAgICAgICAgICAgICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL3ZuZC5nb29nbGUtYXBwcy5mb2xkZXInXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIGNvbnN0IGZvbGRlciA9IGF3YWl0IGNyZWF0ZVJlc3BvbnNlLmpzb24oKVxyXG4gICAgcmV0dXJuIGZvbGRlci5pZFxyXG59XHJcblxyXG4vLyBVcGxvYWQgZmlsZSB0byBHb29nbGUgRHJpdmVcclxuZXhwb3J0IGNvbnN0IHVwbG9hZFRvRHJpdmUgPSBhc3luYyAoXHJcbiAgICBmaWxlOiBCbG9iLFxyXG4gICAgZmlsZU5hbWU6IHN0cmluZyxcclxuICAgIG1pbWVUeXBlOiBzdHJpbmdcclxuKTogUHJvbWlzZTxEcml2ZVVwbG9hZFJlc3VsdD4gPT4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBnZXREcml2ZUFjY2Vzc1Rva2VuKClcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9ec15Ag157Xl9eV15HXqCDXnC1Hb29nbGUgRHJpdmUnKVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gR2V0IG9yIGNyZWF0ZSB0aGUgS2lkQ3JhZnQgZm9sZGVyXHJcbiAgICAgICAgY29uc3QgZm9sZGVySWQgPSBhd2FpdCBnZXRPckNyZWF0ZUZvbGRlcih0b2tlbilcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIG11bHRpcGFydCB1cGxvYWQgYm9keVxyXG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBmaWxlTmFtZSxcclxuICAgICAgICAgICAgcGFyZW50czogW2ZvbGRlcklkXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXHJcbiAgICAgICAgZm9ybS5hcHBlbmQoJ21ldGFkYXRhJywgbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KG1ldGFkYXRhKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAgICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgZmlsZSlcclxuXHJcbiAgICAgICAgLy8gVXBsb2FkIGZpbGVcclxuICAgICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgICAgICAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vdXBsb2FkL2RyaXZlL3YzL2ZpbGVzP3VwbG9hZFR5cGU9bXVsdGlwYXJ0JmZpZWxkcz1pZCx3ZWJWaWV3TGluayx3ZWJDb250ZW50TGluaycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYm9keTogZm9ybVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBpZiAoIXVwbG9hZFJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvcj8ubWVzc2FnZSB8fCAnVXBsb2FkIGZhaWxlZCcpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGxvYWRSZXNwb25zZS5qc29uKClcclxuXHJcbiAgICAgICAgLy8gTWFrZSBmaWxlIHB1YmxpY2x5IGFjY2Vzc2libGVcclxuICAgICAgICBhd2FpdCBmZXRjaChcclxuICAgICAgICAgICAgYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzL2ZpbGVzLyR7cmVzdWx0LmlkfS9wZXJtaXNzaW9uc2AsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxyXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogJ3JlYWRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FueW9uZSdcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGZpbGVJZDogcmVzdWx0LmlkLFxyXG4gICAgICAgICAgICB3ZWJWaWV3TGluazogcmVzdWx0LndlYlZpZXdMaW5rIHx8IGBodHRwczovL2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLyR7cmVzdWx0LmlkfS92aWV3YCxcclxuICAgICAgICAgICAgd2ViQ29udGVudExpbms6IHJlc3VsdC53ZWJDb250ZW50TGluayB8fCBgaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL3VjP2lkPSR7cmVzdWx0LmlkfSZleHBvcnQ9ZG93bmxvYWRgXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RyaXZlIHVwbG9hZCBlcnJvcjonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBVcGxvYWQgWklQIGFuZCBQREYgdG8gRHJpdmUgYW5kIHJldHVybiBsaW5rc1xyXG5leHBvcnQgY29uc3QgdXBsb2FkQm9va1RvRHJpdmUgPSBhc3luYyAoXHJcbiAgICB6aXBCbG9iOiBCbG9iLFxyXG4gICAgcGRmQmxvYjogQmxvYixcclxuICAgIGJvb2tUaXRsZTogc3RyaW5nXHJcbik6IFByb21pc2U8eyB6aXBMaW5rOiBzdHJpbmc7IHBkZkxpbms6IHN0cmluZyB9PiA9PiB7XHJcbiAgICBjb25zdCBzYWZlVGl0bGUgPSBib29rVGl0bGUucmVwbGFjZSgvW1xcXFwvOio/XCI8PnxdL2csICdfJylcclxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcblxyXG4gICAgY29uc3QgW3ppcFJlc3VsdCwgcGRmUmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICB1cGxvYWRUb0RyaXZlKHppcEJsb2IsIGAke3NhZmVUaXRsZX1fJHt0aW1lc3RhbXB9LnppcGAsICdhcHBsaWNhdGlvbi96aXAnKSxcclxuICAgICAgICB1cGxvYWRUb0RyaXZlKHBkZkJsb2IsIGAke3NhZmVUaXRsZX1fJHt0aW1lc3RhbXB9LnBkZmAsICdhcHBsaWNhdGlvbi9wZGYnKVxyXG4gICAgXSlcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHppcExpbms6IHppcFJlc3VsdC53ZWJWaWV3TGluayxcclxuICAgICAgICBwZGZMaW5rOiBwZGZSZXN1bHQud2ViVmlld0xpbmtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgR09PR0xFX0NMSUVOVF9JRCB9XHJcbiJdLCJuYW1lcyI6WyJHT09HTEVfQ0xJRU5UX0lEIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0dPT0dMRV9DTElFTlRfSUQiLCJhY2Nlc3NUb2tlbiIsInNldERyaXZlQWNjZXNzVG9rZW4iLCJ0b2tlbiIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsImdldERyaXZlQWNjZXNzVG9rZW4iLCJnZXRJdGVtIiwiaGFzRHJpdmVBY2Nlc3MiLCJjbGVhckRyaXZlQWNjZXNzIiwicmVtb3ZlSXRlbSIsImdldE9yQ3JlYXRlRm9sZGVyIiwiZm9sZGVyTmFtZSIsInNlYXJjaFJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInNlYXJjaFJlc3VsdCIsImpzb24iLCJmaWxlcyIsImxlbmd0aCIsImlkIiwiY3JlYXRlUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm5hbWUiLCJtaW1lVHlwZSIsImZvbGRlciIsInVwbG9hZFRvRHJpdmUiLCJmaWxlIiwiZmlsZU5hbWUiLCJFcnJvciIsImZvbGRlcklkIiwibWV0YWRhdGEiLCJwYXJlbnRzIiwiZm9ybSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiQmxvYiIsInR5cGUiLCJ1cGxvYWRSZXNwb25zZSIsIm9rIiwiZXJyb3IiLCJtZXNzYWdlIiwicmVzdWx0Iiwicm9sZSIsImZpbGVJZCIsIndlYlZpZXdMaW5rIiwid2ViQ29udGVudExpbmsiLCJjb25zb2xlIiwidXBsb2FkQm9va1RvRHJpdmUiLCJ6aXBCbG9iIiwicGRmQmxvYiIsImJvb2tUaXRsZSIsInNhZmVUaXRsZSIsInJlcGxhY2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsInppcFJlc3VsdCIsInBkZlJlc3VsdCIsIlByb21pc2UiLCJhbGwiLCJ6aXBMaW5rIiwicGRmTGluayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./services/googleDrive.ts\n");

/***/ }),

/***/ "(ssr)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppView: () => (/* binding */ AppView),\n/* harmony export */   GenerationStatus: () => (/* binding */ GenerationStatus)\n/* harmony export */ });\nvar AppView = /*#__PURE__*/ function(AppView) {\n    AppView[\"HOME\"] = \"HOME\";\n    AppView[\"CREATE\"] = \"CREATE\";\n    AppView[\"EDITOR\"] = \"EDITOR\";\n    AppView[\"READING\"] = \"READING\";\n    return AppView;\n}({});\nvar GenerationStatus = /*#__PURE__*/ function(GenerationStatus) {\n    GenerationStatus[\"IDLE\"] = \"IDLE\";\n    GenerationStatus[\"GENERATING_TEXT\"] = \"GENERATING_TEXT\";\n    GenerationStatus[\"GENERATING_IMAGES\"] = \"GENERATING_IMAGES\";\n    GenerationStatus[\"SUCCESS\"] = \"SUCCESS\";\n    GenerationStatus[\"ERROR\"] = \"ERROR\";\n    return GenerationStatus;\n}({});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi90eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUNPLHFDQUFLQTs7Ozs7V0FBQUE7TUFLWDtBQTZETSw4Q0FBS0M7Ozs7OztXQUFBQTtNQU1YIiwic291cmNlcyI6WyJDOlxcQ3Vyc29yXFxraWRpLWJvb2FpXFx0eXBlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGVudW0gQXBwVmlldyB7XHJcbiAgSE9NRSA9ICdIT01FJyxcclxuICBDUkVBVEUgPSAnQ1JFQVRFJyxcclxuICBFRElUT1IgPSAnRURJVE9SJyxcclxuICBSRUFESU5HID0gJ1JFQURJTkcnLFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJvb2tQYWdlIHtcclxuICBwYWdlTnVtYmVyOiBudW1iZXI7XHJcbiAgaGVicmV3VGV4dDogc3RyaW5nO1xyXG4gIGltYWdlUHJvbXB0OiBzdHJpbmc7XHJcbiAgZ2VuZXJhdGVkSW1hZ2VVcmw/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQm9va01ldGFkYXRhIHtcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIHRhcmdldEFnZTogc3RyaW5nO1xyXG4gIG1haW5UaGVtZTogc3RyaW5nO1xyXG4gIGVkdWNhdGlvbmFsTWVzc2FnZTogc3RyaW5nO1xyXG4gIG1haW5DaGFyYWN0ZXJEZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIG1haW5DaGFyYWN0ZXJEaXN0aW5jdGl2ZU1hcms6IHN0cmluZzsgLy8gTmV3OiBVbmlxdWUgdmlzdWFsIGFuY2hvclxyXG4gIHNlY29uZGFyeUNoYXJhY3RlckRlc2NyaXB0aW9uPzogc3RyaW5nOyAvLyBOZXc6IEZvciBzaWRla2lja3MgKGUuZy4sIHRoZSBiaXJkKVxyXG4gIHNlY29uZGFyeUNoYXJhY3RlckRpc3RpbmN0aXZlTWFyaz86IHN0cmluZzsgLy8gTmV3OiBVbmlxdWUgdmlzdWFsIGFuY2hvciBmb3Igc2lkZWtpY2tcclxuICBhcnRTdHlsZTogc3RyaW5nO1xyXG4gIGtleU9iamVjdERlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgYmFzZUNoYXJhY3RlckltYWdlVXJsPzogc3RyaW5nO1xyXG4gIHRpdGxlUHJpbWFyeUNvbG9yOiBzdHJpbmc7XHJcbiAgdGl0bGVTZWNvbmRhcnlDb2xvcjogc3RyaW5nO1xyXG4gIHRpdGxlRWZmZWN0VGhlbWU6ICdtYWdpY2FsJyB8ICduYXR1cmFsJyB8ICd0ZWNoJyB8ICdjbGFzc2ljJyB8ICdwbGF5ZnVsJyB8ICdlbGVnYW50JztcclxuICAvLyBOZXc6IFNwZWNpZmljIHZpc3VhbCBndWlkZSB0byBlbnN1cmUgY29uc2lzdGVuY3lcclxuICB2aXN1YWxDb25zaXN0ZW5jeUd1aWRlOiB7XHJcbiAgICBjaGFyYWN0ZXJUcmFpdHM6IHN0cmluZ1tdOyAvLyBlLmcuIFtcIkJsdWUgaGF0XCIsIFwiUmVkIGJvb3RzXCIsIFwiR29sZGVuIGN1cmxzXCJdXHJcbiAgICBvYmplY3RUcmFpdHM6IHN0cmluZ1tdOyAgICAvLyBlLmcuIFtcIkdsb3dpbmcgZ3JlZW4gc3RhZmZcIiwgXCJXb29kZW4gdGV4dHVyZVwiXVxyXG4gICAgYmFja2dyb3VuZFN0eWxlOiBzdHJpbmc7ICAgLy8gZS5nLiBcIlBhc3RlbCBkcmVhbXNjYXBlIHdpdGggZmxvYXRpbmcgaXNsYW5kc1wiXHJcbiAgfTtcclxuICAvLyBOZXc6IEF1ZGlvIENvbmZpZ3VyYXRpb25cclxuICBhdWRpb0NvbmZpZz86IHtcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICB2b2ljZU5hbWU6IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJvb2sge1xyXG4gIG1ldGFkYXRhOiBCb29rTWV0YWRhdGE7XHJcbiAgcGFnZXM6IEJvb2tQYWdlW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJldmlvdXNCb29rQ29udGV4dCB7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBzdW1tYXJ5OiBzdHJpbmc7XHJcbiAgY2hhcmFjdGVyRGVzY3JpcHRpb246IHN0cmluZztcclxuICBzZWNvbmRhcnlDaGFyYWN0ZXJEZXNjcmlwdGlvbj86IHN0cmluZztcclxuICBhcnRTdHlsZTogc3RyaW5nO1xyXG4gIGJhc2VDaGFyYWN0ZXJJbWFnZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCb29rUmVxdWVzdCB7XHJcbiAgYWdlUmFuZ2U6IHN0cmluZztcclxuICB0b3BpYzogc3RyaW5nO1xyXG4gIHBhZ2VDb3VudDogbnVtYmVyO1xyXG4gIGFydFN0eWxlPzogc3RyaW5nO1xyXG4gIHByZXZpb3VzQ29udGV4dD86IFByZXZpb3VzQm9va0NvbnRleHQ7XHJcbiAgYXVkaW9FbmFibGVkOiBib29sZWFuO1xyXG4gIHZvaWNlTmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBHZW5lcmF0aW9uU3RhdHVzIHtcclxuICBJRExFID0gJ0lETEUnLFxyXG4gIEdFTkVSQVRJTkdfVEVYVCA9ICdHRU5FUkFUSU5HX1RFWFQnLFxyXG4gIEdFTkVSQVRJTkdfSU1BR0VTID0gJ0dFTkVSQVRJTkdfSU1BR0VTJyxcclxuICBTVUNDRVNTID0gJ1NVQ0NFU1MnLFxyXG4gIEVSUk9SID0gJ0VSUk9SJyxcclxufVxyXG4iXSwibmFtZXMiOlsiQXBwVmlldyIsIkdlbmVyYXRpb25TdGF0dXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./types.ts\n");

/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/dynamic-access-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/server/app-render/dynamic-access-async-storage.external.js" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/dynamic-access-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/is-bot":
/*!***********************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/is-bot" ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/promises":
/*!***************************************!*\
  !*** external "node:stream/promises" ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/promises");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@babel","vendor-chunks/@grpc","vendor-chunks/protobufjs","vendor-chunks/google-auth-library","vendor-chunks/jszip","vendor-chunks/pako","vendor-chunks/ws","vendor-chunks/readable-stream","vendor-chunks/@protobufjs","vendor-chunks/@firebase","vendor-chunks/gaxios","vendor-chunks/jws","vendor-chunks/@swc","vendor-chunks/firebase","vendor-chunks/json-bigint","vendor-chunks/google-logging-utils","vendor-chunks/idb","vendor-chunks/gcp-metadata","vendor-chunks/string_decoder","vendor-chunks/inherits","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/fflate","vendor-chunks/@google","vendor-chunks/long","vendor-chunks/gtoken","vendor-chunks/util-deprecate","vendor-chunks/safe-buffer","vendor-chunks/process-nextick-args","vendor-chunks/lodash.camelcase","vendor-chunks/lie","vendor-chunks/jwa","vendor-chunks/jspdf","vendor-chunks/isarray","vendor-chunks/immediate","vendor-chunks/html2canvas","vendor-chunks/extend","vendor-chunks/core-util-is","vendor-chunks/buffer-equal-constant-time","vendor-chunks/bignumber.js","vendor-chunks/base64-js","vendor-chunks/@react-oauth"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5CCursor%5Ckidi-booai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CCursor%5Ckidi-booai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();